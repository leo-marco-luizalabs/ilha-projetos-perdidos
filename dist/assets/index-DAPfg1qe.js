(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=s(o);fetch(o.href,f)}})();function K0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var jf={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function Z0(){if(Xg)return Ul;Xg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:a,type:l,key:h,ref:o!==void 0?o:null,props:f}}return Ul.Fragment=n,Ul.jsx=s,Ul.jsxs=s,Ul}var Fg;function W0(){return Fg||(Fg=1,jf.exports=Z0()),jf.exports}var v=W0(),If={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function $0(){if(Kg)return ce;Kg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,$={};function oe(C,I,V){this.props=C,this.context=I,this.refs=$,this.updater=V||z}oe.prototype.isReactComponent={},oe.prototype.setState=function(C,I){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,I,"setState")},oe.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ie(){}ie.prototype=oe.prototype;function ue(C,I,V){this.props=C,this.context=I,this.refs=$,this.updater=V||z}var Ee=ue.prototype=new ie;Ee.constructor=ue,k(Ee,oe.prototype),Ee.isPureReactComponent=!0;var Ie=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},Fe=Object.prototype.hasOwnProperty;function ct(C,I,V,H,K,ge){return V=ge.ref,{$$typeof:a,type:C,key:I,ref:V!==void 0?V:null,props:ge}}function Ne(C,I){return ct(C.type,I,void 0,void 0,void 0,C.props)}function yt(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function Qt(C){var I={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(V){return I[V]})}var Rt=/\/+/g;function it(C,I){return typeof C=="object"&&C!==null&&C.key!=null?Qt(""+C.key):I.toString(36)}function Dt(){}function qt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Dt,Dt):(C.status="pending",C.then(function(I){C.status==="pending"&&(C.status="fulfilled",C.value=I)},function(I){C.status==="pending"&&(C.status="rejected",C.reason=I)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function pe(C,I,V,H,K){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var X=!1;if(C===null)X=!0;else switch(ge){case"bigint":case"string":case"number":X=!0;break;case"object":switch(C.$$typeof){case a:case n:X=!0;break;case b:return X=C._init,pe(X(C._payload),I,V,H,K)}}if(X)return K=K(C),X=H===""?"."+it(C,0):H,Ie(K)?(V="",X!=null&&(V=X.replace(Rt,"$&/")+"/"),pe(K,I,V,"",function(nn){return nn})):K!=null&&(yt(K)&&(K=Ne(K,V+(K.key==null||C&&C.key===K.key?"":(""+K.key).replace(Rt,"$&/")+"/")+X)),I.push(K)),1;X=0;var ut=H===""?".":H+":";if(Ie(C))for(var xe=0;xe<C.length;xe++)H=C[xe],ge=ut+it(H,xe),X+=pe(H,I,V,ge,K);else if(xe=E(C),typeof xe=="function")for(C=xe.call(C),xe=0;!(H=C.next()).done;)H=H.value,ge=ut+it(H,xe++),X+=pe(H,I,V,ge,K);else if(ge==="object"){if(typeof C.then=="function")return pe(qt(C),I,V,H,K);throw I=String(C),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return X}function D(C,I,V){if(C==null)return C;var H=[],K=0;return pe(C,H,"","",function(ge){return I.call(V,ge,K++)}),H}function B(C){if(C._status===-1){var I=C._result;I=I(),I.then(function(V){(C._status===0||C._status===-1)&&(C._status=1,C._result=V)},function(V){(C._status===0||C._status===-1)&&(C._status=2,C._result=V)}),C._status===-1&&(C._status=0,C._result=I)}if(C._status===1)return C._result.default;throw C._result}var W=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ce(){}return ce.Children={map:D,forEach:function(C,I,V){D(C,function(){I.apply(this,arguments)},V)},count:function(C){var I=0;return D(C,function(){I++}),I},toArray:function(C){return D(C,function(I){return I})||[]},only:function(C){if(!yt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ce.Component=oe,ce.Fragment=s,ce.Profiler=o,ce.PureComponent=ue,ce.StrictMode=l,ce.Suspense=g,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,ce.__COMPILER_RUNTIME={__proto__:null,c:function(C){return fe.H.useMemoCache(C)}},ce.cache=function(C){return function(){return C.apply(null,arguments)}},ce.cloneElement=function(C,I,V){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var H=k({},C.props),K=C.key,ge=void 0;if(I!=null)for(X in I.ref!==void 0&&(ge=void 0),I.key!==void 0&&(K=""+I.key),I)!Fe.call(I,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&I.ref===void 0||(H[X]=I[X]);var X=arguments.length-2;if(X===1)H.children=V;else if(1<X){for(var ut=Array(X),xe=0;xe<X;xe++)ut[xe]=arguments[xe+2];H.children=ut}return ct(C.type,K,void 0,void 0,ge,H)},ce.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},ce.createElement=function(C,I,V){var H,K={},ge=null;if(I!=null)for(H in I.key!==void 0&&(ge=""+I.key),I)Fe.call(I,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(K[H]=I[H]);var X=arguments.length-2;if(X===1)K.children=V;else if(1<X){for(var ut=Array(X),xe=0;xe<X;xe++)ut[xe]=arguments[xe+2];K.children=ut}if(C&&C.defaultProps)for(H in X=C.defaultProps,X)K[H]===void 0&&(K[H]=X[H]);return ct(C,ge,void 0,void 0,null,K)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(C){return{$$typeof:m,render:C}},ce.isValidElement=yt,ce.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:B}},ce.memo=function(C,I){return{$$typeof:p,type:C,compare:I===void 0?null:I}},ce.startTransition=function(C){var I=fe.T,V={};fe.T=V;try{var H=C(),K=fe.S;K!==null&&K(V,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Ce,W)}catch(ge){W(ge)}finally{fe.T=I}},ce.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},ce.use=function(C){return fe.H.use(C)},ce.useActionState=function(C,I,V){return fe.H.useActionState(C,I,V)},ce.useCallback=function(C,I){return fe.H.useCallback(C,I)},ce.useContext=function(C){return fe.H.useContext(C)},ce.useDebugValue=function(){},ce.useDeferredValue=function(C,I){return fe.H.useDeferredValue(C,I)},ce.useEffect=function(C,I,V){var H=fe.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(C,I)},ce.useId=function(){return fe.H.useId()},ce.useImperativeHandle=function(C,I,V){return fe.H.useImperativeHandle(C,I,V)},ce.useInsertionEffect=function(C,I){return fe.H.useInsertionEffect(C,I)},ce.useLayoutEffect=function(C,I){return fe.H.useLayoutEffect(C,I)},ce.useMemo=function(C,I){return fe.H.useMemo(C,I)},ce.useOptimistic=function(C,I){return fe.H.useOptimistic(C,I)},ce.useReducer=function(C,I,V){return fe.H.useReducer(C,I,V)},ce.useRef=function(C){return fe.H.useRef(C)},ce.useState=function(C){return fe.H.useState(C)},ce.useSyncExternalStore=function(C,I,V){return fe.H.useSyncExternalStore(C,I,V)},ce.useTransition=function(){return fe.H.useTransition()},ce.version="19.1.1",ce}var Zg;function Eh(){return Zg||(Zg=1,If.exports=$0()),If.exports}var P=Eh();const Wg=K0(P);var zf={exports:{}},Ll={},kf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function J0(){return $g||($g=1,function(a){function n(D,B){var W=D.length;D.push(B);e:for(;0<W;){var Ce=W-1>>>1,C=D[Ce];if(0<o(C,B))D[Ce]=B,D[W]=C,W=Ce;else break e}}function s(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var B=D[0],W=D.pop();if(W!==B){D[0]=W;e:for(var Ce=0,C=D.length,I=C>>>1;Ce<I;){var V=2*(Ce+1)-1,H=D[V],K=V+1,ge=D[K];if(0>o(H,W))K<C&&0>o(ge,H)?(D[Ce]=ge,D[K]=W,Ce=K):(D[Ce]=H,D[V]=W,Ce=V);else if(K<C&&0>o(ge,W))D[Ce]=ge,D[K]=W,Ce=K;else break e}}return B}function o(D,B){var W=D.sortIndex-B.sortIndex;return W!==0?W:D.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],p=[],b=1,y=null,E=3,z=!1,k=!1,$=!1,oe=!1,ie=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function Ie(D){for(var B=s(p);B!==null;){if(B.callback===null)l(p);else if(B.startTime<=D)l(p),B.sortIndex=B.expirationTime,n(g,B);else break;B=s(p)}}function fe(D){if($=!1,Ie(D),!k)if(s(g)!==null)k=!0,Fe||(Fe=!0,it());else{var B=s(p);B!==null&&pe(fe,B.startTime-D)}}var Fe=!1,ct=-1,Ne=5,yt=-1;function Qt(){return oe?!0:!(a.unstable_now()-yt<Ne)}function Rt(){if(oe=!1,Fe){var D=a.unstable_now();yt=D;var B=!0;try{e:{k=!1,$&&($=!1,ue(ct),ct=-1),z=!0;var W=E;try{t:{for(Ie(D),y=s(g);y!==null&&!(y.expirationTime>D&&Qt());){var Ce=y.callback;if(typeof Ce=="function"){y.callback=null,E=y.priorityLevel;var C=Ce(y.expirationTime<=D);if(D=a.unstable_now(),typeof C=="function"){y.callback=C,Ie(D),B=!0;break t}y===s(g)&&l(g),Ie(D)}else l(g);y=s(g)}if(y!==null)B=!0;else{var I=s(p);I!==null&&pe(fe,I.startTime-D),B=!1}}break e}finally{y=null,E=W,z=!1}B=void 0}}finally{B?it():Fe=!1}}}var it;if(typeof Ee=="function")it=function(){Ee(Rt)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,qt=Dt.port2;Dt.port1.onmessage=Rt,it=function(){qt.postMessage(null)}}else it=function(){ie(Rt,0)};function pe(D,B){ct=ie(function(){D(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(D){switch(E){case 1:case 2:case 3:var B=3;break;default:B=E}var W=E;E=B;try{return D()}finally{E=W}},a.unstable_requestPaint=function(){oe=!0},a.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=E;E=D;try{return B()}finally{E=W}},a.unstable_scheduleCallback=function(D,B,W){var Ce=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ce+W:Ce):W=Ce,D){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=W+C,D={id:b++,callback:B,priorityLevel:D,startTime:W,expirationTime:C,sortIndex:-1},W>Ce?(D.sortIndex=W,n(p,D),s(g)===null&&D===s(p)&&($?(ue(ct),ct=-1):$=!0,pe(fe,W-Ce))):(D.sortIndex=C,n(g,D),k||z||(k=!0,Fe||(Fe=!0,it()))),D},a.unstable_shouldYield=Qt,a.unstable_wrapCallback=function(D){var B=E;return function(){var W=E;E=B;try{return D.apply(this,arguments)}finally{E=W}}}}(Uf)),Uf}var Jg;function eS(){return Jg||(Jg=1,kf.exports=J0()),kf.exports}var Lf={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function tS(){if(e_)return Ht;e_=1;var a=Eh();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:g,containerInfo:p,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ht.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return f(g,p,null,b)},Ht.flushSync=function(g){var p=h.T,b=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=b,l.d.f()}},Ht.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},Ht.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Ht.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,y=m(b,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,z=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:z}):b==="script"&&l.d.X(g,{crossOrigin:y,integrity:E,fetchPriority:z,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ht.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},Ht.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,y=m(b,p.crossOrigin);l.d.L(g,b,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ht.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},Ht.requestFormReset=function(g){l.d.r(g)},Ht.unstable_batchedUpdates=function(g,p){return g(p)},Ht.useFormState=function(g,p,b){return h.H.useFormState(g,p,b)},Ht.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ht.version="19.1.1",Ht}var t_;function nS(){if(t_)return Lf.exports;t_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Lf.exports=tS(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function iS(){if(n_)return Ll;n_=1;var a=eS(),n=Eh(),s=nS();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(l(188));return t!==e?null:e}for(var i=e,r=t;;){var c=i.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===i)return m(c),e;if(u===r)return m(c),t;u=u.sibling}throw Error(l(188))}if(i.return!==r.return)i=c,r=u;else{for(var d=!1,_=c.child;_;){if(_===i){d=!0,i=c,r=u;break}if(_===r){d=!0,r=c,i=u;break}_=_.sibling}if(!d){for(_=u.child;_;){if(_===i){d=!0,i=u,r=c;break}if(_===r){d=!0,r=u,i=c;break}_=_.sibling}if(!d)throw Error(l(189))}}if(i.alternate!==r)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),yt=Symbol.for("react.activity"),Qt=Symbol.for("react.memo_cache_sentinel"),Rt=Symbol.iterator;function it(e){return e===null||typeof e!="object"?null:(e=Rt&&e[Rt]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Dt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case oe:return"Profiler";case $:return"StrictMode";case fe:return"Suspense";case Fe:return"SuspenseList";case yt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case Ee:return(e.displayName||"Context")+".Provider";case ue:return(e._context.displayName||"Context")+".Consumer";case Ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ct:return t=e.displayName||null,t!==null?t:qt(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return qt(e(t))}catch{}}return null}var pe=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Ce=[],C=-1;function I(e){return{current:e}}function V(e){0>C||(e.current=Ce[C],Ce[C]=null,C--)}function H(e,t){C++,Ce[C]=e.current,e.current=t}var K=I(null),ge=I(null),X=I(null),ut=I(null);function xe(e,t){switch(H(X,t),H(ge,e),H(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sg(t),e=Eg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(K),H(K,e)}function nn(){V(K),V(ge),V(X)}function os(e){e.memoizedState!==null&&H(ut,e);var t=K.current,i=Eg(t,e.type);t!==i&&(H(ge,e),H(K,i))}function ei(e){ge.current===e&&(V(K),V(ge)),ut.current===e&&(V(ut),Ml._currentValue=W)}var On=Object.prototype.hasOwnProperty,qn=a.unstable_scheduleCallback,Yn=a.unstable_cancelCallback,cs=a.unstable_shouldYield,Hs=a.unstable_requestPaint,ft=a.unstable_now,Ha=a.unstable_getCurrentPriorityLevel,Ci=a.unstable_ImmediatePriority,re=a.unstable_UserBlockingPriority,ee=a.unstable_NormalPriority,U=a.unstable_LowPriority,Q=a.unstable_IdlePriority,Z=a.log,We=a.unstable_setDisableYieldValue,Te=null,we=null;function $e(e){if(typeof Z=="function"&&We(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Te,e)}catch{}}var Ye=Math.clz32?Math.clz32:kt,ti=Math.log,Gn=Math.LN2;function kt(e){return e>>>=0,e===0?32:31-(ti(e)/Gn|0)|0}var Mn=256,jn=4194304;function Pt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function In(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~u,r!==0?c=Pt(r):(d&=_,d!==0?c=Pt(d):i||(i=_&~e,i!==0&&(c=Pt(i))))):(_=r&~u,_!==0?c=Pt(_):d!==0?c=Pt(d):i||(i=r&~e,i!==0&&(c=Pt(i)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:c}function _n(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Sc(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(){var e=Mn;return Mn<<=1,(Mn&4194048)===0&&(Mn=256),e}function vr(){var e=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),e}function Va(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function us(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ec(e,t,i,r,c,u){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,S=e.expirationTimes,x=e.hiddenUpdates;for(i=d&~i;0<i;){var O=31-Ye(i),j=1<<O;_[O]=0,S[O]=-1;var w=x[O];if(w!==null)for(x[O]=null,O=0;O<w.length;O++){var R=w[O];R!==null&&(R.lane&=-536870913)}i&=~j}r!==0&&yr(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(d&~t))}function yr(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ye(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&4194090}function Vs(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Ye(i),c=1<<r;c&t|e[r]&t&&(e[r]|=t),i&=~c}}function qa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function br(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Vg(e.type))}function Cc(e,t){var i=B.p;try{return B.p=e,t()}finally{B.p=i}}var Qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Qn,Ut="__reactProps$"+Qn,Ti="__reactContainer$"+Qn,Ya="__reactEvents$"+Qn,Tc="__reactListeners$"+Qn,Nc="__reactHandles$"+Qn,Sr="__reactResources$"+Qn,fs="__reactMarker$"+Qn;function Ga(e){delete e[bt],delete e[Ut],delete e[Ya],delete e[Tc],delete e[Nc]}function Ni(e){var t=e[bt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ti]||i[bt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Ag(e);e!==null;){if(i=e[bt])return i;e=Ag(e)}return t}e=i,i=e.parentNode}return null}function ni(e){if(e=e[bt]||e[Ti]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function hs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function q(e){var t=e[Sr];return t||(t=e[Sr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function G(e){e[fs]=!0}var ye=new Set,Je={};function et(e,t){Xt(e,t),Xt(e+"Capture",t)}function Xt(e,t){for(Je[e]=t,e=0;e<t.length;e++)ye.add(t[e])}var Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),le={},Ot={};function ht(e){return On.call(Ot,e)?!0:On.call(le,e)?!1:Xe.test(e)?Ot[e]=!0:(le[e]=!0,!1)}function lt(e,t,i){if(ht(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Lt(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function sn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}var Ac,md;function Ys(e){if(Ac===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ac=t&&t[1]||"",md=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ac+e+md}var xc=!1;function wc(e,t){if(!e||xc)return"";xc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(R){var w=R}Reflect.construct(e,[],j)}else{try{j.call()}catch(R){w=R}e.call(j.prototype)}}else{try{throw Error()}catch(R){w=R}(j=e())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(R){if(R&&w&&typeof R.stack=="string")return[R.stack,w.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),d=u[0],_=u[1];if(d&&_){var S=d.split(`
`),x=_.split(`
`);for(c=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;if(r===S.length||c===x.length)for(r=S.length-1,c=x.length-1;1<=r&&0<=c&&S[r]!==x[c];)c--;for(;1<=r&&0<=c;r--,c--)if(S[r]!==x[c]){if(r!==1||c!==1)do if(r--,c--,0>c||S[r]!==x[c]){var O=`
`+S[r].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=r&&0<=c);break}}}finally{xc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ys(i):""}function Yy(e){switch(e.tag){case 26:case 27:case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 15:return wc(e.type,!1);case 11:return wc(e.type.render,!1);case 1:return wc(e.type,!0);case 31:return Ys("Activity");default:return""}}function pd(e){try{var t="";do t+=Yy(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gy(e){var t=gd(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(d){r=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Er(e){e._valueTracker||(e._valueTracker=Gy(e))}function _d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=gd(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qy=/[\n"\\]/g;function yn(e){return e.replace(Qy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Rc(e,t,i,r,c,u,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vn(t)):e.value!==""+vn(t)&&(e.value=""+vn(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Dc(e,d,vn(t)):i!=null?Dc(e,d,vn(i)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+vn(_):e.removeAttribute("name")}function vd(e,t,i,r,c,u,d,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;i=i!=null?""+vn(i):"",t=t!=null?""+vn(t):i,_||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function Dc(e,t,i){t==="number"&&Cr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Gs(e,t,i,r){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&r&&(e[i].defaultSelected=!0)}else{for(i=""+vn(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function yd(e,t,i){if(t!=null&&(t=""+vn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+vn(i):""}function bd(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(l(92));if(pe(r)){if(1<r.length)throw Error(l(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=vn(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r)}function Qs(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Py=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||Py.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Ed(e,t,i){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&i[c]!==r&&Sd(e,c,r)}else for(var u in t)t.hasOwnProperty(u)&&Sd(e,u,t[u])}function Oc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(e){return Fy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mc=null;function jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ps=null,Xs=null;function Cd(e){var t=ni(e);if(t&&(e=t.stateNode)){var i=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(Rc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+yn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var c=r[Ut]||null;if(!c)throw Error(l(90));Rc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&_d(r)}break e;case"textarea":yd(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Gs(e,!!i.multiple,t,!1)}}}var Ic=!1;function Td(e,t,i){if(Ic)return e(t,i);Ic=!0;try{var r=e(t);return r}finally{if(Ic=!1,(Ps!==null||Xs!==null)&&(co(),Ps&&(t=Ps,e=Xs,Xs=Ps=null,Cd(t),e)))for(t=0;t<e.length;t++)Cd(e[t])}}function Qa(e,t){var i=e.stateNode;if(i===null)return null;var r=i[Ut]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,t,typeof i));return i}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=!1;if(ii)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{zc=!1}var Ai=null,kc=null,Nr=null;function Nd(){if(Nr)return Nr;var e,t=kc,i=t.length,r,c="value"in Ai?Ai.value:Ai.textContent,u=c.length;for(e=0;e<i&&t[e]===c[e];e++);var d=i-e;for(r=1;r<=d&&t[i-r]===c[u-r];r++);return Nr=c.slice(e,1<r?1-r:void 0)}function Ar(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xr(){return!0}function Ad(){return!1}function Ft(e){function t(i,r,c,u,d){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?xr:Ad,this.isPropagationStopped=Ad,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Ft(ds),Xa=b({},ds,{view:0,detail:0}),Ky=Ft(Xa),Uc,Lc,Fa,Rr=b({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(Uc=e.screenX-Fa.screenX,Lc=e.screenY-Fa.screenY):Lc=Uc=0,Fa=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:Lc}}),xd=Ft(Rr),Zy=b({},Rr,{dataTransfer:0}),Wy=Ft(Zy),$y=b({},Xa,{relatedTarget:0}),Bc=Ft($y),Jy=b({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),eb=Ft(Jy),tb=b({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nb=Ft(tb),ib=b({},ds,{data:0}),wd=Ft(ib),sb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ab={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lb[e])?!!t[e]:!1}function Hc(){return rb}var ob=b({},Xa,{key:function(e){if(e.key){var t=sb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ab[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cb=Ft(ob),ub=b({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=Ft(ub),fb=b({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),hb=Ft(fb),db=b({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),mb=Ft(db),pb=b({},Rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gb=Ft(pb),_b=b({},ds,{newState:0,oldState:0}),vb=Ft(_b),yb=[9,13,27,32],Vc=ii&&"CompositionEvent"in window,Ka=null;ii&&"documentMode"in document&&(Ka=document.documentMode);var bb=ii&&"TextEvent"in window&&!Ka,Dd=ii&&(!Vc||Ka&&8<Ka&&11>=Ka),Od=" ",Md=!1;function jd(e,t){switch(e){case"keyup":return yb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fs=!1;function Sb(e,t){switch(e){case"compositionend":return Id(t);case"keypress":return t.which!==32?null:(Md=!0,Od);case"textInput":return e=t.data,e===Od&&Md?null:e;default:return null}}function Eb(e,t){if(Fs)return e==="compositionend"||!Vc&&jd(e,t)?(e=Nd(),Nr=kc=Ai=null,Fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dd&&t.locale!=="ko"?null:t.data;default:return null}}var Cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cb[e.type]:t==="textarea"}function kd(e,t,i,r){Ps?Xs?Xs.push(r):Xs=[r]:Ps=r,t=go(t,"onChange"),0<t.length&&(i=new wr("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Za=null,Wa=null;function Tb(e){gg(e,0)}function Dr(e){var t=hs(e);if(_d(t))return e}function Ud(e,t){if(e==="change")return t}var Ld=!1;if(ii){var qc;if(ii){var Yc="oninput"in document;if(!Yc){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Yc=typeof Bd.oninput=="function"}qc=Yc}else qc=!1;Ld=qc&&(!document.documentMode||9<document.documentMode)}function Hd(){Za&&(Za.detachEvent("onpropertychange",Vd),Wa=Za=null)}function Vd(e){if(e.propertyName==="value"&&Dr(Wa)){var t=[];kd(t,Wa,e,jc(e)),Td(Tb,t)}}function Nb(e,t,i){e==="focusin"?(Hd(),Za=t,Wa=i,Za.attachEvent("onpropertychange",Vd)):e==="focusout"&&Hd()}function Ab(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dr(Wa)}function xb(e,t){if(e==="click")return Dr(t)}function wb(e,t){if(e==="input"||e==="change")return Dr(t)}function Rb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:Rb;function $a(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!On.call(t,c)||!an(e[c],t[c]))return!1}return!0}function qd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yd(e,t){var i=qd(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=qd(i)}}function Gd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Cr(e.document)}return t}function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Db=ii&&"documentMode"in document&&11>=document.documentMode,Ks=null,Qc=null,Ja=null,Pc=!1;function Pd(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Pc||Ks==null||Ks!==Cr(r)||(r=Ks,"selectionStart"in r&&Gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ja&&$a(Ja,r)||(Ja=r,r=go(Qc,"onSelect"),0<r.length&&(t=new wr("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=Ks)))}function ms(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Zs={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Xc={},Xd={};ii&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function ps(e){if(Xc[e])return Xc[e];if(!Zs[e])return e;var t=Zs[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Xd)return Xc[e]=t[i];return e}var Fd=ps("animationend"),Kd=ps("animationiteration"),Zd=ps("animationstart"),Ob=ps("transitionrun"),Mb=ps("transitionstart"),jb=ps("transitioncancel"),Wd=ps("transitionend"),$d=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function zn(e,t){$d.set(e,t),et(t,[e])}var Jd=new WeakMap;function bn(e,t){if(typeof e=="object"&&e!==null){var i=Jd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:pd(t)},Jd.set(e,t),t)}return{value:e,source:t,stack:pd(t)}}var Sn=[],Ws=0,Kc=0;function Or(){for(var e=Ws,t=Kc=Ws=0;t<e;){var i=Sn[t];Sn[t++]=null;var r=Sn[t];Sn[t++]=null;var c=Sn[t];Sn[t++]=null;var u=Sn[t];if(Sn[t++]=null,r!==null&&c!==null){var d=r.pending;d===null?c.next=c:(c.next=d.next,d.next=c),r.pending=c}u!==0&&em(i,c,u)}}function Mr(e,t,i,r){Sn[Ws++]=e,Sn[Ws++]=t,Sn[Ws++]=i,Sn[Ws++]=r,Kc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Zc(e,t,i,r){return Mr(e,t,i,r),jr(e)}function $s(e,t){return Mr(e,null,null,t),jr(e)}function em(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var c=!1,u=e.return;u!==null;)u.childLanes|=i,r=u.alternate,r!==null&&(r.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-Ye(i),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=i|536870912),u):null}function jr(e){if(50<Tl)throw Tl=0,nf=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Js={};function Ib(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,i,r){return new Ib(e,t,i,r)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function si(e,t){var i=e.alternate;return i===null?(i=ln(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function tm(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ir(e,t,i,r,c,u){var d=0;if(r=e,typeof e=="function")Wc(e)&&(d=1);else if(typeof e=="string")d=k0(e,i,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case yt:return e=ln(31,i,t,c),e.elementType=yt,e.lanes=u,e;case k:return gs(i.children,c,u,t);case $:d=8,c|=24;break;case oe:return e=ln(12,i,t,c|2),e.elementType=oe,e.lanes=u,e;case fe:return e=ln(13,i,t,c),e.elementType=fe,e.lanes=u,e;case Fe:return e=ln(19,i,t,c),e.elementType=Fe,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:case Ee:d=10;break e;case ue:d=9;break e;case Ie:d=11;break e;case ct:d=14;break e;case Ne:d=16,r=null;break e}d=29,i=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=ln(d,i,t,c),t.elementType=e,t.type=r,t.lanes=u,t}function gs(e,t,i,r){return e=ln(7,e,r,t),e.lanes=i,e}function $c(e,t,i){return e=ln(6,e,null,t),e.lanes=i,e}function Jc(e,t,i){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ea=[],ta=0,zr=null,kr=0,En=[],Cn=0,_s=null,ai=1,li="";function vs(e,t){ea[ta++]=kr,ea[ta++]=zr,zr=e,kr=t}function nm(e,t,i){En[Cn++]=ai,En[Cn++]=li,En[Cn++]=_s,_s=e;var r=ai;e=li;var c=32-Ye(r)-1;r&=~(1<<c),i+=1;var u=32-Ye(t)+c;if(30<u){var d=c-c%5;u=(r&(1<<d)-1).toString(32),r>>=d,c-=d,ai=1<<32-Ye(t)+c|i<<c|r,li=u+e}else ai=1<<u|i<<c|r,li=e}function eu(e){e.return!==null&&(vs(e,1),nm(e,1,0))}function tu(e){for(;e===zr;)zr=ea[--ta],ea[ta]=null,kr=ea[--ta],ea[ta]=null;for(;e===_s;)_s=En[--Cn],En[Cn]=null,li=En[--Cn],En[Cn]=null,ai=En[--Cn],En[Cn]=null}var Yt=null,st=null,Me=!1,ys=null,Pn=!1,nu=Error(l(519));function bs(e){var t=Error(l(418,""));throw nl(bn(t,e)),nu}function im(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[bt]=e,t[Ut]=r,i){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(i=0;i<Al.length;i++)Se(Al[i],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),vd(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Er(t);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),bd(t,r.value,r.defaultValue,r.children),Er(t)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||bg(t.textContent,i)?(r.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),r.onScroll!=null&&Se("scroll",t),r.onScrollEnd!=null&&Se("scrollend",t),r.onClick!=null&&(t.onclick=_o),t=!0):t=!1,t||bs(e)}function sm(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Yt=Yt.return}}function el(e){if(e!==Yt)return!1;if(!Me)return sm(e),Me=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||yf(e.type,e.memoizedProps)),i=!i),i&&st&&bs(e),sm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){st=Un(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}st=null}}else t===27?(t=st,qi(e.type)?(e=Cf,Cf=null,st=e):st=t):st=Yt?Un(e.stateNode.nextSibling):null;return!0}function tl(){st=Yt=null,Me=!1}function am(){var e=ys;return e!==null&&(Wt===null?Wt=e:Wt.push.apply(Wt,e),ys=null),e}function nl(e){ys===null?ys=[e]:ys.push(e)}var iu=I(null),Ss=null,ri=null;function xi(e,t,i){H(iu,t._currentValue),t._currentValue=i}function oi(e){e._currentValue=iu.current,V(iu)}function su(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function au(e,t,i,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var d=c.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=c;for(var S=0;S<t.length;S++)if(_.context===t[S]){u.lanes|=i,_=u.alternate,_!==null&&(_.lanes|=i),su(u.return,i,e),r||(d=null);break e}u=_.next}}else if(c.tag===18){if(d=c.return,d===null)throw Error(l(341));d.lanes|=i,u=d.alternate,u!==null&&(u.lanes|=i),su(d,i,e),d=null}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}}function il(e,t,i,r){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var d=c.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=c.type;an(c.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(c===ut.current){if(d=c.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ml):e=[Ml])}c=c.return}e!==null&&au(t,e,i,r),t.flags|=262144}function Ur(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){Ss=e,ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return lm(Ss,e)}function Lr(e,t){return Ss===null&&Es(e),lm(e,t)}function lm(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},ri===null){if(e===null)throw Error(l(308));ri=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ri=ri.next=t;return i}var zb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},kb=a.unstable_scheduleCallback,Ub=a.unstable_NormalPriority,gt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lu(){return{controller:new zb,data:new Map,refCount:0}}function sl(e){e.refCount--,e.refCount===0&&kb(Ub,function(){e.controller.abort()})}var al=null,ru=0,na=0,ia=null;function Lb(e,t){if(al===null){var i=al=[];ru=0,na=uf(),ia={status:"pending",value:void 0,then:function(r){i.push(r)}}}return ru++,t.then(rm,rm),t}function rm(){if(--ru===0&&al!==null){ia!==null&&(ia.status="fulfilled");var e=al;al=null,na=0,ia=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bb(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var om=D.S;D.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Lb(e,t),om!==null&&om(e,t)};var Cs=I(null);function ou(){var e=Cs.current;return e!==null?e:Ge.pooledCache}function Br(e,t){t===null?H(Cs,Cs.current):H(Cs,t.pool)}function cm(){var e=ou();return e===null?null:{parent:gt._currentValue,pool:e}}var ll=Error(l(460)),um=Error(l(474)),Hr=Error(l(542)),cu={then:function(){}};function fm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vr(){}function hm(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Vr,Vr),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mm(e),e;default:if(typeof t.status=="string")t.then(Vr,Vr);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mm(e),e}throw rl=t,ll}}var rl=null;function dm(){if(rl===null)throw Error(l(459));var e=rl;return rl=null,e}function mm(e){if(e===ll||e===Hr)throw Error(l(483))}var wi=!1;function uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Di(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ze&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=jr(e),em(e,null,i),t}return Mr(e,r,t,i),jr(e)}function ol(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Vs(e,i)}}function hu(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?c=u=d:u=u.next=d,i=i.next}while(i!==null);u===null?c=u=t:u=u.next=t}else c=u=t;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var du=!1;function cl(){if(du){var e=ia;if(e!==null)throw e}}function ul(e,t,i,r){du=!1;var c=e.updateQueue;wi=!1;var u=c.firstBaseUpdate,d=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var S=_,x=S.next;S.next=null,d===null?u=x:d.next=x,d=S;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==d&&(_===null?O.firstBaseUpdate=x:_.next=x,O.lastBaseUpdate=S))}if(u!==null){var j=c.baseState;d=0,O=x=S=null,_=u;do{var w=_.lane&-536870913,R=w!==_.lane;if(R?(Ae&w)===w:(r&w)===w){w!==0&&w===na&&(du=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ae=e,J=_;w=t;var Be=i;switch(J.tag){case 1:if(ae=J.payload,typeof ae=="function"){j=ae.call(Be,j,w);break e}j=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=J.payload,w=typeof ae=="function"?ae.call(Be,j,w):ae,w==null)break e;j=b({},j,w);break e;case 2:wi=!0}}w=_.callback,w!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[w]:R.push(w))}else R={lane:w,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(x=O=R,S=j):O=O.next=R,d|=w;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);O===null&&(S=j),c.baseState=S,c.firstBaseUpdate=x,c.lastBaseUpdate=O,u===null&&(c.shared.lanes=0),Li|=d,e.lanes=d,e.memoizedState=j}}function pm(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function gm(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)pm(i[e],t)}var sa=I(null),qr=I(0);function _m(e,t){e=pi,H(qr,e),H(sa,t),pi=e|t.baseLanes}function mu(){H(qr,pi),H(sa,sa.current)}function pu(){pi=qr.current,V(sa),V(qr)}var Oi=0,he=null,Ue=null,dt=null,Yr=!1,aa=!1,Ts=!1,Gr=0,fl=0,la=null,Hb=0;function rt(){throw Error(l(321))}function gu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!an(e[i],t[i]))return!1;return!0}function _u(e,t,i,r,c,u){return Oi=u,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?ep:tp,Ts=!1,u=i(r,c),Ts=!1,aa&&(u=ym(t,i,r,c)),vm(e),u}function vm(e){D.H=Zr;var t=Ue!==null&&Ue.next!==null;if(Oi=0,dt=Ue=he=null,Yr=!1,fl=0,la=null,t)throw Error(l(300));e===null||St||(e=e.dependencies,e!==null&&Ur(e)&&(St=!0))}function ym(e,t,i,r){he=e;var c=0;do{if(aa&&(la=null),fl=0,aa=!1,25<=c)throw Error(l(301));if(c+=1,dt=Ue=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Xb,u=t(i,r)}while(aa);return u}function Vb(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?hl(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(he.flags|=1024),t}function vu(){var e=Gr!==0;return Gr=0,e}function yu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function bu(e){if(Yr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yr=!1}Oi=0,dt=Ue=he=null,aa=!1,fl=Gr=0,la=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?he.memoizedState=dt=e:dt=dt.next=e,dt}function mt(){if(Ue===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=dt===null?he.memoizedState:dt.next;if(t!==null)dt=t,Ue=e;else{if(e===null)throw he.alternate===null?Error(l(467)):Error(l(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},dt===null?he.memoizedState=dt=e:dt=dt.next=e}return dt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(e){var t=fl;return fl+=1,la===null&&(la=[]),e=hm(la,e,t),t=he,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?ep:tp),e}function Qr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hl(e);if(e.$$typeof===Ee)return Bt(e)}throw Error(l(438,String(e)))}function Eu(e){var t=null,i=he.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=he.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Su(),he.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=Qt;return t.index++,i}function ci(e,t){return typeof t=="function"?t(e):t}function Pr(e){var t=mt();return Cu(t,Ue,e)}function Cu(e,t,i){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=i;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var d=c.next;c.next=u.next,u.next=d}t.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var _=d=null,S=null,x=t,O=!1;do{var j=x.lane&-536870913;if(j!==x.lane?(Ae&j)===j:(Oi&j)===j){var w=x.revertLane;if(w===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),j===na&&(O=!0);else if((Oi&w)===w){x=x.next,w===na&&(O=!0);continue}else j={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(_=S=j,d=u):S=S.next=j,he.lanes|=w,Li|=w;j=x.action,Ts&&i(u,j),u=x.hasEagerState?x.eagerState:i(u,j)}else w={lane:j,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},S===null?(_=S=w,d=u):S=S.next=w,he.lanes|=j,Li|=j;x=x.next}while(x!==null&&x!==t);if(S===null?d=u:S.next=_,!an(u,e.memoizedState)&&(St=!0,O&&(i=ia,i!==null)))throw i;e.memoizedState=u,e.baseState=d,e.baseQueue=S,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Tu(e){var t=mt(),i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var r=i.dispatch,c=i.pending,u=t.memoizedState;if(c!==null){i.pending=null;var d=c=c.next;do u=e(u,d.action),d=d.next;while(d!==c);an(u,t.memoizedState)||(St=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,r]}function bm(e,t,i){var r=he,c=mt(),u=Me;if(u){if(i===void 0)throw Error(l(407));i=i()}else i=t();var d=!an((Ue||c).memoizedState,i);d&&(c.memoizedState=i,St=!0),c=c.queue;var _=Cm.bind(null,r,c,e);if(dl(2048,8,_,[e]),c.getSnapshot!==t||d||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,ra(9,Xr(),Em.bind(null,r,c,i,t),null),Ge===null)throw Error(l(349));u||(Oi&124)!==0||Sm(r,t,i)}return i}function Sm(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=he.updateQueue,t===null?(t=Su(),he.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Em(e,t,i,r){t.value=i,t.getSnapshot=r,Tm(t)&&Nm(e)}function Cm(e,t,i){return i(function(){Tm(t)&&Nm(e)})}function Tm(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!an(e,i)}catch{return!0}}function Nm(e){var t=$s(e,2);t!==null&&fn(t,e,2)}function Nu(e){var t=Kt();if(typeof e=="function"){var i=e;if(e=i(),Ts){$e(!0);try{i()}finally{$e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},t}function Am(e,t,i,r){return e.baseState=i,Cu(e,Ue,typeof r=="function"?r:ci)}function qb(e,t,i,r,c){if(Kr(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){u.listeners.push(d)}};D.T!==null?i(!0):u.isTransition=!1,r(u),i=t.pending,i===null?(u.next=t.pending=u,xm(t,u)):(u.next=i.next,t.pending=i.next=u)}}function xm(e,t){var i=t.action,r=t.payload,c=e.state;if(t.isTransition){var u=D.T,d={};D.T=d;try{var _=i(c,r),S=D.S;S!==null&&S(d,_),wm(e,t,_)}catch(x){Au(e,t,x)}finally{D.T=u}}else try{u=i(c,r),wm(e,t,u)}catch(x){Au(e,t,x)}}function wm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Rm(e,t,r)},function(r){return Au(e,t,r)}):Rm(e,t,i)}function Rm(e,t,i){t.status="fulfilled",t.value=i,Dm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,xm(e,i)))}function Au(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,Dm(t),t=t.next;while(t!==r)}e.action=null}function Dm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Om(e,t){return t}function Mm(e,t){if(Me){var i=Ge.formState;if(i!==null){e:{var r=he;if(Me){if(st){t:{for(var c=st,u=Pn;c.nodeType!==8;){if(!u){c=null;break t}if(c=Un(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){st=Un(c.nextSibling),r=c.data==="F!";break e}}bs(r)}r=!1}r&&(t=i[0])}}return i=Kt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:t},i.queue=r,i=Wm.bind(null,he,r),r.dispatch=i,r=Nu(!1),u=Ou.bind(null,he,!1,r.queue),r=Kt(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,i=qb.bind(null,he,c,u,i),c.dispatch=i,r.memoizedState=e,[t,i,!1]}function jm(e){var t=mt();return Im(t,Ue,e)}function Im(e,t,i){if(t=Cu(e,t,Om)[0],e=Pr(ci)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=hl(t)}catch(d){throw d===ll?Hr:d}else r=t;t=mt();var c=t.queue,u=c.dispatch;return i!==t.memoizedState&&(he.flags|=2048,ra(9,Xr(),Yb.bind(null,c,i),null)),[r,u,e]}function Yb(e,t){e.action=t}function zm(e){var t=mt(),i=Ue;if(i!==null)return Im(t,i,e);mt(),t=t.memoizedState,i=mt();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function ra(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=he.updateQueue,t===null&&(t=Su(),he.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function Xr(){return{destroy:void 0,resource:void 0}}function km(){return mt().memoizedState}function Fr(e,t,i,r){var c=Kt();r=r===void 0?null:r,he.flags|=e,c.memoizedState=ra(1|t,Xr(),i,r)}function dl(e,t,i,r){var c=mt();r=r===void 0?null:r;var u=c.memoizedState.inst;Ue!==null&&r!==null&&gu(r,Ue.memoizedState.deps)?c.memoizedState=ra(t,u,i,r):(he.flags|=e,c.memoizedState=ra(1|t,u,i,r))}function Um(e,t){Fr(8390656,8,e,t)}function Lm(e,t){dl(2048,8,e,t)}function Bm(e,t){return dl(4,2,e,t)}function Hm(e,t){return dl(4,4,e,t)}function Vm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qm(e,t,i){i=i!=null?i.concat([e]):null,dl(4,4,Vm.bind(null,t,e),i)}function xu(){}function Ym(e,t){var i=mt();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&gu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function Gm(e,t){var i=mt();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&gu(t,r[1]))return r[0];if(r=e(),Ts){$e(!0);try{e()}finally{$e(!1)}}return i.memoizedState=[r,t],r}function wu(e,t,i){return i===void 0||(Oi&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Xp(),he.lanes|=e,Li|=e,i)}function Qm(e,t,i,r){return an(i,t)?i:sa.current!==null?(e=wu(e,i,r),an(e,t)||(St=!0),e):(Oi&42)===0?(St=!0,e.memoizedState=i):(e=Xp(),he.lanes|=e,Li|=e,t)}function Pm(e,t,i,r,c){var u=B.p;B.p=u!==0&&8>u?u:8;var d=D.T,_={};D.T=_,Ou(e,!1,t,i);try{var S=c(),x=D.S;if(x!==null&&x(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=Bb(S,r);ml(e,t,O,un(e))}else ml(e,t,r,un(e))}catch(j){ml(e,t,{then:function(){},status:"rejected",reason:j},un())}finally{B.p=u,D.T=d}}function Gb(){}function Ru(e,t,i,r){if(e.tag!==5)throw Error(l(476));var c=Xm(e).queue;Pm(e,c,t,W,i===null?Gb:function(){return Fm(e),i(r)})}function Xm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:W},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fm(e){var t=Xm(e).next.queue;ml(e,t,{},un())}function Du(){return Bt(Ml)}function Km(){return mt().memoizedState}function Zm(){return mt().memoizedState}function Qb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=un();e=Ri(i);var r=Di(t,e,i);r!==null&&(fn(r,t,i),ol(r,t,i)),t={cache:lu()},e.payload=t;return}t=t.return}}function Pb(e,t,i){var r=un();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Kr(e)?$m(t,i):(i=Zc(e,t,i,r),i!==null&&(fn(i,e,r),Jm(i,t,r)))}function Wm(e,t,i){var r=un();ml(e,t,i,r)}function ml(e,t,i,r){var c={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Kr(e))$m(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,_=u(d,i);if(c.hasEagerState=!0,c.eagerState=_,an(_,d))return Mr(e,t,c,0),Ge===null&&Or(),!1}catch{}finally{}if(i=Zc(e,t,c,r),i!==null)return fn(i,e,r),Jm(i,t,r),!0}return!1}function Ou(e,t,i,r){if(r={lane:2,revertLane:uf(),action:r,hasEagerState:!1,eagerState:null,next:null},Kr(e)){if(t)throw Error(l(479))}else t=Zc(e,i,r,2),t!==null&&fn(t,e,2)}function Kr(e){var t=e.alternate;return e===he||t!==null&&t===he}function $m(e,t){aa=Yr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Jm(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,Vs(e,i)}}var Zr={readContext:Bt,use:Qr,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},ep={readContext:Bt,use:Qr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Um,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Fr(4194308,4,Vm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Fr(4194308,4,e,t)},useInsertionEffect:function(e,t){Fr(4,2,e,t)},useMemo:function(e,t){var i=Kt();t=t===void 0?null:t;var r=e();if(Ts){$e(!0);try{e()}finally{$e(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=Kt();if(i!==void 0){var c=i(t);if(Ts){$e(!0);try{i(t)}finally{$e(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Pb.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Nu(e);var t=e.queue,i=Wm.bind(null,he,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:xu,useDeferredValue:function(e,t){var i=Kt();return wu(i,e,t)},useTransition:function(){var e=Nu(!1);return e=Pm.bind(null,he,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=he,c=Kt();if(Me){if(i===void 0)throw Error(l(407));i=i()}else{if(i=t(),Ge===null)throw Error(l(349));(Ae&124)!==0||Sm(r,t,i)}c.memoizedState=i;var u={value:i,getSnapshot:t};return c.queue=u,Um(Cm.bind(null,r,u,e),[e]),r.flags|=2048,ra(9,Xr(),Em.bind(null,r,u,i,t),null),i},useId:function(){var e=Kt(),t=Ge.identifierPrefix;if(Me){var i=li,r=ai;i=(r&~(1<<32-Ye(r)-1)).toString(32)+i,t=""+t+"R"+i,i=Gr++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=Hb++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Du,useFormState:Mm,useActionState:Mm,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ou.bind(null,he,!0,i),i.dispatch=t,[e,t]},useMemoCache:Eu,useCacheRefresh:function(){return Kt().memoizedState=Qb.bind(null,he)}},tp={readContext:Bt,use:Qr,useCallback:Ym,useContext:Bt,useEffect:Lm,useImperativeHandle:qm,useInsertionEffect:Bm,useLayoutEffect:Hm,useMemo:Gm,useReducer:Pr,useRef:km,useState:function(){return Pr(ci)},useDebugValue:xu,useDeferredValue:function(e,t){var i=mt();return Qm(i,Ue.memoizedState,e,t)},useTransition:function(){var e=Pr(ci)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:hl(e),t]},useSyncExternalStore:bm,useId:Km,useHostTransitionStatus:Du,useFormState:jm,useActionState:jm,useOptimistic:function(e,t){var i=mt();return Am(i,Ue,e,t)},useMemoCache:Eu,useCacheRefresh:Zm},Xb={readContext:Bt,use:Qr,useCallback:Ym,useContext:Bt,useEffect:Lm,useImperativeHandle:qm,useInsertionEffect:Bm,useLayoutEffect:Hm,useMemo:Gm,useReducer:Tu,useRef:km,useState:function(){return Tu(ci)},useDebugValue:xu,useDeferredValue:function(e,t){var i=mt();return Ue===null?wu(i,e,t):Qm(i,Ue.memoizedState,e,t)},useTransition:function(){var e=Tu(ci)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:hl(e),t]},useSyncExternalStore:bm,useId:Km,useHostTransitionStatus:Du,useFormState:zm,useActionState:zm,useOptimistic:function(e,t){var i=mt();return Ue!==null?Am(i,Ue,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Eu,useCacheRefresh:Zm},oa=null,pl=0;function Wr(e){var t=pl;return pl+=1,oa===null&&(oa=[]),hm(oa,e,t)}function gl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $r(e,t){throw t.$$typeof===y?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function np(e){var t=e._init;return t(e._payload)}function ip(e){function t(N,T){if(e){var A=N.deletions;A===null?(N.deletions=[T],N.flags|=16):A.push(T)}}function i(N,T){if(!e)return null;for(;T!==null;)t(N,T),T=T.sibling;return null}function r(N){for(var T=new Map;N!==null;)N.key!==null?T.set(N.key,N):T.set(N.index,N),N=N.sibling;return T}function c(N,T){return N=si(N,T),N.index=0,N.sibling=null,N}function u(N,T,A){return N.index=A,e?(A=N.alternate,A!==null?(A=A.index,A<T?(N.flags|=67108866,T):A):(N.flags|=67108866,T)):(N.flags|=1048576,T)}function d(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function _(N,T,A,M){return T===null||T.tag!==6?(T=$c(A,N.mode,M),T.return=N,T):(T=c(T,A),T.return=N,T)}function S(N,T,A,M){var Y=A.type;return Y===k?O(N,T,A.props.children,M,A.key):T!==null&&(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ne&&np(Y)===T.type)?(T=c(T,A.props),gl(T,A),T.return=N,T):(T=Ir(A.type,A.key,A.props,null,N.mode,M),gl(T,A),T.return=N,T)}function x(N,T,A,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Jc(A,N.mode,M),T.return=N,T):(T=c(T,A.children||[]),T.return=N,T)}function O(N,T,A,M,Y){return T===null||T.tag!==7?(T=gs(A,N.mode,M,Y),T.return=N,T):(T=c(T,A),T.return=N,T)}function j(N,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=$c(""+T,N.mode,A),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return A=Ir(T.type,T.key,T.props,null,N.mode,A),gl(A,T),A.return=N,A;case z:return T=Jc(T,N.mode,A),T.return=N,T;case Ne:var M=T._init;return T=M(T._payload),j(N,T,A)}if(pe(T)||it(T))return T=gs(T,N.mode,A,null),T.return=N,T;if(typeof T.then=="function")return j(N,Wr(T),A);if(T.$$typeof===Ee)return j(N,Lr(N,T),A);$r(N,T)}return null}function w(N,T,A,M){var Y=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return Y!==null?null:_(N,T,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return A.key===Y?S(N,T,A,M):null;case z:return A.key===Y?x(N,T,A,M):null;case Ne:return Y=A._init,A=Y(A._payload),w(N,T,A,M)}if(pe(A)||it(A))return Y!==null?null:O(N,T,A,M,null);if(typeof A.then=="function")return w(N,T,Wr(A),M);if(A.$$typeof===Ee)return w(N,T,Lr(N,A),M);$r(N,A)}return null}function R(N,T,A,M,Y){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return N=N.get(A)||null,_(T,N,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return N=N.get(M.key===null?A:M.key)||null,S(T,N,M,Y);case z:return N=N.get(M.key===null?A:M.key)||null,x(T,N,M,Y);case Ne:var _e=M._init;return M=_e(M._payload),R(N,T,A,M,Y)}if(pe(M)||it(M))return N=N.get(A)||null,O(T,N,M,Y,null);if(typeof M.then=="function")return R(N,T,A,Wr(M),Y);if(M.$$typeof===Ee)return R(N,T,A,Lr(T,M),Y);$r(T,M)}return null}function ae(N,T,A,M){for(var Y=null,_e=null,F=T,te=T=0,Ct=null;F!==null&&te<A.length;te++){F.index>te?(Ct=F,F=null):Ct=F.sibling;var Re=w(N,F,A[te],M);if(Re===null){F===null&&(F=Ct);break}e&&F&&Re.alternate===null&&t(N,F),T=u(Re,T,te),_e===null?Y=Re:_e.sibling=Re,_e=Re,F=Ct}if(te===A.length)return i(N,F),Me&&vs(N,te),Y;if(F===null){for(;te<A.length;te++)F=j(N,A[te],M),F!==null&&(T=u(F,T,te),_e===null?Y=F:_e.sibling=F,_e=F);return Me&&vs(N,te),Y}for(F=r(F);te<A.length;te++)Ct=R(F,N,te,A[te],M),Ct!==null&&(e&&Ct.alternate!==null&&F.delete(Ct.key===null?te:Ct.key),T=u(Ct,T,te),_e===null?Y=Ct:_e.sibling=Ct,_e=Ct);return e&&F.forEach(function(Xi){return t(N,Xi)}),Me&&vs(N,te),Y}function J(N,T,A,M){if(A==null)throw Error(l(151));for(var Y=null,_e=null,F=T,te=T=0,Ct=null,Re=A.next();F!==null&&!Re.done;te++,Re=A.next()){F.index>te?(Ct=F,F=null):Ct=F.sibling;var Xi=w(N,F,Re.value,M);if(Xi===null){F===null&&(F=Ct);break}e&&F&&Xi.alternate===null&&t(N,F),T=u(Xi,T,te),_e===null?Y=Xi:_e.sibling=Xi,_e=Xi,F=Ct}if(Re.done)return i(N,F),Me&&vs(N,te),Y;if(F===null){for(;!Re.done;te++,Re=A.next())Re=j(N,Re.value,M),Re!==null&&(T=u(Re,T,te),_e===null?Y=Re:_e.sibling=Re,_e=Re);return Me&&vs(N,te),Y}for(F=r(F);!Re.done;te++,Re=A.next())Re=R(F,N,te,Re.value,M),Re!==null&&(e&&Re.alternate!==null&&F.delete(Re.key===null?te:Re.key),T=u(Re,T,te),_e===null?Y=Re:_e.sibling=Re,_e=Re);return e&&F.forEach(function(F0){return t(N,F0)}),Me&&vs(N,te),Y}function Be(N,T,A,M){if(typeof A=="object"&&A!==null&&A.type===k&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case E:e:{for(var Y=A.key;T!==null;){if(T.key===Y){if(Y=A.type,Y===k){if(T.tag===7){i(N,T.sibling),M=c(T,A.props.children),M.return=N,N=M;break e}}else if(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ne&&np(Y)===T.type){i(N,T.sibling),M=c(T,A.props),gl(M,A),M.return=N,N=M;break e}i(N,T);break}else t(N,T);T=T.sibling}A.type===k?(M=gs(A.props.children,N.mode,M,A.key),M.return=N,N=M):(M=Ir(A.type,A.key,A.props,null,N.mode,M),gl(M,A),M.return=N,N=M)}return d(N);case z:e:{for(Y=A.key;T!==null;){if(T.key===Y)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){i(N,T.sibling),M=c(T,A.children||[]),M.return=N,N=M;break e}else{i(N,T);break}else t(N,T);T=T.sibling}M=Jc(A,N.mode,M),M.return=N,N=M}return d(N);case Ne:return Y=A._init,A=Y(A._payload),Be(N,T,A,M)}if(pe(A))return ae(N,T,A,M);if(it(A)){if(Y=it(A),typeof Y!="function")throw Error(l(150));return A=Y.call(A),J(N,T,A,M)}if(typeof A.then=="function")return Be(N,T,Wr(A),M);if(A.$$typeof===Ee)return Be(N,T,Lr(N,A),M);$r(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(i(N,T.sibling),M=c(T,A),M.return=N,N=M):(i(N,T),M=$c(A,N.mode,M),M.return=N,N=M),d(N)):i(N,T)}return function(N,T,A,M){try{pl=0;var Y=Be(N,T,A,M);return oa=null,Y}catch(F){if(F===ll||F===Hr)throw F;var _e=ln(29,F,null,N.mode);return _e.lanes=M,_e.return=N,_e}finally{}}}var ca=ip(!0),sp=ip(!1),Tn=I(null),Xn=null;function Mi(e){var t=e.alternate;H(_t,_t.current&1),H(Tn,e),Xn===null&&(t===null||sa.current!==null||t.memoizedState!==null)&&(Xn=e)}function ap(e){if(e.tag===22){if(H(_t,_t.current),H(Tn,e),Xn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Xn=e)}}else ji()}function ji(){H(_t,_t.current),H(Tn,Tn.current)}function ui(e){V(Tn),Xn===e&&(Xn=null),V(_t)}var _t=I(0);function Jr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Ef(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Mu(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ju={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=un(),c=Ri(r);c.payload=t,i!=null&&(c.callback=i),t=Di(e,c,r),t!==null&&(fn(t,e,r),ol(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=un(),c=Ri(r);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=Di(e,c,r),t!==null&&(fn(t,e,r),ol(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=un(),r=Ri(i);r.tag=2,t!=null&&(r.callback=t),t=Di(e,r,i),t!==null&&(fn(t,e,i),ol(t,e,i))}};function lp(e,t,i,r,c,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,d):t.prototype&&t.prototype.isPureReactComponent?!$a(i,r)||!$a(c,u):!0}function rp(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function Ns(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var eo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function op(e){eo(e)}function cp(e){console.error(e)}function up(e){eo(e)}function to(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function fp(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Iu(e,t,i){return i=Ri(i),i.tag=3,i.payload={element:null},i.callback=function(){to(e,t)},i}function hp(e){return e=Ri(e),e.tag=3,e}function dp(e,t,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){fp(t,i,r)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){fp(t,i,r),typeof c!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function Fb(e,t,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&il(t,i,c,!0),i=Tn.current,i!==null){switch(i.tag){case 13:return Xn===null?af():i.alternate===null&&at===0&&(at=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===cu?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),rf(e,r,c)),!1;case 22:return i.flags|=65536,r===cu?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),rf(e,r,c)),!1}throw Error(l(435,i.tag))}return rf(e,r,c),af(),!1}if(Me)return t=Tn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==nu&&(e=Error(l(422),{cause:r}),nl(bn(e,i)))):(r!==nu&&(t=Error(l(423),{cause:r}),nl(bn(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=bn(r,i),c=Iu(e.stateNode,r,c),hu(e,c),at!==4&&(at=2)),!1;var u=Error(l(520),{cause:r});if(u=bn(u,i),Cl===null?Cl=[u]:Cl.push(u),at!==4&&(at=2),t===null)return!0;r=bn(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Iu(i.stateNode,r,e),hu(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Bi===null||!Bi.has(u))))return i.flags|=65536,c&=-c,i.lanes|=c,c=hp(c),dp(c,e,i,r),hu(i,c),!1}i=i.return}while(i!==null);return!1}var mp=Error(l(461)),St=!1;function Mt(e,t,i,r){t.child=e===null?sp(t,null,i,r):ca(t,e.child,i,r)}function pp(e,t,i,r,c){i=i.render;var u=t.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return Es(t),r=_u(e,t,i,d,u,c),_=vu(),e!==null&&!St?(yu(e,t,c),fi(e,t,c)):(Me&&_&&eu(t),t.flags|=1,Mt(e,t,r,c),t.child)}function gp(e,t,i,r,c){if(e===null){var u=i.type;return typeof u=="function"&&!Wc(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,_p(e,t,u,r,c)):(e=Ir(i.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!qu(e,c)){var d=u.memoizedProps;if(i=i.compare,i=i!==null?i:$a,i(d,r)&&e.ref===t.ref)return fi(e,t,c)}return t.flags|=1,e=si(u,r),e.ref=t.ref,e.return=t,t.child=e}function _p(e,t,i,r,c){if(e!==null){var u=e.memoizedProps;if($a(u,r)&&e.ref===t.ref)if(St=!1,t.pendingProps=r=u,qu(e,c))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,fi(e,t,c)}return zu(e,t,i,r,c)}function vp(e,t,i){var r=t.pendingProps,c=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=u!==null?u.baseLanes|i:i,e!==null){for(c=t.child=e.child,u=0;c!==null;)u=u|c.lanes|c.childLanes,c=c.sibling;t.childLanes=u&~r}else t.childLanes=0,t.child=null;return yp(e,t,r,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Br(t,u!==null?u.cachePool:null),u!==null?_m(t,u):mu(),ap(t);else return t.lanes=t.childLanes=536870912,yp(e,t,u!==null?u.baseLanes|i:i,i)}else u!==null?(Br(t,u.cachePool),_m(t,u),ji(),t.memoizedState=null):(e!==null&&Br(t,null),mu(),ji());return Mt(e,t,c,i),t.child}function yp(e,t,i,r){var c=ou();return c=c===null?null:{parent:gt._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&Br(t,null),mu(),ap(t),e!==null&&il(e,t,r,!0),null}function no(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function zu(e,t,i,r,c){return Es(t),i=_u(e,t,i,r,void 0,c),r=vu(),e!==null&&!St?(yu(e,t,c),fi(e,t,c)):(Me&&r&&eu(t),t.flags|=1,Mt(e,t,i,c),t.child)}function bp(e,t,i,r,c,u){return Es(t),t.updateQueue=null,i=ym(t,r,i,c),vm(e),r=vu(),e!==null&&!St?(yu(e,t,u),fi(e,t,u)):(Me&&r&&eu(t),t.flags|=1,Mt(e,t,i,u),t.child)}function Sp(e,t,i,r,c){if(Es(t),t.stateNode===null){var u=Js,d=i.contextType;typeof d=="object"&&d!==null&&(u=Bt(d)),u=new i(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ju,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},uu(t),d=i.contextType,u.context=typeof d=="object"&&d!==null?Bt(d):Js,u.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Mu(t,i,d,r),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(d=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),d!==u.state&&ju.enqueueReplaceState(u,u.state,null),ul(t,r,u,c),cl(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var _=t.memoizedProps,S=Ns(i,_);u.props=S;var x=u.context,O=i.contextType;d=Js,typeof O=="object"&&O!==null&&(d=Bt(O));var j=i.getDerivedStateFromProps;O=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||x!==d)&&rp(t,u,r,d),wi=!1;var w=t.memoizedState;u.state=w,ul(t,r,u,c),cl(),x=t.memoizedState,_||w!==x||wi?(typeof j=="function"&&(Mu(t,i,j,r),x=t.memoizedState),(S=wi||lp(t,i,S,r,w,x,d))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),u.props=r,u.state=x,u.context=d,r=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,fu(e,t),d=t.memoizedProps,O=Ns(i,d),u.props=O,j=t.pendingProps,w=u.context,x=i.contextType,S=Js,typeof x=="object"&&x!==null&&(S=Bt(x)),_=i.getDerivedStateFromProps,(x=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==j||w!==S)&&rp(t,u,r,S),wi=!1,w=t.memoizedState,u.state=w,ul(t,r,u,c),cl();var R=t.memoizedState;d!==j||w!==R||wi||e!==null&&e.dependencies!==null&&Ur(e.dependencies)?(typeof _=="function"&&(Mu(t,i,_,r),R=t.memoizedState),(O=wi||lp(t,i,O,r,w,R,S)||e!==null&&e.dependencies!==null&&Ur(e.dependencies))?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=S,r=O):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,no(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=ca(t,e.child,null,c),t.child=ca(t,null,i,c)):Mt(e,t,i,c),t.memoizedState=u.state,e=t.child):e=fi(e,t,c),e}function Ep(e,t,i,r){return tl(),t.flags|=256,Mt(e,t,i,r),t.child}var ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uu(e){return{baseLanes:e,cachePool:cm()}}function Lu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Nn),e}function Cp(e,t,i){var r=t.pendingProps,c=!1,u=(t.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),d&&(c=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(c?Mi(t):ji(),Me){var _=st,S;if(S=_){e:{for(S=_,_=Pn;S.nodeType!==8;){if(!_){_=null;break e}if(S=Un(S.nextSibling),S===null){_=null;break e}}_=S}_!==null?(t.memoizedState={dehydrated:_,treeContext:_s!==null?{id:ai,overflow:li}:null,retryLane:536870912,hydrationErrors:null},S=ln(18,null,null,0),S.stateNode=_,S.return=t,t.child=S,Yt=t,st=null,S=!0):S=!1}S||bs(t)}if(_=t.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Ef(_)?t.lanes=32:t.lanes=536870912,null;ui(t)}return _=r.children,r=r.fallback,c?(ji(),c=t.mode,_=io({mode:"hidden",children:_},c),r=gs(r,c,i,null),_.return=t,r.return=t,_.sibling=r,t.child=_,c=t.child,c.memoizedState=Uu(i),c.childLanes=Lu(e,d,i),t.memoizedState=ku,r):(Mi(t),Bu(t,_))}if(S=e.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(u)t.flags&256?(Mi(t),t.flags&=-257,t=Hu(e,t,i)):t.memoizedState!==null?(ji(),t.child=e.child,t.flags|=128,t=null):(ji(),c=r.fallback,_=t.mode,r=io({mode:"visible",children:r.children},_),c=gs(c,_,i,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,ca(t,e.child,null,i),r=t.child,r.memoizedState=Uu(i),r.childLanes=Lu(e,d,i),t.memoizedState=ku,t=c);else if(Mi(t),Ef(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var x=d.dgst;d=x,r=Error(l(419)),r.stack="",r.digest=d,nl({value:r,source:null,stack:null}),t=Hu(e,t,i)}else if(St||il(e,t,i,!1),d=(i&e.childLanes)!==0,St||d){if(d=Ge,d!==null&&(r=i&-i,r=(r&42)!==0?1:qa(r),r=(r&(d.suspendedLanes|i))!==0?0:r,r!==0&&r!==S.retryLane))throw S.retryLane=r,$s(e,r),fn(d,e,r),mp;_.data==="$?"||af(),t=Hu(e,t,i)}else _.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,st=Un(_.nextSibling),Yt=t,Me=!0,ys=null,Pn=!1,e!==null&&(En[Cn++]=ai,En[Cn++]=li,En[Cn++]=_s,ai=e.id,li=e.overflow,_s=t),t=Bu(t,r.children),t.flags|=4096);return t}return c?(ji(),c=r.fallback,_=t.mode,S=e.child,x=S.sibling,r=si(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,x!==null?c=si(x,c):(c=gs(c,_,i,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,_=e.child.memoizedState,_===null?_=Uu(i):(S=_.cachePool,S!==null?(x=gt._currentValue,S=S.parent!==x?{parent:x,pool:x}:S):S=cm(),_={baseLanes:_.baseLanes|i,cachePool:S}),c.memoizedState=_,c.childLanes=Lu(e,d,i),t.memoizedState=ku,r):(Mi(t),i=e.child,e=i.sibling,i=si(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Bu(e,t){return t=io({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function io(e,t){return e=ln(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hu(e,t,i){return ca(t,e.child,null,i),e=Bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tp(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),su(e.return,t,i)}function Vu(e,t,i,r,c){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=i,u.tailMode=c)}function Np(e,t,i){var r=t.pendingProps,c=r.revealOrder,u=r.tail;if(Mt(e,t,r.children,i),r=_t.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,i,t);else if(e.tag===19)Tp(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(H(_t,r),c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Jr(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Vu(t,!1,c,i,u);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Jr(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Vu(t,!0,i,null,u);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fi(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Li|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(il(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,i=si(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=si(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function qu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ur(e)))}function Kb(e,t,i){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),xi(t,gt,e.memoizedState.cache),tl();break;case 27:case 5:os(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:xi(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Mi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Cp(e,t,i):(Mi(t),e=fi(e,t,i),e!==null?e.sibling:null);Mi(t);break;case 19:var c=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(il(e,t,i,!1),r=(i&t.childLanes)!==0),c){if(r)return Np(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),H(_t,_t.current),r)break;return null;case 22:case 23:return t.lanes=0,vp(e,t,i);case 24:xi(t,gt,e.memoizedState.cache)}return fi(e,t,i)}function Ap(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!qu(e,i)&&(t.flags&128)===0)return St=!1,Kb(e,t,i);St=(e.flags&131072)!==0}else St=!1,Me&&(t.flags&1048576)!==0&&nm(t,kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,c=r._init;if(r=c(r._payload),t.type=r,typeof r=="function")Wc(r)?(e=Ns(r,e),t.tag=1,t=Sp(null,t,r,e,i)):(t.tag=0,t=zu(null,t,r,e,i));else{if(r!=null){if(c=r.$$typeof,c===Ie){t.tag=11,t=pp(null,t,r,e,i);break e}else if(c===ct){t.tag=14,t=gp(null,t,r,e,i);break e}}throw t=qt(r)||r,Error(l(306,t,""))}}return t;case 0:return zu(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,c=Ns(r,t.pendingProps),Sp(e,t,r,c,i);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var u=t.memoizedState;c=u.element,fu(e,t),ul(t,r,null,i);var d=t.memoizedState;if(r=d.cache,xi(t,gt,r),r!==u.cache&&au(t,[gt],i,!0),cl(),r=d.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Ep(e,t,r,i);break e}else if(r!==c){c=bn(Error(l(424)),t),nl(c),t=Ep(e,t,r,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=Un(e.firstChild),Yt=t,Me=!0,ys=null,Pn=!0,i=sp(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(tl(),r===c){t=fi(e,t,i);break e}Mt(e,t,r,i)}t=t.child}return t;case 26:return no(e,t),e===null?(i=Dg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Me||(i=t.type,e=t.pendingProps,r=vo(X.current).createElement(i),r[bt]=t,r[Ut]=e,It(r,i,e),G(r),t.stateNode=r):t.memoizedState=Dg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return os(t),e===null&&Me&&(r=t.stateNode=xg(t.type,t.pendingProps,X.current),Yt=t,Pn=!0,c=st,qi(t.type)?(Cf=c,st=Un(r.firstChild)):st=c),Mt(e,t,t.pendingProps.children,i),no(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((c=r=st)&&(r=C0(r,t.type,t.pendingProps,Pn),r!==null?(t.stateNode=r,Yt=t,st=Un(r.firstChild),Pn=!1,c=!0):c=!1),c||bs(t)),os(t),c=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,r=u.children,yf(c,u)?r=null:d!==null&&yf(c,d)&&(t.flags|=32),t.memoizedState!==null&&(c=_u(e,t,Vb,null,null,i),Ml._currentValue=c),no(e,t),Mt(e,t,r,i),t.child;case 6:return e===null&&Me&&((e=i=st)&&(i=T0(i,t.pendingProps,Pn),i!==null?(t.stateNode=i,Yt=t,st=null,e=!0):e=!1),e||bs(t)),null;case 13:return Cp(e,t,i);case 4:return xe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ca(t,null,r,i):Mt(e,t,r,i),t.child;case 11:return pp(e,t,t.type,t.pendingProps,i);case 7:return Mt(e,t,t.pendingProps,i),t.child;case 8:return Mt(e,t,t.pendingProps.children,i),t.child;case 12:return Mt(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,xi(t,t.type,r.value),Mt(e,t,r.children,i),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,Es(t),c=Bt(c),r=r(c),t.flags|=1,Mt(e,t,r,i),t.child;case 14:return gp(e,t,t.type,t.pendingProps,i);case 15:return _p(e,t,t.type,t.pendingProps,i);case 19:return Np(e,t,i);case 31:return r=t.pendingProps,i=t.mode,r={mode:r.mode,children:r.children},e===null?(i=io(r,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=si(e.child,r),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return vp(e,t,i);case 24:return Es(t),r=Bt(gt),e===null?(c=ou(),c===null&&(c=Ge,u=lu(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=i),c=u),t.memoizedState={parent:r,cache:c},uu(t),xi(t,gt,c)):((e.lanes&i)!==0&&(fu(e,t),ul(t,null,null,i),cl()),c=e.memoizedState,u=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),xi(t,gt,r)):(r=u.cache,xi(t,gt,r),r!==c.cache&&au(t,[gt],i,!0))),Mt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function hi(e){e.flags|=4}function xp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zg(t)){if(t=Tn.current,t!==null&&((Ae&4194048)===Ae?Xn!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||t!==Xn))throw rl=cu,um;e.flags|=8192}}function so(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vr():536870912,e.lanes|=t,da|=t)}function _l(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Zb(e,t,i){var r=t.pendingProps;switch(tu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),oi(gt),nn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(el(t)?hi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,am())),tt(t),null;case 26:return i=t.memoizedState,e===null?(hi(t),i!==null?(tt(t),xp(t,i)):(tt(t),t.flags&=-16777217)):i?i!==e.memoizedState?(hi(t),tt(t),xp(t,i)):(tt(t),t.flags&=-16777217):(e.memoizedProps!==r&&hi(t),tt(t),t.flags&=-16777217),null;case 27:ei(t),i=X.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&hi(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return tt(t),null}e=K.current,el(t)?im(t):(e=xg(c,r,i),t.stateNode=e,hi(t))}return tt(t),null;case 5:if(ei(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&hi(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return tt(t),null}if(e=K.current,el(t))im(t);else{switch(c=vo(X.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?c.createElement(i,{is:r.is}):c.createElement(i)}}e[bt]=t,e[Ut]=r;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(It(e,i,r),i){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&hi(t)}}return tt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&hi(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=X.current,el(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,c=Yt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[bt]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||bg(e.nodeValue,i)),e||bs(t)}else e=vo(e).createTextNode(r),e[bt]=t,t.stateNode=e}return tt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=el(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[bt]=t}else tl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),c=!1}else c=am(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ui(t),t):(ui(t),null)}if(ui(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=r!==null,e=e!==null&&e.memoizedState!==null,i){r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var u=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),so(t,t.updateQueue),tt(t),null;case 4:return nn(),e===null&&mf(t.stateNode.containerInfo),tt(t),null;case 10:return oi(t.type),tt(t),null;case 19:if(V(_t),c=t.memoizedState,c===null)return tt(t),null;if(r=(t.flags&128)!==0,u=c.rendering,u===null)if(r)_l(c,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Jr(e),u!==null){for(t.flags|=128,_l(c,!1),e=u.updateQueue,t.updateQueue=e,so(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)tm(i,e),i=i.sibling;return H(_t,_t.current&1|2),t.child}e=e.sibling}c.tail!==null&&ft()>ro&&(t.flags|=128,r=!0,_l(c,!1),t.lanes=4194304)}else{if(!r)if(e=Jr(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,so(t,e),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!u.alternate&&!Me)return tt(t),null}else 2*ft()-c.renderingStartTime>ro&&i!==536870912&&(t.flags|=128,r=!0,_l(c,!1),t.lanes=4194304);c.isBackwards?(u.sibling=t.child,t.child=u):(e=c.last,e!==null?e.sibling=u:t.child=u,c.last=u)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ft(),t.sibling=null,e=_t.current,H(_t,r?e&1|2:e&1),t):(tt(t),null);case 22:case 23:return ui(t),pu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),i=t.updateQueue,i!==null&&so(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&V(Cs),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),oi(gt),tt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Wb(e,t){switch(tu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oi(gt),nn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ei(t),null;case 13:if(ui(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(_t),null;case 4:return nn(),null;case 10:return oi(t.type),null;case 22:case 23:return ui(t),pu(),e!==null&&V(Cs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oi(gt),null;case 25:return null;default:return null}}function wp(e,t){switch(tu(t),t.tag){case 3:oi(gt),nn();break;case 26:case 27:case 5:ei(t);break;case 4:nn();break;case 13:ui(t);break;case 19:V(_t);break;case 10:oi(t.type);break;case 22:case 23:ui(t),pu(),e!==null&&V(Cs);break;case 24:oi(gt)}}function vl(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&e)===e){r=void 0;var u=i.create,d=i.inst;r=u(),d.destroy=r}i=i.next}while(i!==c)}}catch(_){He(t,t.return,_)}}function Ii(e,t,i){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,c=t;var S=i,x=_;try{x()}catch(O){He(c,S,O)}}}r=r.next}while(r!==u)}}catch(O){He(t,t.return,O)}}function Rp(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{gm(t,i)}catch(r){He(e,e.return,r)}}}function Dp(e,t,i){i.props=Ns(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){He(e,t,r)}}function yl(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(c){He(e,t,c)}}function Fn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){He(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){He(e,t,c)}else i.current=null}function Op(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){He(e,e.return,c)}}function Yu(e,t,i){try{var r=e.stateNode;v0(r,e.type,i,t),r[Ut]=t}catch(c){He(e,e.return,c)}}function Mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qi(e.type)||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qu(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=_o));else if(r!==4&&(r===27&&qi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Qu(e,t,i),e=e.sibling;e!==null;)Qu(e,t,i),e=e.sibling}function ao(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&qi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ao(e,t,i),e=e.sibling;e!==null;)ao(e,t,i),e=e.sibling}function jp(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);It(t,r,i),t[bt]=e,t[Ut]=i}catch(u){He(e,e.return,u)}}var di=!1,ot=!1,Pu=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,Et=null;function $b(e,t){if(e=e.containerInfo,_f=To,e=Qd(e),Gc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var d=0,_=-1,S=-1,x=0,O=0,j=e,w=null;t:for(;;){for(var R;j!==i||c!==0&&j.nodeType!==3||(_=d+c),j!==u||r!==0&&j.nodeType!==3||(S=d+r),j.nodeType===3&&(d+=j.nodeValue.length),(R=j.firstChild)!==null;)w=j,j=R;for(;;){if(j===e)break t;if(w===i&&++x===c&&(_=d),w===u&&++O===r&&(S=d),(R=j.nextSibling)!==null)break;j=w,w=j.parentNode}j=R}i=_===-1||S===-1?null:{start:_,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(vf={focusedElem:e,selectionRange:i},To=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,c=u.memoizedProps,u=u.memoizedState,r=i.stateNode;try{var ae=Ns(i.type,c,i.elementType===i.type);e=r.getSnapshotBeforeUpdate(ae,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(J){He(i,i.return,J)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Sf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function zp(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:zi(e,i),r&4&&vl(5,i);break;case 1:if(zi(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){He(i,i.return,d)}else{var c=Ns(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){He(i,i.return,d)}}r&64&&Rp(i),r&512&&yl(i,i.return);break;case 3:if(zi(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{gm(e,t)}catch(d){He(i,i.return,d)}}break;case 27:t===null&&r&4&&jp(i);case 26:case 5:zi(e,i),t===null&&r&4&&Op(i),r&512&&yl(i,i.return);break;case 12:zi(e,i);break;case 13:zi(e,i),r&4&&Lp(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=r0.bind(null,i),N0(e,i))));break;case 22:if(r=i.memoizedState!==null||di,!r){t=t!==null&&t.memoizedState!==null||ot,c=di;var u=ot;di=r,(ot=t)&&!u?ki(e,i,(i.subtreeFlags&8772)!==0):zi(e,i),di=c,ot=u}break;case 30:break;default:zi(e,i)}}function kp(e){var t=e.alternate;t!==null&&(e.alternate=null,kp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ga(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Zt=!1;function mi(e,t,i){for(i=i.child;i!==null;)Up(e,t,i),i=i.sibling}function Up(e,t,i){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Te,i)}catch{}switch(i.tag){case 26:ot||Fn(i,t),mi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ot||Fn(i,t);var r=Ke,c=Zt;qi(i.type)&&(Ke=i.stateNode,Zt=!1),mi(e,t,i),wl(i.stateNode),Ke=r,Zt=c;break;case 5:ot||Fn(i,t);case 6:if(r=Ke,c=Zt,Ke=null,mi(e,t,i),Ke=r,Zt=c,Ke!==null)if(Zt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(i.stateNode)}catch(u){He(i,t,u)}else try{Ke.removeChild(i.stateNode)}catch(u){He(i,t,u)}break;case 18:Ke!==null&&(Zt?(e=Ke,Ng(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),kl(e)):Ng(Ke,i.stateNode));break;case 4:r=Ke,c=Zt,Ke=i.stateNode.containerInfo,Zt=!0,mi(e,t,i),Ke=r,Zt=c;break;case 0:case 11:case 14:case 15:ot||Ii(2,i,t),ot||Ii(4,i,t),mi(e,t,i);break;case 1:ot||(Fn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Dp(i,t,r)),mi(e,t,i);break;case 21:mi(e,t,i);break;case 22:ot=(r=ot)||i.memoizedState!==null,mi(e,t,i),ot=r;break;default:mi(e,t,i)}}function Lp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kl(e)}catch(i){He(t,t.return,i)}}function Jb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ip),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ip),t;default:throw Error(l(435,e.tag))}}function Xu(e,t){var i=Jb(e);t.forEach(function(r){var c=o0.bind(null,e,r);i.has(r)||(i.add(r),r.then(c,c))})}function rn(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],u=e,d=t,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(qi(_.type)){Ke=_.stateNode,Zt=!1;break e}break;case 5:Ke=_.stateNode,Zt=!1;break e;case 3:case 4:Ke=_.stateNode.containerInfo,Zt=!0;break e}_=_.return}if(Ke===null)throw Error(l(160));Up(u,d,c),Ke=null,Zt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Bp(t,e),t=t.sibling}var kn=null;function Bp(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(t,e),on(e),r&4&&(Ii(3,e,e.return),vl(3,e),Ii(5,e,e.return));break;case 1:rn(t,e),on(e),r&512&&(ot||i===null||Fn(i,i.return)),r&64&&di&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=kn;if(rn(t,e),on(e),r&512&&(ot||i===null||Fn(i,i.return)),r&4){var u=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[fs]||u[bt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),It(u,r,i),u[bt]=e,G(u),r=u;break e;case"link":var d=jg("link","href",c).get(r+(i.href||""));if(d){for(var _=0;_<d.length;_++)if(u=d[_],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(_,1);break t}}u=c.createElement(r),It(u,r,i),c.head.appendChild(u);break;case"meta":if(d=jg("meta","content",c).get(r+(i.content||""))){for(_=0;_<d.length;_++)if(u=d[_],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(_,1);break t}}u=c.createElement(r),It(u,r,i),c.head.appendChild(u);break;default:throw Error(l(468,r))}u[bt]=e,G(u),r=u}e.stateNode=r}else Ig(c,e.type,e.stateNode);else e.stateNode=Mg(c,r,e.memoizedProps);else u!==r?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,r===null?Ig(c,e.type,e.stateNode):Mg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Yu(e,e.memoizedProps,i.memoizedProps)}break;case 27:rn(t,e),on(e),r&512&&(ot||i===null||Fn(i,i.return)),i!==null&&r&4&&Yu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(rn(t,e),on(e),r&512&&(ot||i===null||Fn(i,i.return)),e.flags&32){c=e.stateNode;try{Qs(c,"")}catch(R){He(e,e.return,R)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Yu(e,c,i!==null?i.memoizedProps:c)),r&1024&&(Pu=!0);break;case 6:if(rn(t,e),on(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(R){He(e,e.return,R)}}break;case 3:if(So=null,c=kn,kn=yo(t.containerInfo),rn(t,e),kn=c,on(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{kl(t.containerInfo)}catch(R){He(e,e.return,R)}Pu&&(Pu=!1,Hp(e));break;case 4:r=kn,kn=yo(e.stateNode.containerInfo),rn(t,e),on(e),kn=r;break;case 12:rn(t,e),on(e);break;case 13:rn(t,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ju=ft()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Xu(e,r)));break;case 22:c=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,x=di,O=ot;if(di=x||c,ot=O||S,rn(t,e),ot=O,di=x,on(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||S||di||ot||As(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(u=S.stateNode,c)d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=S.stateNode;var j=S.memoizedProps.style,w=j!=null&&j.hasOwnProperty("display")?j.display:null;_.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(R){He(S,S.return,R)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(R){He(S,S.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Xu(e,i))));break;case 19:rn(t,e),on(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Xu(e,r)));break;case 30:break;case 21:break;default:rn(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(Mp(r)){i=r;break}r=r.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var c=i.stateNode,u=Gu(e);ao(e,u,c);break;case 5:var d=i.stateNode;i.flags&32&&(Qs(d,""),i.flags&=-33);var _=Gu(e);ao(e,_,d);break;case 3:case 4:var S=i.stateNode.containerInfo,x=Gu(e);Qu(e,x,S);break;default:throw Error(l(161))}}catch(O){He(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)zp(e,t.alternate,t),t=t.sibling}function As(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ii(4,t,t.return),As(t);break;case 1:Fn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Dp(t,t.return,i),As(t);break;case 27:wl(t.stateNode);case 26:case 5:Fn(t,t.return),As(t);break;case 22:t.memoizedState===null&&As(t);break;case 30:As(t);break;default:As(t)}e=e.sibling}}function ki(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,u=t,d=u.flags;switch(u.tag){case 0:case 11:case 15:ki(c,u,i),vl(4,u);break;case 1:if(ki(c,u,i),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(x){He(r,r.return,x)}if(r=u,c=r.updateQueue,c!==null){var _=r.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)pm(S[c],_)}catch(x){He(r,r.return,x)}}i&&d&64&&Rp(u),yl(u,u.return);break;case 27:jp(u);case 26:case 5:ki(c,u,i),i&&r===null&&d&4&&Op(u),yl(u,u.return);break;case 12:ki(c,u,i);break;case 13:ki(c,u,i),i&&d&4&&Lp(c,u);break;case 22:u.memoizedState===null&&ki(c,u,i),yl(u,u.return);break;case 30:break;default:ki(c,u,i)}t=t.sibling}}function Fu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&sl(i))}function Ku(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sl(e))}function Kn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vp(e,t,i,r),t=t.sibling}function Vp(e,t,i,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Kn(e,t,i,r),c&2048&&vl(9,t);break;case 1:Kn(e,t,i,r);break;case 3:Kn(e,t,i,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sl(e)));break;case 12:if(c&2048){Kn(e,t,i,r),e=t.stateNode;try{var u=t.memoizedProps,d=u.id,_=u.onPostCommit;typeof _=="function"&&_(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){He(t,t.return,S)}}else Kn(e,t,i,r);break;case 13:Kn(e,t,i,r);break;case 23:break;case 22:u=t.stateNode,d=t.alternate,t.memoizedState!==null?u._visibility&2?Kn(e,t,i,r):bl(e,t):u._visibility&2?Kn(e,t,i,r):(u._visibility|=2,ua(e,t,i,r,(t.subtreeFlags&10256)!==0)),c&2048&&Fu(d,t);break;case 24:Kn(e,t,i,r),c&2048&&Ku(t.alternate,t);break;default:Kn(e,t,i,r)}}function ua(e,t,i,r,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,d=t,_=i,S=r,x=d.flags;switch(d.tag){case 0:case 11:case 15:ua(u,d,_,S,c),vl(8,d);break;case 23:break;case 22:var O=d.stateNode;d.memoizedState!==null?O._visibility&2?ua(u,d,_,S,c):bl(u,d):(O._visibility|=2,ua(u,d,_,S,c)),c&&x&2048&&Fu(d.alternate,d);break;case 24:ua(u,d,_,S,c),c&&x&2048&&Ku(d.alternate,d);break;default:ua(u,d,_,S,c)}t=t.sibling}}function bl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,c=r.flags;switch(r.tag){case 22:bl(i,r),c&2048&&Fu(r.alternate,r);break;case 24:bl(i,r),c&2048&&Ku(r.alternate,r);break;default:bl(i,r)}t=t.sibling}}var Sl=8192;function fa(e){if(e.subtreeFlags&Sl)for(e=e.child;e!==null;)qp(e),e=e.sibling}function qp(e){switch(e.tag){case 26:fa(e),e.flags&Sl&&e.memoizedState!==null&&L0(kn,e.memoizedState,e.memoizedProps);break;case 5:fa(e);break;case 3:case 4:var t=kn;kn=yo(e.stateNode.containerInfo),fa(e),kn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Sl,Sl=16777216,fa(e),Sl=t):fa(e));break;default:fa(e)}}function Yp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function El(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Et=r,Qp(r,e)}Yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Ii(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,lo(e)):El(e);break;default:El(e)}}function lo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Et=r,Qp(r,e)}Yp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ii(8,t,t.return),lo(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,lo(t));break;default:lo(t)}e=e.sibling}}function Qp(e,t){for(;Et!==null;){var i=Et;switch(i.tag){case 0:case 11:case 15:Ii(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:sl(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Et=r;else e:for(i=e;Et!==null;){r=Et;var c=r.sibling,u=r.return;if(kp(r),r===i){Et=null;break e}if(c!==null){c.return=u,Et=c;break e}Et=u}}}var e0={getCacheForType:function(e){var t=Bt(gt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},t0=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ge=null,be=null,Ae=0,ke=0,cn=null,Ui=!1,ha=!1,Zu=!1,pi=0,at=0,Li=0,xs=0,Wu=0,Nn=0,da=0,Cl=null,Wt=null,$u=!1,Ju=0,ro=1/0,oo=null,Bi=null,jt=0,Hi=null,ma=null,pa=0,ef=0,tf=null,Pp=null,Tl=0,nf=null;function un(){if((ze&2)!==0&&Ae!==0)return Ae&-Ae;if(D.T!==null){var e=na;return e!==0?e:uf()}return br()}function Xp(){Nn===0&&(Nn=(Ae&536870912)===0||Me?_r():536870912);var e=Tn.current;return e!==null&&(e.flags|=32),Nn}function fn(e,t,i){(e===Ge&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(ga(e,0),Vi(e,Ae,Nn,!1)),us(e,i),((ze&2)===0||e!==Ge)&&(e===Ge&&((ze&2)===0&&(xs|=i),at===4&&Vi(e,Ae,Nn,!1)),Zn(e))}function Fp(e,t,i){if((ze&6)!==0)throw Error(l(327));var r=!i&&(t&124)===0&&(t&e.expiredLanes)===0||_n(e,t),c=r?s0(e,t):lf(e,t,!0),u=r;do{if(c===0){ha&&!r&&Vi(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!n0(i)){c=lf(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var _=e;c=Cl;var S=_.current.memoizedState.isDehydrated;if(S&&(ga(_,d).flags|=256),d=lf(_,d,!1),d!==2){if(Zu&&!S){_.errorRecoveryDisabledLanes|=u,xs|=u,c=4;break e}u=Wt,Wt=c,u!==null&&(Wt===null?Wt=u:Wt.push.apply(Wt,u))}c=d}if(u=!1,c!==2)continue}}if(c===1){ga(e,0),Vi(e,t,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Vi(r,t,Nn,!Ui);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=Ju+300-ft(),10<c)){if(Vi(r,t,Nn,!Ui),In(r,0,!0)!==0)break e;r.timeoutHandle=Cg(Kp.bind(null,r,i,Wt,oo,$u,t,Nn,xs,da,Ui,u,2,-0,0),c);break e}Kp(r,i,Wt,oo,$u,t,Nn,xs,da,Ui,u,0,-0,0)}}break}while(!0);Zn(e)}function Kp(e,t,i,r,c,u,d,_,S,x,O,j,w,R){if(e.timeoutHandle=-1,j=t.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:U0},qp(t),j=B0(),j!==null)){e.cancelPendingCommit=j(ng.bind(null,e,t,u,i,r,c,d,_,S,O,1,w,R)),Vi(e,u,d,!x);return}ng(e,t,u,i,r,c,d,_,S)}function n0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],u=c.getSnapshot;c=c.value;try{if(!an(u(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vi(e,t,i,r){t&=~Wu,t&=~xs,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var u=31-Ye(c),d=1<<u;r[u]=-1,c&=~d}i!==0&&yr(e,i,t)}function co(){return(ze&6)===0?(Nl(0),!1):!0}function sf(){if(be!==null){if(ke===0)var e=be.return;else e=be,ri=Ss=null,bu(e),oa=null,pl=0,e=be;for(;e!==null;)wp(e.alternate,e),e=e.return;be=null}}function ga(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,b0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),sf(),Ge=e,be=i=si(e.current,null),Ae=t,ke=0,cn=null,Ui=!1,ha=_n(e,t),Zu=!1,da=Nn=Wu=xs=Li=at=0,Wt=Cl=null,$u=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Ye(r),u=1<<c;t|=e[c],r&=~u}return pi=t,Or(),i}function Zp(e,t){he=null,D.H=Zr,t===ll||t===Hr?(t=dm(),ke=3):t===um?(t=dm(),ke=4):ke=t===mp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,cn=t,be===null&&(at=1,to(e,bn(t,e.current)))}function Wp(){var e=D.H;return D.H=Zr,e===null?Zr:e}function $p(){var e=D.A;return D.A=e0,e}function af(){at=4,Ui||(Ae&4194048)!==Ae&&Tn.current!==null||(ha=!0),(Li&134217727)===0&&(xs&134217727)===0||Ge===null||Vi(Ge,Ae,Nn,!1)}function lf(e,t,i){var r=ze;ze|=2;var c=Wp(),u=$p();(Ge!==e||Ae!==t)&&(oo=null,ga(e,t)),t=!1;var d=at;e:do try{if(ke!==0&&be!==null){var _=be,S=cn;switch(ke){case 8:sf(),d=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(t=!0);var x=ke;if(ke=0,cn=null,_a(e,_,S,x),i&&ha){d=0;break e}break;default:x=ke,ke=0,cn=null,_a(e,_,S,x)}}i0(),d=at;break}catch(O){Zp(e,O)}while(!0);return t&&e.shellSuspendCounter++,ri=Ss=null,ze=r,D.H=c,D.A=u,be===null&&(Ge=null,Ae=0,Or()),d}function i0(){for(;be!==null;)Jp(be)}function s0(e,t){var i=ze;ze|=2;var r=Wp(),c=$p();Ge!==e||Ae!==t?(oo=null,ro=ft()+500,ga(e,t)):ha=_n(e,t);e:do try{if(ke!==0&&be!==null){t=be;var u=cn;t:switch(ke){case 1:ke=0,cn=null,_a(e,t,u,1);break;case 2:case 9:if(fm(u)){ke=0,cn=null,eg(t);break}t=function(){ke!==2&&ke!==9||Ge!==e||(ke=7),Zn(e)},u.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:fm(u)?(ke=0,cn=null,eg(t)):(ke=0,cn=null,_a(e,t,u,7));break;case 5:var d=null;switch(be.tag){case 26:d=be.memoizedState;case 5:case 27:var _=be;if(!d||zg(d)){ke=0,cn=null;var S=_.sibling;if(S!==null)be=S;else{var x=_.return;x!==null?(be=x,uo(x)):be=null}break t}}ke=0,cn=null,_a(e,t,u,5);break;case 6:ke=0,cn=null,_a(e,t,u,6);break;case 8:sf(),at=6;break e;default:throw Error(l(462))}}a0();break}catch(O){Zp(e,O)}while(!0);return ri=Ss=null,D.H=r,D.A=c,ze=i,be!==null?0:(Ge=null,Ae=0,Or(),at)}function a0(){for(;be!==null&&!cs();)Jp(be)}function Jp(e){var t=Ap(e.alternate,e,pi);e.memoizedProps=e.pendingProps,t===null?uo(e):be=t}function eg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=bp(i,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=bp(i,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:bu(t);default:wp(i,t),t=be=tm(t,pi),t=Ap(i,t,pi)}e.memoizedProps=e.pendingProps,t===null?uo(e):be=t}function _a(e,t,i,r){ri=Ss=null,bu(t),oa=null,pl=0;var c=t.return;try{if(Fb(e,c,t,i,Ae)){at=1,to(e,bn(i,e.current)),be=null;return}}catch(u){if(c!==null)throw be=c,u;at=1,to(e,bn(i,e.current)),be=null;return}t.flags&32768?(Me||r===1?e=!0:ha||(Ae&536870912)!==0?e=!1:(Ui=e=!0,(r===2||r===9||r===3||r===6)&&(r=Tn.current,r!==null&&r.tag===13&&(r.flags|=16384))),tg(t,e)):uo(t)}function uo(e){var t=e;do{if((t.flags&32768)!==0){tg(t,Ui);return}e=t.return;var i=Zb(t.alternate,t,pi);if(i!==null){be=i;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);at===0&&(at=5)}function tg(e,t){do{var i=Wb(e.alternate,e);if(i!==null){i.flags&=32767,be=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=i}while(e!==null);at=6,be=null}function ng(e,t,i,r,c,u,d,_,S){e.cancelPendingCommit=null;do fo();while(jt!==0);if((ze&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Kc,Ec(e,i,u,d,_,S),e===Ge&&(be=Ge=null,Ae=0),ma=t,Hi=e,pa=i,ef=u,tf=c,Pp=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,c0(ee,function(){return rg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,c=B.p,B.p=2,d=ze,ze|=4;try{$b(e,t,i)}finally{ze=d,B.p=c,D.T=r}}jt=1,ig(),sg(),ag()}}function ig(){if(jt===1){jt=0;var e=Hi,t=ma,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var r=B.p;B.p=2;var c=ze;ze|=4;try{Bp(t,e);var u=vf,d=Qd(e.containerInfo),_=u.focusedElem,S=u.selectionRange;if(d!==_&&_&&_.ownerDocument&&Gd(_.ownerDocument.documentElement,_)){if(S!==null&&Gc(_)){var x=S.start,O=S.end;if(O===void 0&&(O=x),"selectionStart"in _)_.selectionStart=x,_.selectionEnd=Math.min(O,_.value.length);else{var j=_.ownerDocument||document,w=j&&j.defaultView||window;if(w.getSelection){var R=w.getSelection(),ae=_.textContent.length,J=Math.min(S.start,ae),Be=S.end===void 0?J:Math.min(S.end,ae);!R.extend&&J>Be&&(d=Be,Be=J,J=d);var N=Yd(_,J),T=Yd(_,Be);if(N&&T&&(R.rangeCount!==1||R.anchorNode!==N.node||R.anchorOffset!==N.offset||R.focusNode!==T.node||R.focusOffset!==T.offset)){var A=j.createRange();A.setStart(N.node,N.offset),R.removeAllRanges(),J>Be?(R.addRange(A),R.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),R.addRange(A))}}}}for(j=[],R=_;R=R.parentNode;)R.nodeType===1&&j.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<j.length;_++){var M=j[_];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}To=!!_f,vf=_f=null}finally{ze=c,B.p=r,D.T=i}}e.current=t,jt=2}}function sg(){if(jt===2){jt=0;var e=Hi,t=ma,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var r=B.p;B.p=2;var c=ze;ze|=4;try{zp(e,t.alternate,t)}finally{ze=c,B.p=r,D.T=i}}jt=3}}function ag(){if(jt===4||jt===3){jt=0,Hs();var e=Hi,t=ma,i=pa,r=Pp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?jt=5:(jt=0,ma=Hi=null,lg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Bi=null),qs(i),t=t.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Te,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=D.T,c=B.p,B.p=2,D.T=null;try{for(var u=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];u(_.value,{componentStack:_.stack})}}finally{D.T=t,B.p=c}}(pa&3)!==0&&fo(),Zn(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===nf?Tl++:(Tl=0,nf=e):Tl=0,Nl(0)}}function lg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,sl(t)))}function fo(e){return ig(),sg(),ag(),rg()}function rg(){if(jt!==5)return!1;var e=Hi,t=ef;ef=0;var i=qs(pa),r=D.T,c=B.p;try{B.p=32>i?32:i,D.T=null,i=tf,tf=null;var u=Hi,d=pa;if(jt=0,ma=Hi=null,pa=0,(ze&6)!==0)throw Error(l(331));var _=ze;if(ze|=4,Gp(u.current),Vp(u,u.current,d,i),ze=_,Nl(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Te,u)}catch{}return!0}finally{B.p=c,D.T=r,lg(e,t)}}function og(e,t,i){t=bn(i,t),t=Iu(e.stateNode,t,2),e=Di(e,t,2),e!==null&&(us(e,2),Zn(e))}function He(e,t,i){if(e.tag===3)og(e,e,i);else for(;t!==null;){if(t.tag===3){og(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){e=bn(i,e),i=hp(2),r=Di(t,i,2),r!==null&&(dp(i,r,t,e),us(r,2),Zn(r));break}}t=t.return}}function rf(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new t0;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(i)||(Zu=!0,c.add(i),e=l0.bind(null,e,t,i),t.then(e,e))}function l0(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ge===e&&(Ae&i)===i&&(at===4||at===3&&(Ae&62914560)===Ae&&300>ft()-Ju?(ze&2)===0&&ga(e,0):Wu|=i,da===Ae&&(da=0)),Zn(e)}function cg(e,t){t===0&&(t=vr()),e=$s(e,t),e!==null&&(us(e,t),Zn(e))}function r0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),cg(e,i)}function o0(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),cg(e,i)}function c0(e,t){return qn(e,t)}var ho=null,va=null,of=!1,mo=!1,cf=!1,ws=0;function Zn(e){e!==va&&e.next===null&&(va===null?ho=va=e:va=va.next=e),mo=!0,of||(of=!0,f0())}function Nl(e,t){if(!cf&&mo){cf=!0;do for(var i=!1,r=ho;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var d=r.suspendedLanes,_=r.pingedLanes;u=(1<<31-Ye(42|e)+1)-1,u&=c&~(d&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,dg(r,u))}else u=Ae,u=In(r,r===Ge?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||_n(r,u)||(i=!0,dg(r,u));r=r.next}while(i);cf=!1}}function u0(){ug()}function ug(){mo=of=!1;var e=0;ws!==0&&(y0()&&(e=ws),ws=0);for(var t=ft(),i=null,r=ho;r!==null;){var c=r.next,u=fg(r,t);u===0?(r.next=null,i===null?ho=c:i.next=c,c===null&&(va=i)):(i=r,(e!==0||(u&3)!==0)&&(mo=!0)),r=c}Nl(e)}function fg(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var d=31-Ye(u),_=1<<d,S=c[d];S===-1?((_&i)===0||(_&r)!==0)&&(c[d]=Sc(_,t)):S<=t&&(e.expiredLanes|=_),u&=~_}if(t=Ge,i=Ae,i=In(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Yn(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||_n(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&Yn(r),qs(i)){case 2:case 8:i=re;break;case 32:i=ee;break;case 268435456:i=Q;break;default:i=ee}return r=hg.bind(null,e),i=qn(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&Yn(r),e.callbackPriority=2,e.callbackNode=null,2}function hg(e,t){if(jt!==0&&jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(fo()&&e.callbackNode!==i)return null;var r=Ae;return r=In(e,e===Ge?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Fp(e,r,t),fg(e,ft()),e.callbackNode!=null&&e.callbackNode===i?hg.bind(null,e):null)}function dg(e,t){if(fo())return null;Fp(e,t,!0)}function f0(){S0(function(){(ze&6)!==0?qn(Ci,u0):ug()})}function uf(){return ws===0&&(ws=_r()),ws}function mg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Tr(""+e)}function pg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function h0(e,t,i,r,c){if(t==="submit"&&i&&i.stateNode===c){var u=mg((c[Ut]||null).action),d=r.submitter;d&&(t=(t=d[Ut]||null)?mg(t.formAction):d.getAttribute("formAction"),t!==null&&(u=t,d=null));var _=new wr("action","action",null,r,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ws!==0){var S=d?pg(c,d):new FormData(c);Ru(i,{pending:!0,data:S,method:c.method,action:u},null,S)}}else typeof u=="function"&&(_.preventDefault(),S=d?pg(c,d):new FormData(c),Ru(i,{pending:!0,data:S,method:c.method,action:u},u,S))},currentTarget:c}]})}}for(var ff=0;ff<Fc.length;ff++){var hf=Fc[ff],d0=hf.toLowerCase(),m0=hf[0].toUpperCase()+hf.slice(1);zn(d0,"on"+m0)}zn(Fd,"onAnimationEnd"),zn(Kd,"onAnimationIteration"),zn(Zd,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Ob,"onTransitionRun"),zn(Mb,"onTransitionStart"),zn(jb,"onTransitionCancel"),zn(Wd,"onTransitionEnd"),Xt("onMouseEnter",["mouseout","mouseover"]),Xt("onMouseLeave",["mouseout","mouseover"]),Xt("onPointerEnter",["pointerout","pointerover"]),Xt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function gg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],c=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var d=r.length-1;0<=d;d--){var _=r[d],S=_.instance,x=_.currentTarget;if(_=_.listener,S!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=x;try{u(c)}catch(O){eo(O)}c.currentTarget=null,u=S}else for(d=0;d<r.length;d++){if(_=r[d],S=_.instance,x=_.currentTarget,_=_.listener,S!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=x;try{u(c)}catch(O){eo(O)}c.currentTarget=null,u=S}}}}function Se(e,t){var i=t[Ya];i===void 0&&(i=t[Ya]=new Set);var r=e+"__bubble";i.has(r)||(_g(t,e,2,!1),i.add(r))}function df(e,t,i){var r=0;t&&(r|=4),_g(i,e,r,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[po]){e[po]=!0,ye.forEach(function(i){i!=="selectionchange"&&(p0.has(i)||df(i,!1,e),df(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,df("selectionchange",!1,t))}}function _g(e,t,i,r){switch(Vg(t)){case 2:var c=q0;break;case 8:c=Y0;break;default:c=wf}i=c.bind(null,t,i,e),c=void 0,!zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function pf(e,t,i,r,c){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===c)break;if(d===4)for(d=r.return;d!==null;){var S=d.tag;if((S===3||S===4)&&d.stateNode.containerInfo===c)return;d=d.return}for(;_!==null;){if(d=Ni(_),d===null)return;if(S=d.tag,S===5||S===6||S===26||S===27){r=u=d;continue e}_=_.parentNode}}r=r.return}Td(function(){var x=u,O=jc(i),j=[];e:{var w=$d.get(e);if(w!==void 0){var R=wr,ae=e;switch(e){case"keypress":if(Ar(i)===0)break e;case"keydown":case"keyup":R=cb;break;case"focusin":ae="focus",R=Bc;break;case"focusout":ae="blur",R=Bc;break;case"beforeblur":case"afterblur":R=Bc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=hb;break;case Fd:case Kd:case Zd:R=eb;break;case Wd:R=mb;break;case"scroll":case"scrollend":R=Ky;break;case"wheel":R=gb;break;case"copy":case"cut":case"paste":R=nb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Rd;break;case"toggle":case"beforetoggle":R=vb}var J=(t&4)!==0,Be=!J&&(e==="scroll"||e==="scrollend"),N=J?w!==null?w+"Capture":null:w;J=[];for(var T=x,A;T!==null;){var M=T;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||N===null||(M=Qa(T,N),M!=null&&J.push(xl(T,M,A))),Be)break;T=T.return}0<J.length&&(w=new R(w,ae,null,i,O),j.push({event:w,listeners:J}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",w&&i!==Mc&&(ae=i.relatedTarget||i.fromElement)&&(Ni(ae)||ae[Ti]))break e;if((R||w)&&(w=O.window===O?O:(w=O.ownerDocument)?w.defaultView||w.parentWindow:window,R?(ae=i.relatedTarget||i.toElement,R=x,ae=ae?Ni(ae):null,ae!==null&&(Be=f(ae),J=ae.tag,ae!==Be||J!==5&&J!==27&&J!==6)&&(ae=null)):(R=null,ae=x),R!==ae)){if(J=xd,M="onMouseLeave",N="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(J=Rd,M="onPointerLeave",N="onPointerEnter",T="pointer"),Be=R==null?w:hs(R),A=ae==null?w:hs(ae),w=new J(M,T+"leave",R,i,O),w.target=Be,w.relatedTarget=A,M=null,Ni(O)===x&&(J=new J(N,T+"enter",ae,i,O),J.target=A,J.relatedTarget=Be,M=J),Be=M,R&&ae)t:{for(J=R,N=ae,T=0,A=J;A;A=ya(A))T++;for(A=0,M=N;M;M=ya(M))A++;for(;0<T-A;)J=ya(J),T--;for(;0<A-T;)N=ya(N),A--;for(;T--;){if(J===N||N!==null&&J===N.alternate)break t;J=ya(J),N=ya(N)}J=null}else J=null;R!==null&&vg(j,w,R,J,!1),ae!==null&&Be!==null&&vg(j,Be,ae,J,!0)}}e:{if(w=x?hs(x):window,R=w.nodeName&&w.nodeName.toLowerCase(),R==="select"||R==="input"&&w.type==="file")var Y=Ud;else if(zd(w))if(Ld)Y=wb;else{Y=Ab;var _e=Nb}else R=w.nodeName,!R||R.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?x&&Oc(x.elementType)&&(Y=Ud):Y=xb;if(Y&&(Y=Y(e,x))){kd(j,Y,i,O);break e}_e&&_e(e,w,x),e==="focusout"&&x&&w.type==="number"&&x.memoizedProps.value!=null&&Dc(w,"number",w.value)}switch(_e=x?hs(x):window,e){case"focusin":(zd(_e)||_e.contentEditable==="true")&&(Ks=_e,Qc=x,Ja=null);break;case"focusout":Ja=Qc=Ks=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,Pd(j,i,O);break;case"selectionchange":if(Db)break;case"keydown":case"keyup":Pd(j,i,O)}var F;if(Vc)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Fs?jd(e,i)&&(te="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(te="onCompositionStart");te&&(Dd&&i.locale!=="ko"&&(Fs||te!=="onCompositionStart"?te==="onCompositionEnd"&&Fs&&(F=Nd()):(Ai=O,kc="value"in Ai?Ai.value:Ai.textContent,Fs=!0)),_e=go(x,te),0<_e.length&&(te=new wd(te,e,null,i,O),j.push({event:te,listeners:_e}),F?te.data=F:(F=Id(i),F!==null&&(te.data=F)))),(F=bb?Sb(e,i):Eb(e,i))&&(te=go(x,"onBeforeInput"),0<te.length&&(_e=new wd("onBeforeInput","beforeinput",null,i,O),j.push({event:_e,listeners:te}),_e.data=F)),h0(j,e,x,i,O)}gg(j,t)})}function xl(e,t,i){return{instance:e,listener:t,currentTarget:i}}function go(e,t){for(var i=t+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Qa(e,i),c!=null&&r.unshift(xl(e,c,u)),c=Qa(e,t),c!=null&&r.push(xl(e,c,u))),e.tag===3)return r;e=e.return}return[]}function ya(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vg(e,t,i,r,c){for(var u=t._reactName,d=[];i!==null&&i!==r;){var _=i,S=_.alternate,x=_.stateNode;if(_=_.tag,S!==null&&S===r)break;_!==5&&_!==26&&_!==27||x===null||(S=x,c?(x=Qa(i,u),x!=null&&d.unshift(xl(i,x,S))):c||(x=Qa(i,u),x!=null&&d.push(xl(i,x,S)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var g0=/\r\n?/g,_0=/\u0000|\uFFFD/g;function yg(e){return(typeof e=="string"?e:""+e).replace(g0,`
`).replace(_0,"")}function bg(e,t){return t=yg(t),yg(e)===t}function _o(){}function Le(e,t,i,r,c,u){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Qs(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Qs(e,""+r);break;case"className":Lt(e,"class",r);break;case"tabIndex":Lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Lt(e,i,r);break;case"style":Ed(e,r,u);break;case"data":if(t!=="object"){Lt(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Tr(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Le(e,t,"name",c.name,c,null),Le(e,t,"formEncType",c.formEncType,c,null),Le(e,t,"formMethod",c.formMethod,c,null),Le(e,t,"formTarget",c.formTarget,c,null)):(Le(e,t,"encType",c.encType,c,null),Le(e,t,"method",c.method,c,null),Le(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=Tr(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=_o);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=Tr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":Se("beforetoggle",e),Se("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Xy.get(i)||i,lt(e,i,r))}}function gf(e,t,i,r,c,u){switch(i){case"style":Ed(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Qs(e,r):(typeof r=="number"||typeof r=="bigint")&&Qs(e,""+r);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"onClick":r!=null&&(e.onclick=_o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Je.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),u=e[Ut]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,c);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):lt(e,i,r)}}}function It(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var r=!1,c=!1,u;for(u in i)if(i.hasOwnProperty(u)){var d=i[u];if(d!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Le(e,t,u,d,i,null)}}c&&Le(e,t,"srcSet",i.srcSet,i,null),r&&Le(e,t,"src",i.src,i,null);return;case"input":Se("invalid",e);var _=u=d=c=null,S=null,x=null;for(r in i)if(i.hasOwnProperty(r)){var O=i[r];if(O!=null)switch(r){case"name":c=O;break;case"type":d=O;break;case"checked":S=O;break;case"defaultChecked":x=O;break;case"value":u=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,t));break;default:Le(e,t,r,O,i,null)}}vd(e,u,_,S,x,d,c,!1),Er(e);return;case"select":Se("invalid",e),r=d=u=null;for(c in i)if(i.hasOwnProperty(c)&&(_=i[c],_!=null))switch(c){case"value":u=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:Le(e,t,c,_,i,null)}t=u,i=d,e.multiple=!!r,t!=null?Gs(e,!!r,t,!1):i!=null&&Gs(e,!!r,i,!0);return;case"textarea":Se("invalid",e),u=c=r=null;for(d in i)if(i.hasOwnProperty(d)&&(_=i[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":c=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Le(e,t,d,_,i,null)}bd(e,r,c,u),Er(e);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(r=i[S],r!=null))switch(S){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Le(e,t,S,r,i,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(r=0;r<Al.length;r++)Se(Al[r],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in i)if(i.hasOwnProperty(x)&&(r=i[x],r!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Le(e,t,x,r,i,null)}return;default:if(Oc(t)){for(O in i)i.hasOwnProperty(O)&&(r=i[O],r!==void 0&&gf(e,t,O,r,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(r=i[_],r!=null&&Le(e,t,_,r,i,null))}function v0(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,d=null,_=null,S=null,x=null,O=null;for(R in i){var j=i[R];if(i.hasOwnProperty(R)&&j!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":S=j;default:r.hasOwnProperty(R)||Le(e,t,R,null,r,j)}}for(var w in r){var R=r[w];if(j=i[w],r.hasOwnProperty(w)&&(R!=null||j!=null))switch(w){case"type":u=R;break;case"name":c=R;break;case"checked":x=R;break;case"defaultChecked":O=R;break;case"value":d=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:R!==j&&Le(e,t,w,R,r,j)}}Rc(e,d,_,S,x,O,u,c);return;case"select":R=d=_=w=null;for(u in i)if(S=i[u],i.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":R=S;default:r.hasOwnProperty(u)||Le(e,t,u,null,r,S)}for(c in r)if(u=r[c],S=i[c],r.hasOwnProperty(c)&&(u!=null||S!=null))switch(c){case"value":w=u;break;case"defaultValue":_=u;break;case"multiple":d=u;default:u!==S&&Le(e,t,c,u,r,S)}t=_,i=d,r=R,w!=null?Gs(e,!!i,w,!1):!!r!=!!i&&(t!=null?Gs(e,!!i,t,!0):Gs(e,!!i,i?[]:"",!1));return;case"textarea":R=w=null;for(_ in i)if(c=i[_],i.hasOwnProperty(_)&&c!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Le(e,t,_,null,r,c)}for(d in r)if(c=r[d],u=i[d],r.hasOwnProperty(d)&&(c!=null||u!=null))switch(d){case"value":w=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==u&&Le(e,t,d,c,r,u)}yd(e,w,R);return;case"option":for(var ae in i)if(w=i[ae],i.hasOwnProperty(ae)&&w!=null&&!r.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Le(e,t,ae,null,r,w)}for(S in r)if(w=r[S],R=i[S],r.hasOwnProperty(S)&&w!==R&&(w!=null||R!=null))switch(S){case"selected":e.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Le(e,t,S,w,r,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in i)w=i[J],i.hasOwnProperty(J)&&w!=null&&!r.hasOwnProperty(J)&&Le(e,t,J,null,r,w);for(x in r)if(w=r[x],R=i[x],r.hasOwnProperty(x)&&w!==R&&(w!=null||R!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(l(137,t));break;default:Le(e,t,x,w,r,R)}return;default:if(Oc(t)){for(var Be in i)w=i[Be],i.hasOwnProperty(Be)&&w!==void 0&&!r.hasOwnProperty(Be)&&gf(e,t,Be,void 0,r,w);for(O in r)w=r[O],R=i[O],!r.hasOwnProperty(O)||w===R||w===void 0&&R===void 0||gf(e,t,O,w,r,R);return}}for(var N in i)w=i[N],i.hasOwnProperty(N)&&w!=null&&!r.hasOwnProperty(N)&&Le(e,t,N,null,r,w);for(j in r)w=r[j],R=i[j],!r.hasOwnProperty(j)||w===R||w==null&&R==null||Le(e,t,j,w,r,R)}var _f=null,vf=null;function vo(e){return e.nodeType===9?e:e.ownerDocument}function Sg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bf=null;function y0(){var e=window.event;return e&&e.type==="popstate"?e===bf?!1:(bf=e,!0):(bf=null,!1)}var Cg=typeof setTimeout=="function"?setTimeout:void 0,b0=typeof clearTimeout=="function"?clearTimeout:void 0,Tg=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof Tg<"u"?function(e){return Tg.resolve(null).then(e).catch(E0)}:Cg;function E0(e){setTimeout(function(){throw e})}function qi(e){return e==="head"}function Ng(e,t){var i=t,r=0,c=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(0<r&&8>r){i=r;var d=e.ownerDocument;if(i&1&&wl(d.documentElement),i&2&&wl(d.body),i&4)for(i=d.head,wl(i),d=i.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[fs]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=_}}if(c===0){e.removeChild(u),kl(t);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:r=i.charCodeAt(0)-48;else r=0;i=u}while(i);kl(t)}function Sf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Sf(i),Ga(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function C0(e,t,i,r){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[fs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function T0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function Ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function N0(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Cf=null;function Ag(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function xg(e,t,i){switch(t=vo(i),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function wl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ga(e)}var An=new Map,wg=new Set;function yo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gi=B.d;B.d={f:A0,r:x0,D:w0,C:R0,L:D0,m:O0,X:j0,S:M0,M:I0};function A0(){var e=gi.f(),t=co();return e||t}function x0(e){var t=ni(e);t!==null&&t.tag===5&&t.type==="form"?Fm(t):gi.r(e)}var ba=typeof document>"u"?null:document;function Rg(e,t,i){var r=ba;if(r&&typeof t=="string"&&t){var c=yn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),wg.has(c)||(wg.add(c),e={rel:e,crossOrigin:i,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),It(t,"link",e),G(t),r.head.appendChild(t)))}}function w0(e){gi.D(e),Rg("dns-prefetch",e,null)}function R0(e,t){gi.C(e,t),Rg("preconnect",e,t)}function D0(e,t,i){gi.L(e,t,i);var r=ba;if(r&&e&&t){var c='link[rel="preload"][as="'+yn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+yn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+yn(i.imageSizes)+'"]')):c+='[href="'+yn(e)+'"]';var u=c;switch(t){case"style":u=Sa(e);break;case"script":u=Ea(e)}An.has(u)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),An.set(u,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(Rl(u))||t==="script"&&r.querySelector(Dl(u))||(t=r.createElement("link"),It(t,"link",e),G(t),r.head.appendChild(t)))}}function O0(e,t){gi.m(e,t);var i=ba;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+yn(r)+'"][href="'+yn(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ea(e)}if(!An.has(u)&&(e=b({rel:"modulepreload",href:e},t),An.set(u,e),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Dl(u)))return}r=i.createElement("link"),It(r,"link",e),G(r),i.head.appendChild(r)}}}function M0(e,t,i){gi.S(e,t,i);var r=ba;if(r&&e){var c=q(r).hoistableStyles,u=Sa(e);t=t||"default";var d=c.get(u);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(Rl(u)))_.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=An.get(u))&&Tf(e,i);var S=d=r.createElement("link");G(S),It(S,"link",e),S._p=new Promise(function(x,O){S.onload=x,S.onerror=O}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,bo(d,t,r)}d={type:"stylesheet",instance:d,count:1,state:_},c.set(u,d)}}}function j0(e,t){gi.X(e,t);var i=ba;if(i&&e){var r=q(i).hoistableScripts,c=Ea(e),u=r.get(c);u||(u=i.querySelector(Dl(c)),u||(e=b({src:e,async:!0},t),(t=An.get(c))&&Nf(e,t),u=i.createElement("script"),G(u),It(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function I0(e,t){gi.M(e,t);var i=ba;if(i&&e){var r=q(i).hoistableScripts,c=Ea(e),u=r.get(c);u||(u=i.querySelector(Dl(c)),u||(e=b({src:e,async:!0,type:"module"},t),(t=An.get(c))&&Nf(e,t),u=i.createElement("script"),G(u),It(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function Dg(e,t,i,r){var c=(c=X.current)?yo(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Sa(i.href),i=q(c).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Sa(i.href);var u=q(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Rl(e)))&&!u._p&&(d.instance=u,d.state.loading=5),An.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},An.set(e,i),u||z0(c,e,i,d.state))),t&&r===null)throw Error(l(528,""));return d}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ea(i),i=q(c).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Sa(e){return'href="'+yn(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function Og(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function z0(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),It(t,"link",i),G(t),e.head.appendChild(t))}function Ea(e){return'[src="'+yn(e)+'"]'}function Dl(e){return"script[async]"+e}function Mg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yn(i.href)+'"]');if(r)return t.instance=r,G(r),r;var c=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),G(r),It(r,"style",c),bo(r,i.precedence,e),t.instance=r;case"stylesheet":c=Sa(i.href);var u=e.querySelector(Rl(c));if(u)return t.state.loading|=4,t.instance=u,G(u),u;r=Og(i),(c=An.get(c))&&Tf(r,c),u=(e.ownerDocument||e).createElement("link"),G(u);var d=u;return d._p=new Promise(function(_,S){d.onload=_,d.onerror=S}),It(u,"link",r),t.state.loading|=4,bo(u,i.precedence,e),t.instance=u;case"script":return u=Ea(i.src),(c=e.querySelector(Dl(u)))?(t.instance=c,G(c),c):(r=i,(c=An.get(u))&&(r=b({},i),Nf(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),G(c),It(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,bo(r,i.precedence,e));return t.instance}function bo(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===t)u=_;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Tf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Nf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var So=null;function jg(e,t,i){if(So===null){var r=new Map,c=So=new Map;c.set(i,r)}else c=So,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var u=i[c];if(!(u[fs]||u[bt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var d=u.getAttribute(t)||"";d=e+d;var _=r.get(d);_?_.push(u):r.set(d,[u])}}return r}function Ig(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function k0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ol=null;function U0(){}function L0(e,t,i){if(Ol===null)throw Error(l(475));var r=Ol;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=Sa(i.href),u=e.querySelector(Rl(c));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Eo.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=u,G(u);return}u=e.ownerDocument||e,i=Og(i),(c=An.get(c))&&Tf(i,c),u=u.createElement("link"),G(u);var d=u;d._p=new Promise(function(_,S){d.onload=_,d.onerror=S}),It(u,"link",i),t.instance=u}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=Eo.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function B0(){if(Ol===null)throw Error(l(475));var e=Ol;return e.stylesheets&&e.count===0&&Af(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Af(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Eo(){if(this.count--,this.count===0){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Co=null;function Af(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Co=new Map,t.forEach(H0,e),Co=null,Eo.call(e))}function H0(e,t){if(!(t.state.loading&4)){var i=Co.get(e);if(i)var r=i.get(null);else{i=new Map,Co.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var d=c[u];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),r=d)}r&&i.set(null,r)}c=t.instance,d=c.getAttribute("data-precedence"),u=i.get(d)||r,u===r&&i.set(null,c),i.set(d,c),this.count++,r=Eo.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ml={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function V0(e,t,i,r,c,u,d,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.hiddenUpdates=Va(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function kg(e,t,i,r,c,u,d,_,S,x,O,j){return e=new V0(e,t,i,d,_,S,x,j),t=1,u===!0&&(t|=24),u=ln(3,null,null,t),e.current=u,u.stateNode=e,t=lu(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:i,cache:t},uu(u),e}function Ug(e){return e?(e=Js,e):Js}function Lg(e,t,i,r,c,u){c=Ug(c),r.context===null?r.context=c:r.pendingContext=c,r=Ri(t),r.payload={element:i},u=u===void 0?null:u,u!==null&&(r.callback=u),i=Di(e,r,t),i!==null&&(fn(i,e,t),ol(i,e,t))}function Bg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function xf(e,t){Bg(e,t),(e=e.alternate)&&Bg(e,t)}function Hg(e){if(e.tag===13){var t=$s(e,67108864);t!==null&&fn(t,e,67108864),xf(e,67108864)}}var To=!0;function q0(e,t,i,r){var c=D.T;D.T=null;var u=B.p;try{B.p=2,wf(e,t,i,r)}finally{B.p=u,D.T=c}}function Y0(e,t,i,r){var c=D.T;D.T=null;var u=B.p;try{B.p=8,wf(e,t,i,r)}finally{B.p=u,D.T=c}}function wf(e,t,i,r){if(To){var c=Rf(r);if(c===null)pf(e,t,r,No,i),qg(e,r);else if(Q0(c,e,t,i,r))r.stopPropagation();else if(qg(e,r),t&4&&-1<G0.indexOf(e)){for(;c!==null;){var u=ni(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=Pt(u.pendingLanes);if(d!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var S=1<<31-Ye(d);_.entanglements[1]|=S,d&=~S}Zn(u),(ze&6)===0&&(ro=ft()+500,Nl(0))}}break;case 13:_=$s(u,2),_!==null&&fn(_,u,2),co(),xf(u,2)}if(u=Rf(r),u===null&&pf(e,t,r,No,i),u===c)break;c=u}c!==null&&r.stopPropagation()}else pf(e,t,r,null,i)}}function Rf(e){return e=jc(e),Df(e)}var No=null;function Df(e){if(No=null,e=Ni(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return No=e,null}function Vg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ha()){case Ci:return 2;case re:return 8;case ee:case U:return 32;case Q:return 268435456;default:return 32}default:return 32}}var Of=!1,Yi=null,Gi=null,Qi=null,jl=new Map,Il=new Map,Pi=[],G0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qg(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function zl(e,t,i,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},t!==null&&(t=ni(t),t!==null&&Hg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Q0(e,t,i,r,c){switch(t){case"focusin":return Yi=zl(Yi,e,t,i,r,c),!0;case"dragenter":return Gi=zl(Gi,e,t,i,r,c),!0;case"mouseover":return Qi=zl(Qi,e,t,i,r,c),!0;case"pointerover":var u=c.pointerId;return jl.set(u,zl(jl.get(u)||null,e,t,i,r,c)),!0;case"gotpointercapture":return u=c.pointerId,Il.set(u,zl(Il.get(u)||null,e,t,i,r,c)),!0}return!1}function Yg(e){var t=Ni(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,Cc(e.priority,function(){if(i.tag===13){var r=un();r=qa(r);var c=$s(i,r);c!==null&&fn(c,i,r),xf(i,r)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Rf(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);Mc=r,i.target.dispatchEvent(r),Mc=null}else return t=ni(i),t!==null&&Hg(t),e.blockedOn=i,!1;t.shift()}return!0}function Gg(e,t,i){Ao(e)&&i.delete(t)}function P0(){Of=!1,Yi!==null&&Ao(Yi)&&(Yi=null),Gi!==null&&Ao(Gi)&&(Gi=null),Qi!==null&&Ao(Qi)&&(Qi=null),jl.forEach(Gg),Il.forEach(Gg)}function xo(e,t){e.blockedOn===t&&(e.blockedOn=null,Of||(Of=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,P0)))}var wo=null;function Qg(e){wo!==e&&(wo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){wo===e&&(wo=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Df(r||i)===null)continue;break}var u=ni(i);u!==null&&(e.splice(t,3),t-=3,Ru(u,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function kl(e){function t(S){return xo(S,e)}Yi!==null&&xo(Yi,e),Gi!==null&&xo(Gi,e),Qi!==null&&xo(Qi,e),jl.forEach(t),Il.forEach(t);for(var i=0;i<Pi.length;i++){var r=Pi[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Pi.length&&(i=Pi[0],i.blockedOn===null);)Yg(i),i.blockedOn===null&&Pi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],u=i[r+1],d=c[Ut]||null;if(typeof u=="function")d||Qg(i);else if(d){var _=null;if(u&&u.hasAttribute("formAction")){if(c=u,d=u[Ut]||null)_=d.formAction;else if(Df(c)!==null)continue}else _=d.action;typeof _=="function"?i[r+1]=_:(i.splice(r,3),r-=3),Qg(i)}}}function Mf(e){this._internalRoot=e}Ro.prototype.render=Mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var i=t.current,r=un();Lg(i,r,e,t,null,null)},Ro.prototype.unmount=Mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lg(e.current,2,null,e,null,null),co(),t[Ti]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=br();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Pi.length&&t!==0&&t<Pi[i].priority;i++);Pi.splice(i,0,e),i===0&&Yg(e)}};var Pg=n.version;if(Pg!=="19.1.1")throw Error(l(527,Pg,"19.1.1"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var X0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{Te=Do.inject(X0),we=Do}catch{}}return Ll.createRoot=function(e,t){if(!o(e))throw Error(l(299));var i=!1,r="",c=op,u=cp,d=up,_=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(_=t.unstable_transitionCallbacks)),t=kg(e,1,!1,null,null,i,r,c,u,d,_,null),e[Ti]=t.current,mf(e),new Mf(t)},Ll.hydrateRoot=function(e,t,i){if(!o(e))throw Error(l(299));var r=!1,c="",u=op,d=cp,_=up,S=null,x=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(x=i.formState)),t=kg(e,1,!0,t,i??null,r,c,u,d,_,S,x),t.context=Ug(null),i=t.current,r=un(),r=qa(r),c=Ri(r),c.callback=null,Di(i,c,r),i=r,t.current.lanes=i,us(t,i),Zn(t),e[Ti]=t.current,mf(e),new Ro(t)},Ll.version="19.1.1",Ll}var i_;function sS(){if(i_)return zf.exports;i_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),zf.exports=iS(),zf.exports}var aS=sS();const lS=()=>{};var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(a,n){if(!a)throw Ia(n)},Ia=function(a){return new Error("Firebase Database ("+iv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=function(a){const n=[];let s=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},rS=function(a){const n=[];let s=0,l=0;for(;s<a.length;){const o=a[s++];if(o<128)n[l++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[s++];n[l++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[s++],h=a[s++],m=a[s++],g=((o&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;n[l++]=String.fromCharCode(55296+(g>>10)),n[l++]=String.fromCharCode(56320+(g&1023))}else{const f=a[s++],h=a[s++];n[l++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},Ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const f=a[o],h=o+1<a.length,m=h?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,b=f>>2,y=(f&3)<<4|m>>4;let E=(m&15)<<2|p>>6,z=p&63;g||(z=64,h||(E=64)),l.push(s[b],s[y],s[E],s[z])}return l.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(sv(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):rS(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const f=s[a.charAt(o++)],m=o<a.length?s[a.charAt(o)]:0;++o;const p=o<a.length?s[a.charAt(o)]:64;++o;const y=o<a.length?s[a.charAt(o)]:64;if(++o,f==null||m==null||p==null||y==null)throw new oS;const E=f<<2|m>>4;if(l.push(E),p!==64){const z=m<<4&240|p>>2;if(l.push(z),y!==64){const k=p<<6&192|y;l.push(k)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class oS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const av=function(a){const n=sv(a);return Ch.encodeByteArray(n,!0)},Io=function(a){return av(a).replace(/\./g,"")},zo=function(a){try{return Ch.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(a){return Fl(void 0,a)}function Fl(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!uS(s)||(a[s]=Fl(a[s],n[s]));return a}function uS(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=()=>lv().__FIREBASE_DEFAULTS__,hS=()=>{if(typeof process>"u"||typeof s_>"u")return;const a=s_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},dS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&zo(a[1]);return n&&JSON.parse(n)},mS=()=>{try{return lS()||fS()||hS()||dS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Th=()=>mS()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,l)=>{s?this.reject(s):this.resolve(l),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pS(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},l=n||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Io(JSON.stringify(s)),Io(JSON.stringify(h)),""].join(".")}const Yl={};function _S(){const a={prod:[],emulator:[]};for(const n of Object.keys(Yl))Yl[n]?a.emulator.push(n):a.prod.push(n);return a}function vS(a){let n=document.getElementById(a),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),s=!0),{created:s,element:n}}let a_=!1;function yS(a,n){if(typeof window>"u"||typeof document>"u"||!Nh(window.location.host)||Yl[a]===n||Yl[a]||a_)return;Yl[a]=n;function s(E){return`__firebase__banner__${E}`}const l="__firebase__banner",f=_S().prod.length>0;function h(){const E=document.getElementById(l);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,z){E.setAttribute("width","24"),E.setAttribute("id",z),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{a_=!0,h()},E}function b(E,z){E.setAttribute("id",z),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=vS(l),z=s("text"),k=document.getElementById(z)||document.createElement("span"),$=s("learnmore"),oe=document.getElementById($)||document.createElement("a"),ie=s("preprendIcon"),ue=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Ee=E.element;m(Ee),b(oe,$);const Ie=p();g(ue,ie),Ee.append(ue,k,oe,Ie),document.body.appendChild(Ee)}f?(k.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bS())}function SS(){return typeof window<"u"||ov()}function ov(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ES(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CS(){return iv.NODE_ADMIN===!0}function TS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((a,n)=>{try{let s=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="FirebaseError";class za extends Error{constructor(n,s,l){super(s),this.code=n,this.customData=l,this.name=AS,Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(n,s,l){this.service=n,this.serviceName=s,this.errors=l}create(n,...s){const l=s[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?xS(f,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new za(o,m,l)}}function xS(a,n){return a.replace(wS,(s,l)=>{const o=n[l];return o!=null?String(o):`<${l}?>`})}const wS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(a){return JSON.parse(a)}function vt(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=function(a){let n={},s={},l={},o="";try{const f=a.split(".");n=Kl(zo(f[0])||""),s=Kl(zo(f[1])||""),o=f[2],l=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:l,signature:o}},RS=function(a){const n=cv(a),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},DS=function(a){const n=cv(a).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function js(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function Wf(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function ko(a,n,s){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=n.call(s,a[o],o,a));return l}function Uo(a,n){if(a===n)return!0;const s=Object.keys(a),l=Object.keys(n);for(const o of s){if(!l.includes(o))return!1;const f=a[o],h=n[o];if(l_(f)&&l_(h)){if(!Uo(f,h))return!1}else if(f!==h)return!1}for(const o of l)if(!s.includes(o))return!1;return!0}function l_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(a){const n=[];for(const[s,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(l));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const l=this.W_;if(typeof n=="string")for(let y=0;y<16;y++)l[y]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let y=0;y<16;y++)l[y]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let y=16;y<80;y++){const E=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,b;for(let y=0;y<80;y++){y<40?y<20?(p=m^f&(h^m),b=1518500249):(p=f^h^m,b=1859775393):y<60?(p=f&h|m&(f|h),b=2400959708):(p=f^h^m,b=3395469782);const E=(o<<5|o>>>27)+p+g+b+l[y]&4294967295;g=m,m=h,h=(f<<30|f>>>2)&4294967295,f=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const l=s-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<s;){if(h===0)for(;o<=l;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<s;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<s;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[l]=this.chain_[o]>>f&255,++l;return n}}function jS(a,n){const s=new IS(a,n);return s.subscribe.bind(s)}class IS{constructor(n,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{n(this)}).catch(l=>{this.error(l)})}next(n){this.forEachObserver(s=>{s.next(n)})}error(n){this.forEachObserver(s=>{s.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,s,l){let o;if(n===void 0&&s===void 0&&l===void 0)throw new Error("Missing Observer.");zS(n,["next","error","complete"])?o=n:o={next:n,error:s,complete:l},o.next===void 0&&(o.next=Bf),o.error===void 0&&(o.error=Bf),o.complete===void 0&&(o.complete=Bf);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,n)}sendOne(n,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[n]!==void 0)try{s(this.observers[n])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zS(a,n){if(typeof a!="object"||a===null)return!1;for(const s of n)if(s in a&&typeof a[s]=="function")return!0;return!1}function Bf(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se=function(a,n,s,l){let o;if(l<n?o="at least "+n:l>s&&(o=s===0?"none":"no more than "+s),o){const f=a+" failed: Was called with "+l+(l===1?" argument.":" arguments.")+" Expects "+o+".";throw new Error(f)}};function en(a,n){return`${a} failed: ${n} argument `}function Nt(a,n,s,l){if(!(l&&!s)&&typeof s!="function")throw new Error(en(a,n)+"must be a valid function.")}function r_(a,n,s,l){if(s&&(typeof s!="object"||s===null))throw new Error(en(a,n)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=function(a){const n=[];let s=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const f=o-55296;l++,L(l<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(l)-56320;o=65536+(f<<10)+h}o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):o<65536?(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},Jo=function(a){let n=0;for(let s=0;s<a.length;s++){const l=a.charCodeAt(s);l<128?n++:l<2048?n+=2:l>=55296&&l<=56319?(n+=4,s++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(a){return a&&a._delegate?a._delegate:a}class bi{constructor(n,s,l){this.name=n,this.instanceFactory=s,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const l=new $t;if(this.instancesDeferred.set(s,l),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n?.identifier),l=n?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(LS(n))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[s,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const f=this.getOrInitializeService({instanceIdentifier:o});l.resolve(f)}catch{}}}}clearInstance(n=Rs){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Rs){return this.instances.has(n)}getOptions(n=Rs){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,l=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:s});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);l===m&&h.resolve(o)}return o}onInit(n,s){const l=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(l)??new Set;o.add(n),this.onInitCallbacks.set(l,o);const f=this.instances.get(l);return f&&n(f,l),()=>{o.delete(n)}}invokeOnInitCallbacks(n,s){const l=this.onInitCallbacks.get(s);if(l)for(const o of l)try{o(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let l=this.instances.get(n);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:US(n),options:s}),this.instances.set(n,l),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(l,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,l)}catch{}return l||null}normalizeInstanceIdentifier(n=Rs){return this.component?this.component.multipleInstances?n:Rs:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function US(a){return a===Rs?void 0:a}function LS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new $f(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=[];var Ve;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ve||(Ve={}));const uv={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},BS=Ve.INFO,HS={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},VS=(a,n,...s)=>{if(n<a.logLevel)return;const l=new Date().toISOString(),o=HS[n];if(o)console[o](`[${l}]  ${a.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class ec{constructor(n){this.name=n,this._logLevel=BS,this._logHandler=VS,this._userLogHandler=null,xh.push(this)}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ve))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?uv[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...n),this._logHandler(this,Ve.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...n),this._logHandler(this,Ve.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...n),this._logHandler(this,Ve.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...n),this._logHandler(this,Ve.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...n),this._logHandler(this,Ve.ERROR,...n)}}function qS(a){xh.forEach(n=>{n.setLogLevel(a)})}function YS(a,n){for(const s of xh){let l=null;n&&n.level&&(l=uv[n.level]),a===null?s.userLogHandler=null:s.userLogHandler=(o,f,...h)=>{const m=h.map(g=>{if(g==null)return null;if(typeof g=="string")return g;if(typeof g=="number"||typeof g=="boolean")return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch{return null}}).filter(g=>g).join(" ");f>=(l??o.logLevel)&&a({level:Ve[f].toLowerCase(),message:m,args:h,type:o.name})}}}const GS=(a,n)=>n.some(s=>a instanceof s);let o_,c_;function QS(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fv=new WeakMap,Jf=new WeakMap,hv=new WeakMap,Hf=new WeakMap,wh=new WeakMap;function XS(a){const n=new Promise((s,l)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{s(Zi(a.result)),o()},h=()=>{l(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",h)});return n.then(s=>{s instanceof IDBCursor&&fv.set(s,a)}).catch(()=>{}),wh.set(n,a),n}function FS(a){if(Jf.has(a))return;const n=new Promise((s,l)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{s(),o()},h=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});Jf.set(a,n)}let eh={get(a,n,s){if(a instanceof IDBTransaction){if(n==="done")return Jf.get(a);if(n==="objectStoreNames")return a.objectStoreNames||hv.get(a);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Zi(a[n])},set(a,n,s){return a[n]=s,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function KS(a){eh=a(eh)}function ZS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const l=a.call(Vf(this),n,...s);return hv.set(l,n.sort?n.sort():[n]),Zi(l)}:PS().includes(a)?function(...n){return a.apply(Vf(this),n),Zi(fv.get(this))}:function(...n){return Zi(a.apply(Vf(this),n))}}function WS(a){return typeof a=="function"?ZS(a):(a instanceof IDBTransaction&&FS(a),GS(a,QS())?new Proxy(a,eh):a)}function Zi(a){if(a instanceof IDBRequest)return XS(a);if(Hf.has(a))return Hf.get(a);const n=WS(a);return n!==a&&(Hf.set(a,n),wh.set(n,a)),n}const Vf=a=>wh.get(a);function $S(a,n,{blocked:s,upgrade:l,blocking:o,terminated:f}={}){const h=indexedDB.open(a,n),m=Zi(h);return l&&h.addEventListener("upgradeneeded",g=>{l(Zi(h.result),g.oldVersion,g.newVersion,Zi(h.transaction),g)}),s&&h.addEventListener("blocked",g=>s(g.oldVersion,g.newVersion,g)),m.then(g=>{f&&g.addEventListener("close",()=>f()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const JS=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],qf=new Map;function u_(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(qf.get(n))return qf.get(n);const s=n.replace(/FromIndex$/,""),l=n!==s,o=e1.includes(s);if(!(s in(l?IDBIndex:IDBObjectStore).prototype)||!(o||JS.includes(s)))return;const f=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return l&&(p=p.index(m.shift())),(await Promise.all([p[s](...m),o&&g.done]))[0]};return qf.set(n,f),f}KS(a=>({...a,get:(n,s,l)=>u_(n,s)||a.get(n,s,l),has:(n,s)=>!!u_(n,s)||a.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(n1(s)){const l=s.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(s=>s).join(" ")}}function n1(a){return a.getComponent()?.type==="VERSION"}const Lo="@firebase/app",th="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new ec("@firebase/app"),i1="@firebase/app-compat",s1="@firebase/analytics-compat",a1="@firebase/analytics",l1="@firebase/app-check-compat",r1="@firebase/app-check",o1="@firebase/auth",c1="@firebase/auth-compat",u1="@firebase/database",f1="@firebase/data-connect",h1="@firebase/database-compat",d1="@firebase/functions",m1="@firebase/functions-compat",p1="@firebase/installations",g1="@firebase/installations-compat",_1="@firebase/messaging",v1="@firebase/messaging-compat",y1="@firebase/performance",b1="@firebase/performance-compat",S1="@firebase/remote-config",E1="@firebase/remote-config-compat",C1="@firebase/storage",T1="@firebase/storage-compat",N1="@firebase/firestore",A1="@firebase/ai",x1="@firebase/firestore-compat",w1="firebase",R1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]",D1={[Lo]:"fire-core",[i1]:"fire-core-compat",[a1]:"fire-analytics",[s1]:"fire-analytics-compat",[r1]:"fire-app-check",[l1]:"fire-app-check-compat",[o1]:"fire-auth",[c1]:"fire-auth-compat",[u1]:"fire-rtdb",[f1]:"fire-data-connect",[h1]:"fire-rtdb-compat",[d1]:"fire-fn",[m1]:"fire-fn-compat",[p1]:"fire-iid",[g1]:"fire-iid-compat",[_1]:"fire-fcm",[v1]:"fire-fcm-compat",[y1]:"fire-perf",[b1]:"fire-perf-compat",[S1]:"fire-rc",[E1]:"fire-rc-compat",[C1]:"fire-gcs",[T1]:"fire-gcs-compat",[N1]:"fire-fst",[x1]:"fire-fst-compat",[A1]:"fire-vertex","fire-js":"fire-js",[w1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Map,Aa=new Map,xa=new Map;function Zl(a,n){try{a.container.addComponent(n)}catch(s){Si.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,s)}}function dv(a,n){a.container.addOrOverwriteComponent(n)}function wa(a){const n=a.name;if(xa.has(n))return Si.debug(`There were multiple attempts to register component ${n}.`),!1;xa.set(n,a);for(const s of ts.values())Zl(s,a);for(const s of Aa.values())Zl(s,a);return!0}function mv(a,n){const s=a.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),a.container.getProvider(n)}function O1(a,n,s=es){mv(a,n).clearInstance(s)}function Rh(a){return a.options!==void 0}function pv(a){return Rh(a)?!1:"authIdToken"in a||"appCheckToken"in a||"releaseOnDeref"in a||"automaticDataCollectionEnabled"in a}function gv(a){return a==null?!1:a.settings!==void 0}function M1(){xa.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dn=new $o("app","Firebase",j1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v=class{constructor(n,s,l){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(a,n){const s=zo(a.split(".")[1]);if(s===null){console.error(`FirebaseServerApp ${n} is invalid: second part could not be parsed.`);return}if(JSON.parse(s).exp===void 0){console.error(`FirebaseServerApp ${n} is invalid: expiration claim could not be parsed`);return}const o=JSON.parse(s).exp*1e3,f=new Date().getTime();o-f<=0&&console.error(`FirebaseServerApp ${n} is invalid: the token has expired.`)}class I1 extends _v{constructor(n,s,l,o){const f=s.automaticDataCollectionEnabled!==void 0?s.automaticDataCollectionEnabled:!0,h={name:l,automaticDataCollectionEnabled:f};if(n.apiKey!==void 0)super(n,h,o);else{const m=n;super(m.options,h,o)}this._serverConfig={automaticDataCollectionEnabled:f,...s},this._serverConfig.authIdToken&&f_(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&f_(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,s.releaseOnDeref=void 0,vi(Lo,th,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(n){this.isDeleted||(this._refCount++,n!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(n,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Mh(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw dn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=R1;function Oh(a,n={}){let s=a;typeof n!="object"&&(n={name:n});const l={name:es,automaticDataCollectionEnabled:!0,...n},o=l.name;if(typeof o!="string"||!o)throw dn.create("bad-app-name",{appName:String(o)});if(s||(s=Th()),!s)throw dn.create("no-options");const f=ts.get(o);if(f){if(Uo(s,f.options)&&Uo(l,f.config))return f;throw dn.create("duplicate-app",{appName:o})}const h=new Ah(o);for(const g of xa.values())h.addComponent(g);const m=new _v(s,l,h);return ts.set(o,m),m}function z1(a,n={}){if(SS()&&!ov())throw dn.create("invalid-server-app-environment");let s,l=n||{};if(a&&(Rh(a)?s=a.options:pv(a)?l=a:s=a),l.automaticDataCollectionEnabled===void 0&&(l.automaticDataCollectionEnabled=!0),s||(s=Th()),!s)throw dn.create("no-options");const o={...l,...s};o.releaseOnDeref!==void 0&&delete o.releaseOnDeref;const f=b=>[...b].reduce((y,E)=>Math.imul(31,y)+E.charCodeAt(0)|0,0);if(l.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw dn.create("finalization-registry-not-supported",{});const h=""+f(JSON.stringify(o)),m=Aa.get(h);if(m)return m.incRefCount(l.releaseOnDeref),m;const g=new Ah(h);for(const b of xa.values())g.addComponent(b);const p=new I1(s,l,h,g);return Aa.set(h,p),p}function k1(a=es){const n=ts.get(a);if(!n&&a===es&&Th())return Oh();if(!n)throw dn.create("no-app",{appName:a});return n}function U1(){return Array.from(ts.values())}async function Mh(a){let n=!1;const s=a.name;ts.has(s)?(n=!0,ts.delete(s)):Aa.has(s)&&a.decRefCount()<=0&&(Aa.delete(s),n=!0),n&&(await Promise.all(a.container.getProviders().map(l=>l.delete())),a.isDeleted=!0)}function vi(a,n,s){let l=D1[a]??a;s&&(l+=`-${s}`);const o=l.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const h=[`Unable to register library "${l}" with version "${n}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Si.warn(h.join(" "));return}wa(new bi(`${l}-version`,()=>({library:l,version:n}),"VERSION"))}function vv(a,n){if(a!==null&&typeof a!="function")throw dn.create("invalid-log-argument");YS(a,n)}function yv(a){qS(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebase-heartbeat-database",B1=1,Wl="firebase-heartbeat-store";let Yf=null;function bv(){return Yf||(Yf=$S(L1,B1,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(Wl)}catch(s){console.warn(s)}}}}).catch(a=>{throw dn.create("idb-open",{originalErrorMessage:a.message})})),Yf}async function H1(a){try{const s=(await bv()).transaction(Wl),l=await s.objectStore(Wl).get(Sv(a));return await s.done,l}catch(n){if(n instanceof za)Si.warn(n.message);else{const s=dn.create("idb-get",{originalErrorMessage:n?.message});Si.warn(s.message)}}}async function h_(a,n){try{const l=(await bv()).transaction(Wl,"readwrite");await l.objectStore(Wl).put(n,Sv(a)),await l.done}catch(s){if(s instanceof za)Si.warn(s.message);else{const l=dn.create("idb-set",{originalErrorMessage:s?.message});Si.warn(l.message)}}}function Sv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=1024,q1=30;class Y1{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Q1(s),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=d_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>q1){const o=P1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Si.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d_(),{heartbeatsToSend:s,unsentEntries:l}=G1(this._heartbeatsCache.heartbeats),o=Io(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Si.warn(n),""}}}function d_(){return new Date().toISOString().substring(0,10)}function G1(a,n=V1){const s=[];let l=a.slice();for(const o of a){const f=s.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),m_(s)>n){f.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),m_(s)>n){s.pop();break}l=l.slice(1)}return{heartbeatsToSend:s,unsentEntries:l}}class Q1{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await H1(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return h_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return h_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...n.heartbeats]})}else return}}function m_(a){return Io(JSON.stringify({version:2,heartbeats:a})).length}function P1(a){if(a.length===0)return-1;let n=0,s=a[0].date;for(let l=1;l<a.length;l++)a[l].date<s&&(s=a[l].date,n=l);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(a){wa(new bi("platform-logger",n=>new t1(n),"PRIVATE")),wa(new bi("heartbeat",n=>new Y1(n),"PRIVATE")),vi(Lo,th,a),vi(Lo,th,"esm2020"),vi("fire-js","")}X1("");const F1=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:za,SDK_VERSION:Dh,_DEFAULT_ENTRY_NAME:es,_addComponent:Zl,_addOrOverwriteComponent:dv,_apps:ts,_clearComponents:M1,_components:xa,_getProvider:mv,_isFirebaseApp:Rh,_isFirebaseServerApp:gv,_isFirebaseServerAppSettings:pv,_registerComponent:wa,_removeServiceInstance:O1,_serverApps:Aa,deleteApp:Mh,getApp:k1,getApps:U1,initializeApp:Oh,initializeServerApp:z1,onLog:vv,registerVersion:vi,setLogLevel:yv},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(n,s){this._delegate=n,this.firebase=s,Zl(n,new bi("app-compat",()=>this,"PUBLIC")),this.container=n.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this._delegate.automaticDataCollectionEnabled=n}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(n=>{this._delegate.checkDestroyed(),n()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Mh(this._delegate)))}_getService(n,s=es){this._delegate.checkDestroyed();const l=this._delegate.container.getProvider(n);return!l.isInitialized()&&l.getComponent()?.instantiationMode==="EXPLICIT"&&l.initialize(),l.getImmediate({identifier:s})}_removeServiceInstance(n,s=es){this._delegate.container.getProvider(n).clearInstance(s)}_addComponent(n){Zl(this._delegate,n)}_addOrOverwriteComponent(n){dv(this._delegate,n)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},p_=new $o("app-compat","Firebase",Z1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(a){const n={},s={__esModule:!0,initializeApp:f,app:o,registerVersion:vi,setLogLevel:yv,onLog:vv,apps:null,SDK_VERSION:Dh,INTERNAL:{registerComponent:m,removeApp:l,useAsService:g,modularAPIs:F1}};s.default=s,Object.defineProperty(s,"apps",{get:h});function l(p){delete n[p]}function o(p){if(p=p||es,!mn(n,p))throw p_.create("no-app",{appName:p});return n[p]}o.App=a;function f(p,b={}){const y=Oh(p,b);if(mn(n,y.name))return n[y.name];const E=new a(y,s);return n[y.name]=E,E}function h(){return Object.keys(n).map(p=>n[p])}function m(p){const b=p.name,y=b.replace("-compat","");if(wa(p)&&p.type==="PUBLIC"){const E=(z=o())=>{if(typeof z[y]!="function")throw p_.create("invalid-app-argument",{appName:b});return z[y]()};p.serviceProps!==void 0&&Fl(E,p.serviceProps),s[y]=E,a.prototype[y]=function(...z){return this._getService.bind(this,b).apply(this,p.multipleInstances?z:[])}}return p.type==="PUBLIC"?s[y]:null}function g(p,b){return b==="serverAuth"?null:b}return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(){const a=W1(K1);a.INTERNAL={...a.INTERNAL,createFirebaseNamespace:Ev,extendNamespace:n,createSubscribe:jS,ErrorFactory:$o,deepExtend:Fl};function n(s){Fl(a,s)}return a}const $1=Ev();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new ec("@firebase/app-compat"),J1="@firebase/app-compat",eE="0.5.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(a){vi(J1,eE,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const a=lv();if(a.firebase!==void 0){g_.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const n=a.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&g_.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const pt=$1;tE();var nE="firebase",iE="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pt.registerVersion(nE,iE,"app-compat");var __={};const v_="@firebase/database",y_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv="";function Tv(a){Cv=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),vt(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:Kl(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return mn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new sE(n)}}catch{}return new aE},Os=Nv("localStorage"),nh=Nv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new ec("@firebase/database"),Av=function(){let a=1;return function(){return a++}}(),xv=function(a){const n=kS(a),s=new MS;s.update(n);const l=s.digest();return Ch.encodeByteArray(l)},rr=function(...a){let n="";for(let s=0;s<a.length;s++){const l=a[s];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?n+=rr.apply(null,l):typeof l=="object"?n+=vt(l):n+=l,n+=" "}return n};let Ms=null,b_=!0;const wv=function(a,n){L(!n||a===!0||a===!1,"Can't turn on custom loggers persistently."),a===!0?(Ta.logLevel=Ve.VERBOSE,Ms=Ta.log.bind(Ta),n&&nh.set("logging_enabled",!0)):typeof a=="function"?Ms=a:(Ms=null,nh.remove("logging_enabled"))},xt=function(...a){if(b_===!0&&(b_=!1,Ms===null&&nh.get("logging_enabled")===!0&&wv(!0)),Ms){const n=rr.apply(null,a);Ms(n)}},or=function(a){return function(...n){xt(a,...n)}},ih=function(...a){const n="FIREBASE INTERNAL ERROR: "+rr(...a);Ta.error(n)},$n=function(...a){const n=`FIREBASE FATAL ERROR: ${rr(...a)}`;throw Ta.error(n),new Error(n)},Vt=function(...a){const n="FIREBASE WARNING: "+rr(...a);Ta.warn(n)},lE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tc=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},rE=function(a){if(document.readyState==="complete")a();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},ns="[MIN_NAME]",Ei="[MAX_NAME]",Us=function(a,n){if(a===n)return 0;if(a===ns||n===Ei)return-1;if(n===ns||a===Ei)return 1;{const s=S_(a),l=S_(n);return s!==null?l!==null?s-l===0?a.length-n.length:s-l:-1:l!==null?1:a<n?-1:1}},oE=function(a,n){return a===n?0:a<n?-1:1},Bl=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+vt(n))},jh=function(a){if(typeof a!="object"||a===null)return vt(a);const n=[];for(const l in a)n.push(l);n.sort();let s="{";for(let l=0;l<n.length;l++)l!==0&&(s+=","),s+=vt(n[l]),s+=":",s+=jh(a[n[l]]);return s+="}",s},Rv=function(a,n){const s=a.length;if(s<=n)return[a];const l=[];for(let o=0;o<s;o+=n)o+n>s?l.push(a.substring(o,s)):l.push(a.substring(o,o+n));return l};function wt(a,n){for(const s in a)a.hasOwnProperty(s)&&n(s,a[s])}const Dv=function(a){L(!tc(a),"Invalid JSON number");const n=11,s=52,l=(1<<n-1)-1;let o,f,h,m,g;a===0?(f=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),f=m+l,h=Math.round(a*Math.pow(2,s-m)-Math.pow(2,s))):(f=0,h=Math.round(a/Math.pow(2,1-l-s))));const p=[];for(g=s;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=n;g;g-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(o?1:0),p.reverse();const b=p.join("");let y="";for(g=0;g<64;g+=8){let E=parseInt(b.substr(g,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},cE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fE(a,n){let s="Unknown Error";a==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?s="Client doesn't have permission to access the desired data.":a==="unavailable"&&(s="The service is unavailable");const l=new Error(a+" at "+n._path.toString()+": "+s);return l.code=a.toUpperCase(),l}const hE=new RegExp("^-?(0*)\\d{1,10}$"),dE=-2147483648,mE=2147483647,S_=function(a){if(hE.test(a)){const n=Number(a);if(n>=dE&&n<=mE)return n}return null},ka=function(a){try{a()}catch(n){setTimeout(()=>{const s=n.stack||"";throw Vt("Exception was thrown by user callback.",s),n},Math.floor(0))}},pE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gl=function(a,n){const s=setTimeout(a,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,gv(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(l=>this.appCheck=l)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,l)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,l):s(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(s=>s.addTokenListener(n))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(n,s,l){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,l)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,l):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(n)}}class Na{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Na.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="5",Ov="v",Mv="s",jv="r",Iv="f",zv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kv="ls",Uv="p",sh="ac",Lv="websocket",Bv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(n,s,l,o,f=!1,h="",m=!1,g=!1,p=null){this.secure=s,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Os.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Os.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function vE(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Vv(a,n,s){L(typeof n=="string","typeof type must == string"),L(typeof s=="object","typeof params must == object");let l;if(n===Lv)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===Bv)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);vE(a)&&(s.ns=a.namespace);const o=[];return wt(s,(f,h)=>{o.push(f+"="+h)}),l+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.counters_={}}incrementCounter(n,s=1){mn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return cS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf={},Qf={};function zh(a){const n=a.toString();return Gf[n]||(Gf[n]=new yE),Gf[n]}function bE(a,n){const s=a.toString();return Qf[s]||(Qf[s]=n()),Qf[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ka(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="start",EE="close",CE="pLPCommand",TE="pRTLPCB",qv="id",Yv="pw",Gv="ser",NE="cb",AE="seg",xE="ts",wE="d",RE="dframe",Qv=1870,Pv=30,DE=Qv-Pv,OE=25e3,ME=3e4;class Fi{constructor(n,s,l,o,f,h,m){this.connId=n,this.repoInfo=s,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=or(n),this.stats_=zh(s),this.urlFn=g=>(this.appCheckToken&&(g[sh]=this.appCheckToken),Vv(s,Bv,g))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new SE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ME)),rE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kh((...f)=>{const[h,m,g,p,b]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===E_)this.id=m,this.password=g;else if(h===EE)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[E_]="t",l[Gv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[NE]=this.scriptTagHolder.uniqueCallbackIdentifier),l[Ov]=Ih,this.transportSessionId&&(l[Mv]=this.transportSessionId),this.lastSessionId&&(l[kv]=this.lastSessionId),this.applicationId&&(l[Uv]=this.applicationId),this.appCheckToken&&(l[sh]=this.appCheckToken),typeof location<"u"&&location.hostname&&zv.test(location.hostname)&&(l[jv]=Iv);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fi.forceAllow_=!0}static forceDisallow(){Fi.forceDisallow_=!0}static isAvailable(){return Fi.forceAllow_?!0:!Fi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!cE()&&!uE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=vt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=av(s),o=Rv(l,DE);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const l={};l[RE]="t",l[qv]=n,l[Yv]=s,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=vt(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class kh{constructor(n,s,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Av(),window[CE+this.uniqueCallbackIdentifier]=n,window[TE+this.uniqueCallbackIdentifier]=s,this.myIFrame=kh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){xt("frame writing exception"),m.stack&&xt(m.stack),xt(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||xt("No IE domain setting required")}catch{const l=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[qv]=this.myID,n[Yv]=this.myPW,n[Gv]=this.currentSerial;let s=this.urlFn(n),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pv+l.length<=Qv;){const h=this.pendingSegs.shift();l=l+"&"+AE+o+"="+h.seg+"&"+xE+o+"="+h.ts+"&"+wE+o+"="+h.d,o++}return s=s+l,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,l){this.pendingSegs.push({seg:n,ts:s,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const l=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(l,Math.floor(OE)),f=()=>{clearTimeout(o),l()};this.addTag(n,f)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=n,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),s())},l.onerror=()=>{xt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=16384,IE=45e3;let Bo=null;typeof MozWebSocket<"u"?Bo=MozWebSocket:typeof WebSocket<"u"&&(Bo=WebSocket);class xn{constructor(n,s,l,o,f,h,m){this.connId=n,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=or(this.connId),this.stats_=zh(s),this.connURL=xn.connectionURL_(s,h,m,o,l),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,l,o,f){const h={};return h[Ov]=Ih,typeof location<"u"&&location.hostname&&zv.test(location.hostname)&&(h[jv]=Iv),s&&(h[Mv]=s),l&&(h[kv]=l),o&&(h[sh]=o),f&&(h[Uv]=f),Vv(n,Lv,h)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Os.set("previous_websocket_failure",!0);try{let l;CS(),this.mySock=new Bo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){xn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(s);l&&l.length>1&&parseFloat(l[1])<4.4&&(n=!0)}return!n&&Bo!==null&&!xn.forceDisallow_}static previouslyFailed(){return Os.isInMemoryStorage||Os.get("previous_websocket_failure")===!0}markConnectionHealthy(){Os.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const l=Kl(s);this.onMessage(l)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(L(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const l=this.extractFrameCount_(s);l!==null&&this.appendFrame_(l)}}send(n){this.resetKeepAlive();const s=vt(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=Rv(s,jE);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(IE))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xn.responsesRequiredToBeHealthy=2;xn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static get ALL_TRANSPORTS(){return[Fi,xn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=xn&&xn.isAvailable();let l=s&&!xn.previouslyFailed();if(n.webSocketOnly&&(s||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[xn];else{const o=this.transports_=[];for(const f of Ra.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Ra.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ra.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=6e4,kE=5e3,UE=10*1024,LE=100*1024,Pf="t",C_="d",BE="s",T_="r",HE="e",N_="o",A_="a",x_="n",w_="p",VE="h";class qE{constructor(n,s,l,o,f,h,m,g,p,b){this.id=n,this.repoInfo_=s,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=or("c:"+this.id+":"),this.transportManager_=new Ra(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,l)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Gl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Pf in n){const s=n[Pf];s===A_?this.upgradeIfSecondaryHealthy_():s===T_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===N_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=Bl("t",n),l=Bl("d",n);if(s==="c")this.onSecondaryControl_(l);else if(s==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:w_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:A_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:x_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=Bl("t",n),l=Bl("d",n);s==="c"?this.onControl_(l):s==="d"&&this.onDataMessage_(l)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=Bl(Pf,n);if(C_ in n){const l=n[C_];if(s===VE){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===x_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===BE?this.onConnectionShutdown_(l):s===T_?this.onReset_(l):s===HE?ih("Server Error: "+l):s===N_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ih("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,l=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Ih!==l&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,l),Gl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:w_,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Os.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{put(n,s,l,o){}merge(n,s,l,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,l){}onDisconnectMerge(n,s,l){}onDisconnectCancel(n,s){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(n){this.allowedEvents_=n,this.listeners_={},L(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const l=[...this.listeners_[n]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,s)}}on(n,s,l){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:l});const o=this.getInitialEvent(n);o&&s.apply(l,o)}off(n,s,l){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===s&&(!l||l===o[f].context)){o.splice(f,1);return}}validateEventType_(n){L(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Fv{static getInstance(){return new Ho}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return L(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=32,D_=768;class je{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function Oe(){return new je("")}function de(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function is(a){return a.pieces_.length-a.pieceNum_}function qe(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new je(a.pieces_,n)}function Uh(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function YE(a){let n="";for(let s=a.pieceNum_;s<a.pieces_.length;s++)a.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[s])));return n||"/"}function $l(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function Kv(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let s=a.pieceNum_;s<a.pieces_.length-1;s++)n.push(a.pieces_[s]);return new je(n,0)}function Ze(a,n){const s=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)s.push(a.pieces_[l]);if(n instanceof je)for(let l=n.pieceNum_;l<n.pieces_.length;l++)s.push(n.pieces_[l]);else{const l=n.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&s.push(l[o])}return new je(s,0)}function me(a){return a.pieceNum_>=a.pieces_.length}function Gt(a,n){const s=de(a),l=de(n);if(s===null)return n;if(s===l)return Gt(qe(a),qe(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function GE(a,n){const s=$l(a,0),l=$l(n,0);for(let o=0;o<s.length&&o<l.length;o++){const f=Us(s[o],l[o]);if(f!==0)return f}return s.length===l.length?0:s.length<l.length?-1:1}function Lh(a,n){if(is(a)!==is(n))return!1;for(let s=a.pieceNum_,l=n.pieceNum_;s<=a.pieces_.length;s++,l++)if(a.pieces_[s]!==n.pieces_[l])return!1;return!0}function wn(a,n){let s=a.pieceNum_,l=n.pieceNum_;if(is(a)>is(n))return!1;for(;s<a.pieces_.length;){if(a.pieces_[s]!==n.pieces_[l])return!1;++s,++l}return!0}class QE{constructor(n,s){this.errorPrefix_=s,this.parts_=$l(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Jo(this.parts_[l]);Zv(this)}}function PE(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=Jo(n),Zv(a)}function XE(a){const n=a.parts_.pop();a.byteLength_-=Jo(n),a.parts_.length>0&&(a.byteLength_-=1)}function Zv(a){if(a.byteLength_>D_)throw new Error(a.errorPrefix_+"has a key path longer than "+D_+" bytes ("+a.byteLength_+").");if(a.parts_.length>R_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+R_+") or object contains a cycle "+Ds(a))}function Ds(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Fv{static getInstance(){return new Bh}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const l=!document[n];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(n){return L(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=1e3,FE=300*1e3,O_=30*1e3,KE=1.3,ZE=3e4,WE="server_kill",M_=3;class yi extends Xv{constructor(n,s,l,o,f,h,m,g){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=yi.nextPersistentConnectionId_++,this.log_=or("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hl,this.maxReconnectDelay_=FE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ho.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,l){const o=++this.requestNumber_,f={r:o,a:n,b:s};this.log_(vt(f)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[o]=l)}get(n){this.initConnection_();const s=new $t,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?s.resolve(m):s.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),s.promise}listen(n,s,l,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:s,query:n,tag:l};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,l=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(l)})}sendListen_(n){const s=n.query,l=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+l+" for "+o);const f={p:l},h="q";n.tag&&(f.q=s._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,m=>{const g=m.d,p=m.s;yi.warnOnListenWarnings_(g,s),(this.listens.get(l)&&this.listens.get(l).get(o))===n&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(l,o),n.onComplete&&n.onComplete(p,g))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&mn(n,"w")){const l=js(n,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',f=s._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||DS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=O_)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=RS(n)?"auth":"gauth",l={cred:n};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(s,l,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,l=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,l)})}unlisten(n,s){const l=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,n._queryObject,s)}sendUnlisten_(n,s,l,o){this.log_("Unlisten on "+n+" for "+s);const f={p:n},h="n";o&&(f.q=l,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:l})}onDisconnectMerge(n,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:l})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,l,o){const f={p:s,d:l};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,s,l,o){this.putInternal("p",n,s,l,o)}merge(n,s,l,o){this.putInternal("m",n,s,l,o)}putInternal(n,s,l,o,f){this.initConnection_();const h={p:s,d:l};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,l=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,l,f=>{this.log_(s+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,l=>{if(l.s!=="ok"){const f=l.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+vt(n));const s=n.r,l=this.requestCBHash_[s];l&&(delete this.requestCBHash_[s],l(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):ih("Unrecognized action received from server: "+vt(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZE&&(this.reconnectDelay_=Hl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+yi.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,l())},p=function(y){L(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:g,sendRequest:p};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);h?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,m=new qE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,l,z=>{Vt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(WE)},f))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&Vt(y),g())}}}interrupt(n){xt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){xt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Wf(this.interruptReasons_)&&(this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let l;s?l=s.map(f=>jh(f)).join("$"):l="default";const o=this.removeListen_(n,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,s){const l=new je(n).toString();let o;if(this.listens.has(l)){const f=this.listens.get(l);o=f.get(s),f.delete(s),f.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(n,s){xt("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=M_&&(this.reconnectDelay_=O_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){xt("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=M_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+Cv.replace(/\./g,"-")]=1,rv()?n["framework.cordova"]=1:ES()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ho.getInstance().currentlyOnline();return Wf(this.interruptReasons_)&&n}}yi.nextPersistentConnectionId_=0;yi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new ve(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const l=new ve(ns,n),o=new ve(ns,s);return this.compare(l,o)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo;class Wv extends nc{static get __EMPTY_NODE(){return Oo}static set __EMPTY_NODE(n){Oo=n}compare(n,s){return Us(n.name,s.name)}isDefinedOn(n){throw Ia("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Ei,Oo)}makePost(n,s){return L(typeof n=="string","KeyIndex indexValue must always be a string."),new ve(n,Oo)}toString(){return".key"}}const Wn=new Wv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(n,s,l,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=s?l(n.key,s):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class At{constructor(n,s,l,o,f){this.key=n,this.value=s,this.color=l??At.RED,this.left=o??Jt.EMPTY_NODE,this.right=f??Jt.EMPTY_NODE}copy(n,s,l,o,f){return new At(n??this.key,s??this.value,l??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,l){let o=this;const f=l(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,s,l),null):f===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,s,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Jt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let l,o;if(l=this,s(n,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(n,s),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),s(n,l.key)===0){if(l.right.isEmpty())return Jt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(n,s))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}At.RED=!0;At.BLACK=!1;class $E{copy(n,s,l,o,f){return this}insert(n,s,l){return new At(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Jt{constructor(n,s=Jt.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new Jt(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,At.BLACK,null,null))}remove(n){return new Jt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,At.BLACK,null,null))}get(n){let s,l=this.root_;for(;!l.isEmpty();){if(s=this.comparator_(n,l.key),s===0)return l.value;s<0?l=l.left:s>0&&(l=l.right)}return null}getPredecessorKey(n){let s,l=this.root_,o=null;for(;!l.isEmpty();)if(s=this.comparator_(n,l.key),s===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else s<0?l=l.left:s>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Mo(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new Mo(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new Mo(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new Mo(this.root_,null,this.comparator_,!0,n)}}Jt.EMPTY_NODE=new $E;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(a,n){return Us(a.name,n.name)}function Hh(a,n){return Us(a,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;function eC(a){ah=a}const $v=function(a){return typeof a=="number"?"number:"+Dv(a):"string:"+a},Jv=function(a){if(a.isLeafNode()){const n=a.val();L(typeof n=="string"||typeof n=="number"||typeof n=="object"&&mn(n,".sv"),"Priority must be a string or number.")}else L(a===ah||a.isEmpty(),"priority of unexpected type.");L(a===ah||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j_;class Tt{static set __childrenNodeConstructor(n){j_=n}static get __childrenNodeConstructor(){return j_}constructor(n,s=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Jv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Tt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return me(n)?this:de(n)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const l=de(n);return l===null?s:s.isEmpty()&&l!==".priority"?this:(L(l!==".priority"||is(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(qe(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+$v(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=Dv(this.value_):n+=this.value_,this.lazyHash_=xv(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Tt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Tt.__childrenNodeConstructor?-1:(L(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,l=typeof this.value_,o=Tt.VALUE_TYPE_ORDER.indexOf(s),f=Tt.VALUE_TYPE_ORDER.indexOf(l);return L(o>=0,"Unknown leaf type: "+s),L(f>=0,"Unknown leaf type: "+l),o===f?l==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey,ty;function tC(a){ey=a}function nC(a){ty=a}class iC extends nc{compare(n,s){const l=n.node.getPriority(),o=s.node.getPriority(),f=l.compareTo(o);return f===0?Us(n.name,s.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Ei,new Tt("[PRIORITY-POST]",ty))}makePost(n,s){const l=ey(n);return new ve(s,new Tt("[PRIORITY-POST]",l))}toString(){return".priority"}}const Pe=new iC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=Math.log(2);class aC{constructor(n){const s=f=>parseInt(Math.log(f)/sC,10),l=f=>parseInt(Array(f+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const o=l(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Vo=function(a,n,s,l){a.sort(n);const o=function(g,p){const b=p-g;let y,E;if(b===0)return null;if(b===1)return y=a[g],E=s?s(y):y,new At(E,y.node,At.BLACK,null,null);{const z=parseInt(b/2,10)+g,k=o(g,z),$=o(z+1,p);return y=a[z],E=s?s(y):y,new At(E,y.node,At.BLACK,k,$)}},f=function(g){let p=null,b=null,y=a.length;const E=function(k,$){const oe=y-k,ie=y;y-=k;const ue=o(oe+1,ie),Ee=a[oe],Ie=s?s(Ee):Ee;z(new At(Ie,Ee.node,$,null,ue))},z=function(k){p?(p.left=k,p=k):(b=k,p=k)};for(let k=0;k<g.count;++k){const $=g.nextBitIsOne(),oe=Math.pow(2,g.count-(k+1));$?E(oe,At.BLACK):(E(oe,At.BLACK),E(oe,At.RED))}return b},h=new aC(a.length),m=f(h);return new Jt(l||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf;const Ca={};class _i{static get Default(){return L(Ca&&Pe,"ChildrenNode.ts has not been loaded"),Xf=Xf||new _i({".priority":Ca},{".priority":Pe}),Xf}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=js(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof Jt?s:null}hasIndex(n){return mn(this.indexSet_,n.toString())}addIndex(n,s){L(n!==Wn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const f=s.getIterator(ve.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),l.push(h),h=f.getNext();let m;o?m=Vo(l,n.getCompare()):m=Ca;const g=n.toString(),p={...this.indexSet_};p[g]=n;const b={...this.indexes_};return b[g]=m,new _i(b,p)}addToIndexes(n,s){const l=ko(this.indexes_,(o,f)=>{const h=js(this.indexSet_,f);if(L(h,"Missing index implementation for "+f),o===Ca)if(h.isDefinedOn(n.node)){const m=[],g=s.getIterator(ve.Wrap);let p=g.getNext();for(;p;)p.name!==n.name&&m.push(p),p=g.getNext();return m.push(n),Vo(m,h.getCompare())}else return Ca;else{const m=s.get(n.name);let g=o;return m&&(g=g.remove(new ve(n.name,m))),g.insert(n,n.node)}});return new _i(l,this.indexSet_)}removeFromIndexes(n,s){const l=ko(this.indexes_,o=>{if(o===Ca)return o;{const f=s.get(n.name);return f?o.remove(new ve(n.name,f)):o}});return new _i(l,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl;class ne{static get EMPTY_NODE(){return Vl||(Vl=new ne(new Jt(Hh),null,_i.Default))}constructor(n,s,l){this.children_=n,this.priorityNode_=s,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Jv(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vl}updatePriority(n){return this.children_.isEmpty()?this:new ne(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?Vl:s}}getChild(n){const s=de(n);return s===null?this:this.getImmediateChild(s).getChild(qe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(L(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const l=new ve(n,s);let o,f;s.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(n,s),f=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?Vl:this.priorityNode_;return new ne(o,h,f)}}updateChild(n,s){const l=de(n);if(l===null)return s;{L(de(n)!==".priority"||is(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(qe(n),s);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let l=0,o=0,f=!0;if(this.forEachChild(Pe,(h,m)=>{s[h]=m.val(n),l++,f&&ne.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*l){const h=[];for(const m in s)h[m]=s[m];return h}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+$v(this.getPriority().val())+":"),this.forEachChild(Pe,(s,l)=>{const o=l.hash();o!==""&&(n+=":"+s+":"+o)}),this.lazyHash_=n===""?"":xv(n)}return this.lazyHash_}getPredecessorChildName(n,s,l){const o=this.resolveIndex_(l);if(o){const f=o.getPredecessorKey(new ve(n,s));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const l=s.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new ve(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const l=s.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new ve(s,this.children_.get(s)):null}forEachChild(n,s){const l=this.resolveIndex_(n);return l?l.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const l=this.resolveIndex_(s);if(l)return l.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ve.Wrap);let f=o.peek();for(;f!=null&&s.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const l=this.resolveIndex_(s);if(l)return l.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ve.Wrap);let f=o.peek();for(;f!=null&&s.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===cr?-1:0}withIndex(n){if(n===Wn||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new ne(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===Wn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const l=this.getIterator(Pe),o=s.getIterator(Pe);let f=l.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=l.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Wn?null:this.indexMap_.get(n.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lC extends ne{constructor(){super(new Jt(Hh),ne.EMPTY_NODE,_i.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ne.EMPTY_NODE}isEmpty(){return!1}}const cr=new lC;Object.defineProperties(ve,{MIN:{value:new ve(ns,ne.EMPTY_NODE)},MAX:{value:new ve(Ei,cr)}});Wv.__EMPTY_NODE=ne.EMPTY_NODE;Tt.__childrenNodeConstructor=ne;eC(cr);nC(cr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=!0;function nt(a,n=null){if(a===null)return ne.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),L(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const s=a;return new Tt(s,nt(n))}if(!(a instanceof Array)&&rC){const s=[];let l=!1;if(wt(a,(h,m)=>{if(h.substring(0,1)!=="."){const g=nt(m);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),s.push(new ve(h,g)))}}),s.length===0)return ne.EMPTY_NODE;const f=Vo(s,JE,h=>h.name,Hh);if(l){const h=Vo(s,Pe.getCompare());return new ne(f,nt(n),new _i({".priority":h},{".priority":Pe}))}else return new ne(f,nt(n),_i.Default)}else{let s=ne.EMPTY_NODE;return wt(a,(l,o)=>{if(mn(a,l)&&l.substring(0,1)!=="."){const f=nt(o);(f.isLeafNode()||!f.isEmpty())&&(s=s.updateImmediateChild(l,f))}}),s.updatePriority(nt(n))}}tC(nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends nc{constructor(n){super(),this.indexPath_=n,L(!me(n)&&de(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const l=this.extractChild(n.node),o=this.extractChild(s.node),f=l.compareTo(o);return f===0?Us(n.name,s.name):f}makePost(n,s){const l=nt(n),o=ne.EMPTY_NODE.updateChild(this.indexPath_,l);return new ve(s,o)}maxPost(){const n=ne.EMPTY_NODE.updateChild(this.indexPath_,cr);return new ve(Ei,n)}toString(){return $l(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC extends nc{compare(n,s){const l=n.node.compareTo(s.node);return l===0?Us(n.name,s.name):l}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(n,s){const l=nt(n);return new ve(s,l)}toString(){return".value"}}const qh=new oC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(a){return{type:"value",snapshotNode:a}}function Da(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function Jl(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function er(a,n,s){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:s}}function cC(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(n){this.index_=n}updateChild(n,s,l,o,f,h){L(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(s);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?n.hasChild(s)?h.trackChildChange(Jl(s,m)):L(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Da(s,l)):h.trackChildChange(er(s,l,m))),n.isLeafNode()&&l.isEmpty())?n:n.updateImmediateChild(s,l).withIndex(this.index_)}updateFullNode(n,s,l){return l!=null&&(n.isLeafNode()||n.forEachChild(Pe,(o,f)=>{s.hasChild(o)||l.trackChildChange(Jl(o,f))}),s.isLeafNode()||s.forEachChild(Pe,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||l.trackChildChange(er(o,f,h))}else l.trackChildChange(Da(o,f))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?ne.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(n){this.indexedFilter_=new Yh(n.getIndex()),this.index_=n.getIndex(),this.startPost_=tr.getStartPost_(n),this.endPost_=tr.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,l=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&l}updateChild(n,s,l,o,f,h){return this.matches(new ve(s,l))||(l=ne.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,l,o,f,h)}updateFullNode(n,s,l){s.isLeafNode()&&(s=ne.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(ne.EMPTY_NODE);const f=this;return s.forEachChild(Pe,(h,m)=>{f.matches(new ve(h,m))||(o=o.updateImmediateChild(h,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,l)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=s=>{const l=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new tr(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,l,o,f,h){return this.rangedFilter_.matches(new ve(s,l))||(l=ne.EMPTY_NODE),n.getImmediateChild(s).equals(l)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,l,o,f,h):this.fullLimitUpdateChild_(n,s,l,f,h)}updateFullNode(n,s,l){let o;if(s.isLeafNode()||s.isEmpty())o=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=ne.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(ne.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,l)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,l,o,f){let h;if(this.reverse_){const y=this.index_.getCompare();h=(E,z)=>y(z,E)}else h=this.index_.getCompare();const m=n;L(m.numChildren()===this.limit_,"");const g=new ve(s,l),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(g);if(m.hasChild(s)){const y=m.getImmediateChild(s);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===s||m.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const z=E==null?1:h(E,g);if(b&&!l.isEmpty()&&z>=0)return f?.trackChildChange(er(s,l,y)),m.updateImmediateChild(s,l);{f?.trackChildChange(Jl(s,y));const $=m.updateImmediateChild(s,ne.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(f?.trackChildChange(Da(E.name,E.node)),$.updateImmediateChild(E.name,E.node)):$}}else return l.isEmpty()?n:b&&h(p,g)>=0?(f!=null&&(f.trackChildChange(Jl(p.name,p.node)),f.trackChildChange(Da(s,l))),m.updateImmediateChild(s,l).updateImmediateChild(p.name,ne.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ns}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ei}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const n=new ic;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function fC(a){return a.loadsAllData()?new Yh(a.getIndex()):a.hasLimit()?new uC(a):new tr(a)}function hC(a,n){const s=a.copy();return s.limitSet_=!0,s.limit_=n,s.viewFrom_="l",s}function dC(a,n){const s=a.copy();return s.limitSet_=!0,s.limit_=n,s.viewFrom_="r",s}function lh(a,n,s){const l=a.copy();return l.startSet_=!0,n===void 0&&(n=null),l.indexStartValue_=n,s!=null?(l.startNameSet_=!0,l.indexStartName_=s):(l.startNameSet_=!1,l.indexStartName_=""),l}function mC(a,n,s){let l;return a.index_===Wn||s?l=lh(a,n,s):l=lh(a,n,Ei),l.startAfterSet_=!0,l}function rh(a,n,s){const l=a.copy();return l.endSet_=!0,n===void 0&&(n=null),l.indexEndValue_=n,s!==void 0?(l.endNameSet_=!0,l.indexEndName_=s):(l.endNameSet_=!1,l.indexEndName_=""),l}function pC(a,n,s){let l;return a.index_===Wn||s?l=rh(a,n,s):l=rh(a,n,ns),l.endBeforeSet_=!0,l}function sc(a,n){const s=a.copy();return s.index_=n,s}function I_(a){const n={};if(a.isDefault())return n;let s;if(a.index_===Pe?s="$priority":a.index_===qh?s="$value":a.index_===Wn?s="$key":(L(a.index_ instanceof Vh,"Unrecognized index type!"),s=a.index_.toString()),n.orderBy=vt(s),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";n[l]=vt(a.indexStartValue_),a.startNameSet_&&(n[l]+=","+vt(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";n[l]=vt(a.indexEndValue_),a.endNameSet_&&(n[l]+=","+vt(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function z_(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let s=a.viewFrom_;s===""&&(a.isViewFromLeft()?s="l":s="r"),n.vf=s}return a.index_!==Pe&&(n.i=a.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Xv{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(L(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,l,o){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=or("p:rest:"),this.listens_={}}listen(n,s,l,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=qo.getListenId_(n,l),m={};this.listens_[h]=m;const g=I_(n._queryParams);this.restRequest_(f+".json",g,(p,b)=>{let y=b;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(f,y,!1,l),js(this.listens_,h)===m){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(n,s){const l=qo.getListenId_(n,s);delete this.listens_[l]}get(n){const s=I_(n._queryParams),l=n._path.toString(),o=new $t;return this.restRequest_(l+".json",s,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(n){}restRequest_(n,s={},l){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(s.auth=o.accessToken),f&&f.token&&(s.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+OS(s);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Kl(m.responseText)}catch{Vt("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,g)}else m.status!==401&&m.status!==404&&Vt("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(){return{value:null,children:new Map}}function Ua(a,n,s){if(me(n))a.value=s,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,s);else{const l=de(n);a.children.has(l)||a.children.set(l,Yo());const o=a.children.get(l);n=qe(n),Ua(o,n,s)}}function oh(a,n){if(me(n))return a.value=null,a.children.clear(),!0;if(a.value!==null){if(a.value.isLeafNode())return!1;{const s=a.value;return a.value=null,s.forEachChild(Pe,(l,o)=>{Ua(a,new je(l),o)}),oh(a,n)}}else if(a.children.size>0){const s=de(n);return n=qe(n),a.children.has(s)&&oh(a.children.get(s),n)&&a.children.delete(s),a.children.size===0}else return!0}function ch(a,n,s){a.value!==null?s(n,a.value):_C(a,(l,o)=>{const f=new je(n.toString()+"/"+l);ch(o,f,s)})}function _C(a,n){a.children.forEach((s,l)=>{n(l,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s={...n};return this.last_&&wt(this.last_,(l,o)=>{s[l]=s[l]-o}),this.last_=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=10*1e3,yC=30*1e3,bC=300*1e3;class SC{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new vC(n);const l=k_+(yC-k_)*Math.random();Gl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const n=this.statsListener_.get(),s={};let l=!1;wt(n,(o,f)=>{f>0&&mn(this.statsToReport_,o)&&(s[o]=f,l=!0)}),l&&this.server_.reportStats(s),Gl(this.reportStats_.bind(this),Math.floor(Math.random()*2*bC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bn||(Bn={}));function Gh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Qh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ph(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(n,s,l){this.path=n,this.affectedTree=s,this.revert=l,this.type=Bn.ACK_USER_WRITE,this.source=Gh()}operationForChild(n){if(me(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new je(n));return new Go(Oe(),s,this.revert)}}else return L(de(this.path)===n,"operationForChild called for unrelated child."),new Go(qe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(n,s){this.source=n,this.path=s,this.type=Bn.LISTEN_COMPLETE}operationForChild(n){return me(this.path)?new nr(this.source,Oe()):new nr(this.source,qe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(n,s,l){this.source=n,this.path=s,this.snap=l,this.type=Bn.OVERWRITE}operationForChild(n){return me(this.path)?new Is(this.source,Oe(),this.snap.getImmediateChild(n)):new Is(this.source,qe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(n,s,l){this.source=n,this.path=s,this.children=l,this.type=Bn.MERGE}operationForChild(n){if(me(this.path)){const s=this.children.subtree(new je(n));return s.isEmpty()?null:s.value?new Is(this.source,Oe(),s.value):new Oa(this.source,Oe(),s)}else return L(de(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Oa(this.source,qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(n,s,l){this.node_=n,this.fullyInitialized_=s,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(me(n))return this.isFullyInitialized()&&!this.filtered_;const s=de(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function CC(a,n,s,l){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(cC(h.childName,h.snapshotNode))}),ql(a,o,"child_removed",n,l,s),ql(a,o,"child_added",n,l,s),ql(a,o,"child_moved",f,l,s),ql(a,o,"child_changed",n,l,s),ql(a,o,"value",n,l,s),o}function ql(a,n,s,l,o,f){const h=l.filter(m=>m.type===s);h.sort((m,g)=>NC(a,m,g)),h.forEach(m=>{const g=TC(a,m,f);o.forEach(p=>{p.respondsTo(m.type)&&n.push(p.createEvent(g,a.query_))})})}function TC(a,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function NC(a,n,s){if(n.childName==null||s.childName==null)throw Ia("Should only compare child_ events.");const l=new ve(n.childName,n.snapshotNode),o=new ve(s.childName,s.snapshotNode);return a.index_.compare(l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(a,n){return{eventCache:a,serverCache:n}}function Ql(a,n,s,l){return ac(new ss(n,s,l),a.serverCache)}function iy(a,n,s,l){return ac(a.eventCache,new ss(n,s,l))}function Qo(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function zs(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;const AC=()=>(Ff||(Ff=new Jt(oE)),Ff);class Qe{static fromObject(n){let s=new Qe(null);return wt(n,(l,o)=>{s=s.set(new je(l),o)}),s}constructor(n,s=AC()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:Oe(),value:this.value};if(me(n))return null;{const l=de(n),o=this.children.get(l);if(o!==null){const f=o.findRootMostMatchingPathAndValue(qe(n),s);return f!=null?{path:Ze(new je(l),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(me(n))return this;{const s=de(n),l=this.children.get(s);return l!==null?l.subtree(qe(n)):new Qe(null)}}set(n,s){if(me(n))return new Qe(s,this.children);{const l=de(n),f=(this.children.get(l)||new Qe(null)).set(qe(n),s),h=this.children.insert(l,f);return new Qe(this.value,h)}}remove(n){if(me(n))return this.children.isEmpty()?new Qe(null):new Qe(null,this.children);{const s=de(n),l=this.children.get(s);if(l){const o=l.remove(qe(n));let f;return o.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,o),this.value===null&&f.isEmpty()?new Qe(null):new Qe(this.value,f)}else return this}}get(n){if(me(n))return this.value;{const s=de(n),l=this.children.get(s);return l?l.get(qe(n)):null}}setTree(n,s){if(me(n))return s;{const l=de(n),f=(this.children.get(l)||new Qe(null)).setTree(qe(n),s);let h;return f.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,f),new Qe(this.value,h)}}fold(n){return this.fold_(Oe(),n)}fold_(n,s){const l={};return this.children.inorderTraversal((o,f)=>{l[o]=f.fold_(Ze(n,o),s)}),s(n,this.value,l)}findOnPath(n,s){return this.findOnPath_(n,Oe(),s)}findOnPath_(n,s,l){const o=this.value?l(s,this.value):!1;if(o)return o;if(me(n))return null;{const f=de(n),h=this.children.get(f);return h?h.findOnPath_(qe(n),Ze(s,f),l):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,Oe(),s)}foreachOnPath_(n,s,l){if(me(n))return this;{this.value&&l(s,this.value);const o=de(n),f=this.children.get(o);return f?f.foreachOnPath_(qe(n),Ze(s,o),l):new Qe(null)}}foreach(n){this.foreach_(Oe(),n)}foreach_(n,s){this.children.inorderTraversal((l,o)=>{o.foreach_(Ze(n,l),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,l)=>{l.value&&n(s,l.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(n){this.writeTree_=n}static empty(){return new Hn(new Qe(null))}}function Pl(a,n,s){if(me(n))return new Hn(new Qe(s));{const l=a.writeTree_.findRootMostValueAndPath(n);if(l!=null){const o=l.path;let f=l.value;const h=Gt(o,n);return f=f.updateChild(h,s),new Hn(a.writeTree_.set(o,f))}else{const o=new Qe(s),f=a.writeTree_.setTree(n,o);return new Hn(f)}}}function uh(a,n,s){let l=a;return wt(s,(o,f)=>{l=Pl(l,Ze(n,o),f)}),l}function U_(a,n){if(me(n))return Hn.empty();{const s=a.writeTree_.setTree(n,new Qe(null));return new Hn(s)}}function fh(a,n){return Ls(a,n)!=null}function Ls(a,n){const s=a.writeTree_.findRootMostValueAndPath(n);return s!=null?a.writeTree_.get(s.path).getChild(Gt(s.path,n)):null}function L_(a){const n=[],s=a.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(Pe,(l,o)=>{n.push(new ve(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&n.push(new ve(l,o.value))}),n}function Wi(a,n){if(me(n))return a;{const s=Ls(a,n);return s!=null?new Hn(new Qe(s)):new Hn(a.writeTree_.subtree(n))}}function hh(a){return a.writeTree_.isEmpty()}function Ma(a,n){return sy(Oe(),a.writeTree_,n)}function sy(a,n,s){if(n.value!=null)return s.updateChild(a,n.value);{let l=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(L(f.value!==null,"Priority writes must always be leaf nodes"),l=f.value):s=sy(Ze(a,o),f,s)}),!s.getChild(a).isEmpty()&&l!==null&&(s=s.updateChild(Ze(a,".priority"),l)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(a,n){return oy(n,a)}function xC(a,n,s,l,o){L(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:n,snap:s,writeId:l,visible:o}),o&&(a.visibleWrites=Pl(a.visibleWrites,n,s)),a.lastWriteId=l}function wC(a,n,s,l){L(l>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:s,writeId:l,visible:!0}),a.visibleWrites=uh(a.visibleWrites,n,s),a.lastWriteId=l}function RC(a,n){for(let s=0;s<a.allWrites.length;s++){const l=a.allWrites[s];if(l.writeId===n)return l}return null}function DC(a,n){const s=a.allWrites.findIndex(m=>m.writeId===n);L(s>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[s];a.allWrites.splice(s,1);let o=l.visible,f=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=s&&OC(m,l.path)?o=!1:wn(l.path,m.path)&&(f=!0)),h--}if(o){if(f)return MC(a),!0;if(l.snap)a.visibleWrites=U_(a.visibleWrites,l.path);else{const m=l.children;wt(m,g=>{a.visibleWrites=U_(a.visibleWrites,Ze(l.path,g))})}return!0}else return!1}function OC(a,n){if(a.snap)return wn(a.path,n);for(const s in a.children)if(a.children.hasOwnProperty(s)&&wn(Ze(a.path,s),n))return!0;return!1}function MC(a){a.visibleWrites=ay(a.allWrites,jC,Oe()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function jC(a){return a.visible}function ay(a,n,s){let l=Hn.empty();for(let o=0;o<a.length;++o){const f=a[o];if(n(f)){const h=f.path;let m;if(f.snap)wn(s,h)?(m=Gt(s,h),l=Pl(l,m,f.snap)):wn(h,s)&&(m=Gt(h,s),l=Pl(l,Oe(),f.snap.getChild(m)));else if(f.children){if(wn(s,h))m=Gt(s,h),l=uh(l,m,f.children);else if(wn(h,s))if(m=Gt(h,s),me(m))l=uh(l,Oe(),f.children);else{const g=js(f.children,de(m));if(g){const p=g.getChild(qe(m));l=Pl(l,Oe(),p)}}}else throw Ia("WriteRecord should have .snap or .children")}}return l}function ly(a,n,s,l,o){if(!l&&!o){const f=Ls(a.visibleWrites,n);if(f!=null)return f;{const h=Wi(a.visibleWrites,n);if(hh(h))return s;if(s==null&&!fh(h,Oe()))return null;{const m=s||ne.EMPTY_NODE;return Ma(h,m)}}}else{const f=Wi(a.visibleWrites,n);if(!o&&hh(f))return s;if(!o&&s==null&&!fh(f,Oe()))return null;{const h=function(p){return(p.visible||o)&&(!l||!~l.indexOf(p.writeId))&&(wn(p.path,n)||wn(n,p.path))},m=ay(a.allWrites,h,n),g=s||ne.EMPTY_NODE;return Ma(m,g)}}}function IC(a,n,s){let l=ne.EMPTY_NODE;const o=Ls(a.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Pe,(f,h)=>{l=l.updateImmediateChild(f,h)}),l;if(s){const f=Wi(a.visibleWrites,n);return s.forEachChild(Pe,(h,m)=>{const g=Ma(Wi(f,new je(h)),m);l=l.updateImmediateChild(h,g)}),L_(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const f=Wi(a.visibleWrites,n);return L_(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function zC(a,n,s,l,o){L(l||o,"Either existingEventSnap or existingServerSnap must exist");const f=Ze(n,s);if(fh(a.visibleWrites,f))return null;{const h=Wi(a.visibleWrites,f);return hh(h)?o.getChild(s):Ma(h,o.getChild(s))}}function kC(a,n,s,l){const o=Ze(n,s),f=Ls(a.visibleWrites,o);if(f!=null)return f;if(l.isCompleteForChild(s)){const h=Wi(a.visibleWrites,o);return Ma(h,l.getNode().getImmediateChild(s))}else return null}function UC(a,n){return Ls(a.visibleWrites,n)}function LC(a,n,s,l,o,f,h){let m;const g=Wi(a.visibleWrites,n),p=Ls(g,Oe());if(p!=null)m=p;else if(s!=null)m=Ma(g,s);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const b=[],y=h.getCompare(),E=f?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let z=E.getNext();for(;z&&b.length<o;)y(z,l)!==0&&b.push(z),z=E.getNext();return b}else return[]}function BC(){return{visibleWrites:Hn.empty(),allWrites:[],lastWriteId:-1}}function Po(a,n,s,l){return ly(a.writeTree,a.treePath,n,s,l)}function Xh(a,n){return IC(a.writeTree,a.treePath,n)}function B_(a,n,s,l){return zC(a.writeTree,a.treePath,n,s,l)}function Xo(a,n){return UC(a.writeTree,Ze(a.treePath,n))}function HC(a,n,s,l,o,f){return LC(a.writeTree,a.treePath,n,s,l,o,f)}function Fh(a,n,s){return kC(a.writeTree,a.treePath,n,s)}function ry(a,n){return oy(Ze(a.treePath,n),a.writeTree)}function oy(a,n){return{treePath:a,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,l=n.childName;L(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),L(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const f=o.type;if(s==="child_added"&&f==="child_removed")this.changeMap.set(l,er(l,n.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&f==="child_added")this.changeMap.delete(l);else if(s==="child_removed"&&f==="child_changed")this.changeMap.set(l,Jl(l,o.oldSnap));else if(s==="child_changed"&&f==="child_added")this.changeMap.set(l,Da(l,n.snapshotNode));else if(s==="child_changed"&&f==="child_changed")this.changeMap.set(l,er(l,n.snapshotNode,o.oldSnap));else throw Ia("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(l,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{getCompleteChild(n){return null}getChildAfterChild(n,s,l){return null}}const cy=new qC;class Kh{constructor(n,s,l=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=l}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const l=this.optCompleteServerCache_!=null?new ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fh(this.writes_,n,l)}}getChildAfterChild(n,s,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zs(this.viewCache_),f=HC(this.writes_,o,s,1,l,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(a){return{filter:a}}function GC(a,n){L(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),L(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function QC(a,n,s,l,o){const f=new VC;let h,m;if(s.type===Bn.OVERWRITE){const p=s;p.source.fromUser?h=dh(a,n,p.path,p.snap,l,o,f):(L(p.source.fromServer,"Unknown source."),m=p.source.tagged||n.serverCache.isFiltered()&&!me(p.path),h=Fo(a,n,p.path,p.snap,l,o,m,f))}else if(s.type===Bn.MERGE){const p=s;p.source.fromUser?h=XC(a,n,p.path,p.children,l,o,f):(L(p.source.fromServer,"Unknown source."),m=p.source.tagged||n.serverCache.isFiltered(),h=mh(a,n,p.path,p.children,l,o,m,f))}else if(s.type===Bn.ACK_USER_WRITE){const p=s;p.revert?h=ZC(a,n,p.path,l,o,f):h=FC(a,n,p.path,p.affectedTree,l,o,f)}else if(s.type===Bn.LISTEN_COMPLETE)h=KC(a,n,s.path,l,f);else throw Ia("Unknown operation type: "+s.type);const g=f.getChanges();return PC(n,h,g),{viewCache:h,changes:g}}function PC(a,n,s){const l=n.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),f=Qo(a);(s.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(f)||!l.getNode().getPriority().equals(f.getPriority()))&&s.push(ny(Qo(n)))}}function uy(a,n,s,l,o,f){const h=n.eventCache;if(Xo(l,s)!=null)return n;{let m,g;if(me(s))if(L(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const p=zs(n),b=p instanceof ne?p:ne.EMPTY_NODE,y=Xh(l,b);m=a.filter.updateFullNode(n.eventCache.getNode(),y,f)}else{const p=Po(l,zs(n));m=a.filter.updateFullNode(n.eventCache.getNode(),p,f)}else{const p=de(s);if(p===".priority"){L(is(s)===1,"Can't have a priority with additional path components");const b=h.getNode();g=n.serverCache.getNode();const y=B_(l,s,b,g);y!=null?m=a.filter.updatePriority(b,y):m=h.getNode()}else{const b=qe(s);let y;if(h.isCompleteForChild(p)){g=n.serverCache.getNode();const E=B_(l,s,h.getNode(),g);E!=null?y=h.getNode().getImmediateChild(p).updateChild(b,E):y=h.getNode().getImmediateChild(p)}else y=Fh(l,p,n.serverCache);y!=null?m=a.filter.updateChild(h.getNode(),p,y,b,o,f):m=h.getNode()}}return Ql(n,m,h.isFullyInitialized()||me(s),a.filter.filtersNodes())}}function Fo(a,n,s,l,o,f,h,m){const g=n.serverCache;let p;const b=h?a.filter:a.filter.getIndexedFilter();if(me(s))p=b.updateFullNode(g.getNode(),l,null);else if(b.filtersNodes()&&!g.isFiltered()){const z=g.getNode().updateChild(s,l);p=b.updateFullNode(g.getNode(),z,null)}else{const z=de(s);if(!g.isCompleteForPath(s)&&is(s)>1)return n;const k=qe(s),oe=g.getNode().getImmediateChild(z).updateChild(k,l);z===".priority"?p=b.updatePriority(g.getNode(),oe):p=b.updateChild(g.getNode(),z,oe,k,cy,null)}const y=iy(n,p,g.isFullyInitialized()||me(s),b.filtersNodes()),E=new Kh(o,y,f);return uy(a,y,s,o,E,m)}function dh(a,n,s,l,o,f,h){const m=n.eventCache;let g,p;const b=new Kh(o,n,f);if(me(s))p=a.filter.updateFullNode(n.eventCache.getNode(),l,h),g=Ql(n,p,!0,a.filter.filtersNodes());else{const y=de(s);if(y===".priority")p=a.filter.updatePriority(n.eventCache.getNode(),l),g=Ql(n,p,m.isFullyInitialized(),m.isFiltered());else{const E=qe(s),z=m.getNode().getImmediateChild(y);let k;if(me(E))k=l;else{const $=b.getCompleteChild(y);$!=null?Uh(E)===".priority"&&$.getChild(Kv(E)).isEmpty()?k=$:k=$.updateChild(E,l):k=ne.EMPTY_NODE}if(z.equals(k))g=n;else{const $=a.filter.updateChild(m.getNode(),y,k,E,b,h);g=Ql(n,$,m.isFullyInitialized(),a.filter.filtersNodes())}}}return g}function H_(a,n){return a.eventCache.isCompleteForChild(n)}function XC(a,n,s,l,o,f,h){let m=n;return l.foreach((g,p)=>{const b=Ze(s,g);H_(n,de(b))&&(m=dh(a,m,b,p,o,f,h))}),l.foreach((g,p)=>{const b=Ze(s,g);H_(n,de(b))||(m=dh(a,m,b,p,o,f,h))}),m}function V_(a,n,s){return s.foreach((l,o)=>{n=n.updateChild(l,o)}),n}function mh(a,n,s,l,o,f,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,p;me(s)?p=l:p=new Qe(null).setTree(s,l);const b=n.serverCache.getNode();return p.children.inorderTraversal((y,E)=>{if(b.hasChild(y)){const z=n.serverCache.getNode().getImmediateChild(y),k=V_(a,z,E);g=Fo(a,g,new je(y),k,o,f,h,m)}}),p.children.inorderTraversal((y,E)=>{const z=!n.serverCache.isCompleteForChild(y)&&E.value===null;if(!b.hasChild(y)&&!z){const k=n.serverCache.getNode().getImmediateChild(y),$=V_(a,k,E);g=Fo(a,g,new je(y),$,o,f,h,m)}}),g}function FC(a,n,s,l,o,f,h){if(Xo(o,s)!=null)return n;const m=n.serverCache.isFiltered(),g=n.serverCache;if(l.value!=null){if(me(s)&&g.isFullyInitialized()||g.isCompleteForPath(s))return Fo(a,n,s,g.getNode().getChild(s),o,f,m,h);if(me(s)){let p=new Qe(null);return g.getNode().forEachChild(Wn,(b,y)=>{p=p.set(new je(b),y)}),mh(a,n,s,p,o,f,m,h)}else return n}else{let p=new Qe(null);return l.foreach((b,y)=>{const E=Ze(s,b);g.isCompleteForPath(E)&&(p=p.set(b,g.getNode().getChild(E)))}),mh(a,n,s,p,o,f,m,h)}}function KC(a,n,s,l,o){const f=n.serverCache,h=iy(n,f.getNode(),f.isFullyInitialized()||me(s),f.isFiltered());return uy(a,h,s,l,cy,o)}function ZC(a,n,s,l,o,f){let h;if(Xo(l,s)!=null)return n;{const m=new Kh(l,n,o),g=n.eventCache.getNode();let p;if(me(s)||de(s)===".priority"){let b;if(n.serverCache.isFullyInitialized())b=Po(l,zs(n));else{const y=n.serverCache.getNode();L(y instanceof ne,"serverChildren would be complete if leaf node"),b=Xh(l,y)}b=b,p=a.filter.updateFullNode(g,b,f)}else{const b=de(s);let y=Fh(l,b,n.serverCache);y==null&&n.serverCache.isCompleteForChild(b)&&(y=g.getImmediateChild(b)),y!=null?p=a.filter.updateChild(g,b,y,qe(s),m,f):n.eventCache.getNode().hasChild(b)?p=a.filter.updateChild(g,b,ne.EMPTY_NODE,qe(s),m,f):p=g,p.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Po(l,zs(n)),h.isLeafNode()&&(p=a.filter.updateFullNode(p,h,f)))}return h=n.serverCache.isFullyInitialized()||Xo(l,Oe())!=null,Ql(n,p,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new Yh(l.getIndex()),f=fC(l);this.processor_=YC(f);const h=s.serverCache,m=s.eventCache,g=o.updateFullNode(ne.EMPTY_NODE,h.getNode(),null),p=f.updateFullNode(ne.EMPTY_NODE,m.getNode(),null),b=new ss(g,h.isFullyInitialized(),o.filtersNodes()),y=new ss(p,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=ac(y,b),this.eventGenerator_=new EC(this.query_)}get query(){return this.query_}}function $C(a){return a.viewCache_.serverCache.getNode()}function JC(a){return Qo(a.viewCache_)}function eT(a,n){const s=zs(a.viewCache_);return s&&(a.query._queryParams.loadsAllData()||!me(n)&&!s.getImmediateChild(de(n)).isEmpty())?s.getChild(n):null}function q_(a){return a.eventRegistrations_.length===0}function tT(a,n){a.eventRegistrations_.push(n)}function Y_(a,n,s){const l=[];if(s){L(n==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(s,o);h&&l.push(h)})}if(n){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function G_(a,n,s,l){n.type===Bn.MERGE&&n.source.queryId!==null&&(L(zs(a.viewCache_),"We should always have a full cache before handling merges"),L(Qo(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=QC(a.processor_,o,n,s,l);return GC(a.processor_,f.viewCache),L(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,fy(a,f.changes,f.viewCache.eventCache.getNode(),null)}function nT(a,n){const s=a.viewCache_.eventCache,l=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Pe,(f,h)=>{l.push(Da(f,h))}),s.isFullyInitialized()&&l.push(ny(s.getNode())),fy(a,l,s.getNode(),n)}function fy(a,n,s,l){const o=l?[l]:a.eventRegistrations_;return CC(a.eventGenerator_,n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko;class hy{constructor(){this.views=new Map}}function iT(a){L(!Ko,"__referenceConstructor has already been defined"),Ko=a}function sT(){return L(Ko,"Reference.ts has not been loaded"),Ko}function aT(a){return a.views.size===0}function Zh(a,n,s,l){const o=n.source.queryId;if(o!==null){const f=a.views.get(o);return L(f!=null,"SyncTree gave us an op for an invalid query."),G_(f,n,s,l)}else{let f=[];for(const h of a.views.values())f=f.concat(G_(h,n,s,l));return f}}function dy(a,n,s,l,o){const f=n._queryIdentifier,h=a.views.get(f);if(!h){let m=Po(s,o?l:null),g=!1;m?g=!0:l instanceof ne?(m=Xh(s,l),g=!1):(m=ne.EMPTY_NODE,g=!1);const p=ac(new ss(m,g,!1),new ss(l,o,!1));return new WC(n,p)}return h}function lT(a,n,s,l,o,f){const h=dy(a,n,l,o,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),tT(h,s),nT(h,s)}function rT(a,n,s,l){const o=n._queryIdentifier,f=[];let h=[];const m=as(a);if(o==="default")for(const[g,p]of a.views.entries())h=h.concat(Y_(p,s,l)),q_(p)&&(a.views.delete(g),p.query._queryParams.loadsAllData()||f.push(p.query));else{const g=a.views.get(o);g&&(h=h.concat(Y_(g,s,l)),q_(g)&&(a.views.delete(o),g.query._queryParams.loadsAllData()||f.push(g.query)))}return m&&!as(a)&&f.push(new(sT())(n._repo,n._path)),{removed:f,events:h}}function my(a){const n=[];for(const s of a.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function $i(a,n){let s=null;for(const l of a.views.values())s=s||eT(l,n);return s}function py(a,n){if(n._queryParams.loadsAllData())return rc(a);{const l=n._queryIdentifier;return a.views.get(l)}}function gy(a,n){return py(a,n)!=null}function as(a){return rc(a)!=null}function rc(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo;function oT(a){L(!Zo,"__referenceConstructor has already been defined"),Zo=a}function cT(){return L(Zo,"Reference.ts has not been loaded"),Zo}let uT=1;class Q_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Qe(null),this.pendingWriteTree_=BC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wh(a,n,s,l,o){return xC(a.pendingWriteTree_,n,s,l,o),o?La(a,new Is(Gh(),n,s)):[]}function fT(a,n,s,l){wC(a.pendingWriteTree_,n,s,l);const o=Qe.fromObject(s);return La(a,new Oa(Gh(),n,o))}function Ki(a,n,s=!1){const l=RC(a.pendingWriteTree_,n);if(DC(a.pendingWriteTree_,n)){let f=new Qe(null);return l.snap!=null?f=f.set(Oe(),!0):wt(l.children,h=>{f=f.set(new je(h),!0)}),La(a,new Go(l.path,f,s))}else return[]}function ur(a,n,s){return La(a,new Is(Qh(),n,s))}function hT(a,n,s){const l=Qe.fromObject(s);return La(a,new Oa(Qh(),n,l))}function dT(a,n){return La(a,new nr(Qh(),n))}function mT(a,n,s){const l=$h(a,s);if(l){const o=Jh(l),f=o.path,h=o.queryId,m=Gt(f,n),g=new nr(Ph(h),m);return ed(a,f,g)}else return[]}function Wo(a,n,s,l,o=!1){const f=n._path,h=a.syncPointTree_.get(f);let m=[];if(h&&(n._queryIdentifier==="default"||gy(h,n))){const g=rT(h,n,s,l);aT(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const p=g.removed;if(m=g.events,!o){const b=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=a.syncPointTree_.findOnPath(f,(E,z)=>as(z));if(b&&!y){const E=a.syncPointTree_.subtree(f);if(!E.isEmpty()){const z=_T(E);for(let k=0;k<z.length;++k){const $=z[k],oe=$.query,ie=by(a,$);a.listenProvider_.startListening(Xl(oe),ir(a,oe),ie.hashFn,ie.onComplete)}}}!y&&p.length>0&&!l&&(b?a.listenProvider_.stopListening(Xl(n),null):p.forEach(E=>{const z=a.queryToTagMap.get(cc(E));a.listenProvider_.stopListening(Xl(E),z)}))}vT(a,p)}return m}function _y(a,n,s,l){const o=$h(a,l);if(o!=null){const f=Jh(o),h=f.path,m=f.queryId,g=Gt(h,n),p=new Is(Ph(m),g,s);return ed(a,h,p)}else return[]}function pT(a,n,s,l){const o=$h(a,l);if(o){const f=Jh(o),h=f.path,m=f.queryId,g=Gt(h,n),p=Qe.fromObject(s),b=new Oa(Ph(m),g,p);return ed(a,h,b)}else return[]}function ph(a,n,s,l=!1){const o=n._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(o,(E,z)=>{const k=Gt(E,o);f=f||$i(z,k),h=h||as(z)});let m=a.syncPointTree_.get(o);m?(h=h||as(m),f=f||$i(m,Oe())):(m=new hy,a.syncPointTree_=a.syncPointTree_.set(o,m));let g;f!=null?g=!0:(g=!1,f=ne.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((z,k)=>{const $=$i(k,Oe());$&&(f=f.updateImmediateChild(z,$))}));const p=gy(m,n);if(!p&&!n._queryParams.loadsAllData()){const E=cc(n);L(!a.queryToTagMap.has(E),"View does not exist, but we have a tag");const z=yT();a.queryToTagMap.set(E,z),a.tagToQueryMap.set(z,E)}const b=lc(a.pendingWriteTree_,o);let y=lT(m,n,s,b,f,g);if(!p&&!h&&!l){const E=py(m,n);y=y.concat(bT(a,n,E))}return y}function oc(a,n,s){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(h,m)=>{const g=Gt(h,n),p=$i(m,g);if(p)return p});return ly(o,n,f,s,!0)}function gT(a,n){const s=n._path;let l=null;a.syncPointTree_.foreachOnPath(s,(p,b)=>{const y=Gt(p,s);l=l||$i(b,y)});let o=a.syncPointTree_.get(s);o?l=l||$i(o,Oe()):(o=new hy,a.syncPointTree_=a.syncPointTree_.set(s,o));const f=l!=null,h=f?new ss(l,!0,!1):null,m=lc(a.pendingWriteTree_,n._path),g=dy(o,n,m,f?h.getNode():ne.EMPTY_NODE,f);return JC(g)}function La(a,n){return vy(n,a.syncPointTree_,null,lc(a.pendingWriteTree_,Oe()))}function vy(a,n,s,l){if(me(a.path))return yy(a,n,s,l);{const o=n.get(Oe());s==null&&o!=null&&(s=$i(o,Oe()));let f=[];const h=de(a.path),m=a.operationForChild(h),g=n.children.get(h);if(g&&m){const p=s?s.getImmediateChild(h):null,b=ry(l,h);f=f.concat(vy(m,g,p,b))}return o&&(f=f.concat(Zh(o,a,l,s))),f}}function yy(a,n,s,l){const o=n.get(Oe());s==null&&o!=null&&(s=$i(o,Oe()));let f=[];return n.children.inorderTraversal((h,m)=>{const g=s?s.getImmediateChild(h):null,p=ry(l,h),b=a.operationForChild(h);b&&(f=f.concat(yy(b,m,g,p)))}),o&&(f=f.concat(Zh(o,a,l,s))),f}function by(a,n){const s=n.query,l=ir(a,s);return{hashFn:()=>($C(n)||ne.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?mT(a,s._path,l):dT(a,s._path);{const f=fE(o,s);return Wo(a,s,null,f)}}}}function ir(a,n){const s=cc(n);return a.queryToTagMap.get(s)}function cc(a){return a._path.toString()+"$"+a._queryIdentifier}function $h(a,n){return a.tagToQueryMap.get(n)}function Jh(a){const n=a.indexOf("$");return L(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new je(a.substr(0,n))}}function ed(a,n,s){const l=a.syncPointTree_.get(n);L(l,"Missing sync point for query tag that we're tracking");const o=lc(a.pendingWriteTree_,n);return Zh(l,s,o,null)}function _T(a){return a.fold((n,s,l)=>{if(s&&as(s))return[rc(s)];{let o=[];return s&&(o=my(s)),wt(l,(f,h)=>{o=o.concat(h)}),o}})}function Xl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(cT())(a._repo,a._path):a}function vT(a,n){for(let s=0;s<n.length;++s){const l=n[s];if(!l._queryParams.loadsAllData()){const o=cc(l),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function yT(){return uT++}function bT(a,n,s){const l=n._path,o=ir(a,n),f=by(a,s),h=a.listenProvider_.startListening(Xl(n),o,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(l);if(o)L(!as(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,b,y)=>{if(!me(p)&&b&&as(b))return[rc(b).query];{let E=[];return b&&(E=E.concat(my(b).map(z=>z.query))),wt(y,(z,k)=>{E=E.concat(k)}),E}});for(let p=0;p<g.length;++p){const b=g[p];a.listenProvider_.stopListening(Xl(b),ir(a,b))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new td(s)}node(){return this.node_}}class nd{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=Ze(this.path_,n);return new nd(this.syncTree_,s)}node(){return oc(this.syncTree_,this.path_)}}const ST=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},P_=function(a,n,s){if(!a||typeof a!="object")return a;if(L(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return ET(a[".sv"],n,s);if(typeof a[".sv"]=="object")return CT(a[".sv"],n);L(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},ET=function(a,n,s){switch(a){case"timestamp":return s.timestamp;default:L(!1,"Unexpected server value: "+a)}},CT=function(a,n,s){a.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&L(!1,"Unexpected increment value: "+l);const o=n.node();if(L(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},Sy=function(a,n,s,l){return sd(n,new nd(s,a),l)},id=function(a,n,s){return sd(a,new td(n),s)};function sd(a,n,s){const l=a.getPriority().val(),o=P_(l,n.getImmediateChild(".priority"),s);let f;if(a.isLeafNode()){const h=a,m=P_(h.getValue(),n,s);return m!==h.getValue()||o!==h.getPriority().val()?new Tt(m,nt(o)):a}else{const h=a;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new Tt(o))),h.forEachChild(Pe,(m,g)=>{const p=sd(g,n.getImmediateChild(m),s);p!==g&&(f=f.updateImmediateChild(m,p))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(n="",s=null,l={children:{},childCount:0}){this.name=n,this.parent=s,this.node=l}}function uc(a,n){let s=n instanceof je?n:new je(n),l=a,o=de(s);for(;o!==null;){const f=js(l.node.children,o)||{children:{},childCount:0};l=new ad(o,l,f),s=qe(s),o=de(s)}return l}function Bs(a){return a.node.value}function ld(a,n){a.node.value=n,gh(a)}function Ey(a){return a.node.childCount>0}function TT(a){return Bs(a)===void 0&&!Ey(a)}function fc(a,n){wt(a.node.children,(s,l)=>{n(new ad(s,a,l))})}function Cy(a,n,s,l){s&&n(a),fc(a,o=>{Cy(o,n,!0)})}function NT(a,n,s){let l=a.parent;for(;l!==null;){if(n(l))return!0;l=l.parent}return!1}function fr(a){return new je(a.parent===null?a.name:fr(a.parent)+"/"+a.name)}function gh(a){a.parent!==null&&AT(a.parent,a.name,a)}function AT(a,n,s){const l=TT(s),o=mn(a.node.children,n);l&&o?(delete a.node.children[n],a.node.childCount--,gh(a)):!l&&!o&&(a.node.children[n]=s.node,a.node.childCount++,gh(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=/[\[\].#$\/\u0000-\u001F\u007F]/,wT=/[\[\].#$\u0000-\u001F\u007F]/,Kf=10*1024*1024,hc=function(a){return typeof a=="string"&&a.length!==0&&!xT.test(a)},Ty=function(a){return typeof a=="string"&&a.length!==0&&!wT.test(a)},RT=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Ty(a)},sr=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!tc(a)||a&&typeof a=="object"&&mn(a,".sv")},Jn=function(a,n,s,l){l&&n===void 0||hr(en(a,"value"),n,s)},hr=function(a,n,s){const l=s instanceof je?new QE(s,a):s;if(n===void 0)throw new Error(a+"contains undefined "+Ds(l));if(typeof n=="function")throw new Error(a+"contains a function "+Ds(l)+" with contents = "+n.toString());if(tc(n))throw new Error(a+"contains "+n.toString()+" "+Ds(l));if(typeof n=="string"&&n.length>Kf/3&&Jo(n)>Kf)throw new Error(a+"contains a string greater than "+Kf+" utf8 bytes "+Ds(l)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(wt(n,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!hc(h)))throw new Error(a+" contains an invalid key ("+h+") "+Ds(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PE(l,h),hr(a,m,l),XE(l)}),o&&f)throw new Error(a+' contains ".value" child '+Ds(l)+" in addition to actual children.")}},DT=function(a,n){let s,l;for(s=0;s<n.length;s++){l=n[s];const f=$l(l);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!hc(f[h]))throw new Error(a+"contains an invalid key ("+f[h]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(GE);let o=null;for(s=0;s<n.length;s++){if(l=n[s],o!==null&&wn(o,l))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+l.toString());o=l}},Ny=function(a,n,s,l){const o=en(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const f=[];wt(n,(h,m)=>{const g=new je(h);if(hr(o,m,Ze(s,g)),Uh(g)===".priority"&&!sr(m))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(g)}),DT(o,f)},rd=function(a,n,s){if(tc(n))throw new Error(en(a,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!sr(n))throw new Error(en(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},dr=function(a,n,s,l){if(s!==void 0&&!hc(s))throw new Error(en(a,n)+'was an invalid key = "'+s+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},ar=function(a,n,s,l){if(!Ty(s))throw new Error(en(a,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},OT=function(a,n,s,l){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),ar(a,n,s)},Rn=function(a,n){if(de(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},Ay=function(a,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!hc(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!RT(s))throw new Error(en(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dc(a,n){let s=null;for(let l=0;l<n.length;l++){const o=n[l],f=o.getPath();s!==null&&!Lh(f,s.path)&&(a.eventLists_.push(s),s=null),s===null&&(s={events:[],path:f}),s.events.push(o)}s&&a.eventLists_.push(s)}function xy(a,n,s){dc(a,s),wy(a,l=>Lh(l,n))}function pn(a,n,s){dc(a,s),wy(a,l=>wn(l,n)||wn(n,l))}function wy(a,n){a.recursionDepth_++;let s=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const f=o.path;n(f)?(jT(a.eventLists_[l]),a.eventLists_[l]=null):s=!1}}s&&(a.eventLists_=[]),a.recursionDepth_--}function jT(a){for(let n=0;n<a.events.length;n++){const s=a.events[n];if(s!==null){a.events[n]=null;const l=s.getEventRunner();Ms&&xt("event: "+s.toString()),ka(l)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="repo_interrupt",IT=25;class zT{constructor(n,s,l,o){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yo(),this.transactionQueueTree_=new ad,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kT(a,n,s){if(a.stats_=zh(a.repoInfo_),a.forceRestClient_||pE())a.server_=new qo(a.repoInfo_,(l,o,f,h)=>{X_(a,l,o,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>F_(a,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{vt(s)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new yi(a.repoInfo_,n,(l,o,f,h)=>{X_(a,l,o,f,h)},l=>{F_(a,l)},l=>{UT(a,l)},a.authTokenProvider_,a.appCheckProvider_,s),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=bE(a.repoInfo_,()=>new SC(a.stats_,a.server_)),a.infoData_=new gC,a.infoSyncTree_=new Q_({startListening:(l,o,f,h)=>{let m=[];const g=a.infoData_.getNode(l._path);return g.isEmpty()||(m=ur(a.infoSyncTree_,l._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),od(a,"connected",!1),a.serverSyncTree_=new Q_({startListening:(l,o,f,h)=>(a.server_.listen(l,f,o,(m,g)=>{const p=h(m,g);pn(a.eventQueue_,l._path,p)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function Dy(a){const s=a.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function mr(a){return ST({timestamp:Dy(a)})}function X_(a,n,s,l,o){a.dataUpdateCount++;const f=new je(n);s=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,s):s;let h=[];if(o)if(l){const g=ko(s,p=>nt(p));h=pT(a.serverSyncTree_,f,g,o)}else{const g=nt(s);h=_y(a.serverSyncTree_,f,g,o)}else if(l){const g=ko(s,p=>nt(p));h=hT(a.serverSyncTree_,f,g)}else{const g=nt(s);h=ur(a.serverSyncTree_,f,g)}let m=f;h.length>0&&(m=ja(a,f)),pn(a.eventQueue_,m,h)}function F_(a,n){od(a,"connected",n),n===!1&&HT(a)}function UT(a,n){wt(n,(s,l)=>{od(a,s,l)})}function od(a,n,s){const l=new je("/.info/"+n),o=nt(s);a.infoData_.updateSnapshot(l,o);const f=ur(a.infoSyncTree_,l,o);pn(a.eventQueue_,l,f)}function mc(a){return a.nextWriteId_++}function LT(a,n,s){const l=gT(a.serverSyncTree_,n);return l!=null?Promise.resolve(l):a.server_.get(n).then(o=>{const f=nt(o).withIndex(n._queryParams.getIndex());ph(a.serverSyncTree_,n,s,!0);let h;if(n._queryParams.loadsAllData())h=ur(a.serverSyncTree_,n._path,f);else{const m=ir(a.serverSyncTree_,n);h=_y(a.serverSyncTree_,n._path,f,m)}return pn(a.eventQueue_,n._path,h),Wo(a.serverSyncTree_,n,s,null,!0),f},o=>(Ba(a,"get for query "+vt(n)+" failed: "+o),Promise.reject(new Error(o))))}function cd(a,n,s,l,o){Ba(a,"set",{path:n.toString(),value:s,priority:l});const f=mr(a),h=nt(s,l),m=oc(a.serverSyncTree_,n),g=id(h,m,f),p=mc(a),b=Wh(a.serverSyncTree_,n,g,p,!0);dc(a.eventQueue_,b),a.server_.put(n.toString(),h.val(!0),(E,z)=>{const k=E==="ok";k||Vt("set at "+n+" failed: "+E);const $=Ki(a.serverSyncTree_,p,!k);pn(a.eventQueue_,n,$),ls(a,o,E,z)});const y=fd(a,n);ja(a,y),pn(a.eventQueue_,y,[])}function BT(a,n,s,l){Ba(a,"update",{path:n.toString(),value:s});let o=!0;const f=mr(a),h={};if(wt(s,(m,g)=>{o=!1,h[m]=Sy(Ze(n,m),nt(g),a.serverSyncTree_,f)}),o)xt("update() called with empty data.  Don't do anything."),ls(a,l,"ok",void 0);else{const m=mc(a),g=fT(a.serverSyncTree_,n,h,m);dc(a.eventQueue_,g),a.server_.merge(n.toString(),s,(p,b)=>{const y=p==="ok";y||Vt("update at "+n+" failed: "+p);const E=Ki(a.serverSyncTree_,m,!y),z=E.length>0?ja(a,n):n;pn(a.eventQueue_,z,E),ls(a,l,p,b)}),wt(s,p=>{const b=fd(a,Ze(n,p));ja(a,b)}),pn(a.eventQueue_,n,[])}}function HT(a){Ba(a,"onDisconnectEvents");const n=mr(a),s=Yo();ch(a.onDisconnect_,Oe(),(o,f)=>{const h=Sy(o,f,a.serverSyncTree_,n);Ua(s,o,h)});let l=[];ch(s,Oe(),(o,f)=>{l=l.concat(ur(a.serverSyncTree_,o,f));const h=fd(a,o);ja(a,h)}),a.onDisconnect_=Yo(),pn(a.eventQueue_,Oe(),l)}function VT(a,n,s){a.server_.onDisconnectCancel(n.toString(),(l,o)=>{l==="ok"&&oh(a.onDisconnect_,n),ls(a,s,l,o)})}function K_(a,n,s,l){const o=nt(s);a.server_.onDisconnectPut(n.toString(),o.val(!0),(f,h)=>{f==="ok"&&Ua(a.onDisconnect_,n,o),ls(a,l,f,h)})}function qT(a,n,s,l,o){const f=nt(s,l);a.server_.onDisconnectPut(n.toString(),f.val(!0),(h,m)=>{h==="ok"&&Ua(a.onDisconnect_,n,f),ls(a,o,h,m)})}function YT(a,n,s,l){if(Wf(s)){xt("onDisconnect().update() called with empty data.  Don't do anything."),ls(a,l,"ok",void 0);return}a.server_.onDisconnectMerge(n.toString(),s,(o,f)=>{o==="ok"&&wt(s,(h,m)=>{const g=nt(m);Ua(a.onDisconnect_,Ze(n,h),g)}),ls(a,l,o,f)})}function GT(a,n,s){let l;de(n._path)===".info"?l=ph(a.infoSyncTree_,n,s):l=ph(a.serverSyncTree_,n,s),xy(a.eventQueue_,n._path,l)}function _h(a,n,s){let l;de(n._path)===".info"?l=Wo(a.infoSyncTree_,n,s):l=Wo(a.serverSyncTree_,n,s),xy(a.eventQueue_,n._path,l)}function Oy(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Ry)}function QT(a){a.persistentConnection_&&a.persistentConnection_.resume(Ry)}function Ba(a,...n){let s="";a.persistentConnection_&&(s=a.persistentConnection_.id+":"),xt(s,...n)}function ls(a,n,s,l){n&&ka(()=>{if(s==="ok")n(null);else{const o=(s||"error").toUpperCase();let f=o;l&&(f+=": "+l);const h=new Error(f);h.code=o,n(h)}})}function PT(a,n,s,l,o,f){Ba(a,"transaction on "+n);const h={path:n,update:s,onComplete:l,status:null,order:Av(),applyLocally:f,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=ud(a,n,void 0);h.currentInputSnapshot=m;const g=h.update(m.val());if(g===void 0)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{hr("transaction failed: Data returned ",g,h.path),h.status=0;const p=uc(a.transactionQueueTree_,n),b=Bs(p)||[];b.push(h),ld(p,b);let y;typeof g=="object"&&g!==null&&mn(g,".priority")?(y=js(g,".priority"),L(sr(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):y=(oc(a.serverSyncTree_,n)||ne.EMPTY_NODE).getPriority().val();const E=mr(a),z=nt(g,y),k=id(z,m,E);h.currentOutputSnapshotRaw=z,h.currentOutputSnapshotResolved=k,h.currentWriteId=mc(a);const $=Wh(a.serverSyncTree_,n,k,h.currentWriteId,h.applyLocally);pn(a.eventQueue_,n,$),pc(a,a.transactionQueueTree_)}}function ud(a,n,s){return oc(a.serverSyncTree_,n,s)||ne.EMPTY_NODE}function pc(a,n=a.transactionQueueTree_){if(n||gc(a,n),Bs(n)){const s=jy(a,n);L(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&XT(a,fr(n),s)}else Ey(n)&&fc(n,s=>{pc(a,s)})}function XT(a,n,s){const l=s.map(p=>p.currentWriteId),o=ud(a,n,l);let f=o;const h=o.hash();for(let p=0;p<s.length;p++){const b=s[p];L(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const y=Gt(n,b.path);f=f.updateChild(y,b.currentOutputSnapshotRaw)}const m=f.val(!0),g=n;a.server_.put(g.toString(),m,p=>{Ba(a,"transaction put response",{path:g.toString(),status:p});let b=[];if(p==="ok"){const y=[];for(let E=0;E<s.length;E++)s[E].status=2,b=b.concat(Ki(a.serverSyncTree_,s[E].currentWriteId)),s[E].onComplete&&y.push(()=>s[E].onComplete(null,!0,s[E].currentOutputSnapshotResolved)),s[E].unwatcher();gc(a,uc(a.transactionQueueTree_,n)),pc(a,a.transactionQueueTree_),pn(a.eventQueue_,n,b);for(let E=0;E<y.length;E++)ka(y[E])}else{if(p==="datastale")for(let y=0;y<s.length;y++)s[y].status===3?s[y].status=4:s[y].status=0;else{Vt("transaction at "+g.toString()+" failed: "+p);for(let y=0;y<s.length;y++)s[y].status=4,s[y].abortReason=p}ja(a,n)}},h)}function ja(a,n){const s=My(a,n),l=fr(s),o=jy(a,s);return FT(a,o,l),l}function FT(a,n,s){if(n.length===0)return;const l=[];let o=[];const h=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const g=n[m],p=Gt(s,g.path);let b=!1,y;if(L(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)b=!0,y=g.abortReason,o=o.concat(Ki(a.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=IT)b=!0,y="maxretry",o=o.concat(Ki(a.serverSyncTree_,g.currentWriteId,!0));else{const E=ud(a,g.path,h);g.currentInputSnapshot=E;const z=n[m].update(E.val());if(z!==void 0){hr("transaction failed: Data returned ",z,g.path);let k=nt(z);typeof z=="object"&&z!=null&&mn(z,".priority")||(k=k.updatePriority(E.getPriority()));const oe=g.currentWriteId,ie=mr(a),ue=id(k,E,ie);g.currentOutputSnapshotRaw=k,g.currentOutputSnapshotResolved=ue,g.currentWriteId=mc(a),h.splice(h.indexOf(oe),1),o=o.concat(Wh(a.serverSyncTree_,g.path,ue,g.currentWriteId,g.applyLocally)),o=o.concat(Ki(a.serverSyncTree_,oe,!0))}else b=!0,y="nodata",o=o.concat(Ki(a.serverSyncTree_,g.currentWriteId,!0))}pn(a.eventQueue_,s,o),o=[],b&&(n[m].status=2,function(E){setTimeout(E,Math.floor(0))}(n[m].unwatcher),n[m].onComplete&&(y==="nodata"?l.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):l.push(()=>n[m].onComplete(new Error(y),!1,null))))}gc(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)ka(l[m]);pc(a,a.transactionQueueTree_)}function My(a,n){let s,l=a.transactionQueueTree_;for(s=de(n);s!==null&&Bs(l)===void 0;)l=uc(l,s),n=qe(n),s=de(n);return l}function jy(a,n){const s=[];return Iy(a,n,s),s.sort((l,o)=>l.order-o.order),s}function Iy(a,n,s){const l=Bs(n);if(l)for(let o=0;o<l.length;o++)s.push(l[o]);fc(n,o=>{Iy(a,o,s)})}function gc(a,n){const s=Bs(n);if(s){let l=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[l]=s[o],l++);s.length=l,ld(n,s.length>0?s:void 0)}fc(n,l=>{gc(a,l)})}function fd(a,n){const s=fr(My(a,n)),l=uc(a.transactionQueueTree_,n);return NT(l,o=>{Zf(a,o)}),Zf(a,l),Cy(l,o=>{Zf(a,o)}),s}function Zf(a,n){const s=Bs(n);if(s){const l=[];let o=[],f=-1;for(let h=0;h<s.length;h++)s[h].status===3||(s[h].status===1?(L(f===h-1,"All SENT items should be at beginning of queue."),f=h,s[h].status=3,s[h].abortReason="set"):(L(s[h].status===0,"Unexpected transaction status in abort"),s[h].unwatcher(),o=o.concat(Ki(a.serverSyncTree_,s[h].currentWriteId,!0)),s[h].onComplete&&l.push(s[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?ld(n,void 0):s.length=f+1,pn(a.eventQueue_,fr(n),o);for(let h=0;h<l.length;h++)ka(l[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(a){let n="";const s=a.split("/");for(let l=0;l<s.length;l++)if(s[l].length>0){let o=s[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function ZT(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const s of a.split("&")){if(s.length===0)continue;const l=s.split("=");l.length===2?n[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Vt(`Invalid query segment '${s}' in query '${a}'`)}return n}const vh=function(a,n){const s=WT(a),l=s.namespace;s.domain==="firebase.com"&&$n(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&s.domain!=="localhost"&&$n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||lE();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new Hv(s.host,s.secure,l,o,n,"",l!==s.subdomain),path:new je(s.pathString)}},WT=function(a){let n="",s="",l="",o="",f="",h=!0,m="https",g=443;if(typeof a=="string"){let p=a.indexOf("//");p>=0&&(m=a.substring(0,p-1),a=a.substring(p+2));let b=a.indexOf("/");b===-1&&(b=a.length);let y=a.indexOf("?");y===-1&&(y=a.length),n=a.substring(0,Math.min(b,y)),b<y&&(o=KT(a.substring(b,y)));const E=ZT(a.substring(Math.min(a.length,y)));p=n.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(n.substring(p+1),10)):p=n.length;const z=n.slice(0,p);if(z.toLowerCase()==="localhost")s="localhost";else if(z.split(".").length<=2)s=z;else{const k=n.indexOf(".");l=n.substring(0,k).toLowerCase(),s=n.substring(k+1),f=l}"ns"in E&&(f=E.ns)}return{host:n,port:g,domain:s,subdomain:l,secure:h,scheme:m,pathString:o,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$T=function(){let a=0;const n=[];return function(s){const l=s===a;a=s;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=Z_.charAt(s%64),s=Math.floor(s/64);L(s===0,"Cannot push at time == 0");let h=f.join("");if(l){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=Z_.charAt(n[o]);return L(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(n,s,l,o){this.eventType=n,this.eventRegistration=s,this.snapshot=l,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+vt(this.snapshot.exportVal())}}class ky{constructor(n,s,l){this.eventRegistration=n,this.error=s,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JT=class{constructor(n,s){this._repo=n,this._path=s}cancel(){const n=new $t;return VT(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Rn("OnDisconnect.remove",this._path);const n=new $t;return K_(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Rn("OnDisconnect.set",this._path),Jn("OnDisconnect.set",n,this._path,!1);const s=new $t;return K_(this._repo,this._path,n,s.wrapCallback(()=>{})),s.promise}setWithPriority(n,s){Rn("OnDisconnect.setWithPriority",this._path),Jn("OnDisconnect.setWithPriority",n,this._path,!1),rd("OnDisconnect.setWithPriority",s);const l=new $t;return qT(this._repo,this._path,n,s,l.wrapCallback(()=>{})),l.promise}update(n){Rn("OnDisconnect.update",this._path),Ny("OnDisconnect.update",n,this._path);const s=new $t;return YT(this._repo,this._path,n,s.wrapCallback(()=>{})),s.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(n,s,l,o){this._repo=n,this._path=s,this._queryParams=l,this._orderByCalled=o}get key(){return me(this._path)?null:Uh(this._path)}get ref(){return new Dn(this._repo,this._path)}get _queryIdentifier(){const n=z_(this._queryParams),s=jh(n);return s==="{}"?"default":s}get _queryObject(){return z_(this._queryParams)}isEqual(n){if(n=gn(n),!(n instanceof tn))return!1;const s=this._repo===n._repo,l=Lh(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return s&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+YE(this._path)}}function _c(a,n){if(a._orderByCalled===!0)throw new Error(n+": You can't combine multiple orderBy calls.")}function rs(a){let n=null,s=null;if(a.hasStart()&&(n=a.getIndexStartValue()),a.hasEnd()&&(s=a.getIndexEndValue()),a.getIndex()===Wn){const l="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!==ns)throw new Error(l);if(typeof n!="string")throw new Error(o)}if(a.hasEnd()){if(a.getIndexEndName()!==Ei)throw new Error(l);if(typeof s!="string")throw new Error(o)}}else if(a.getIndex()===Pe){if(n!=null&&!sr(n)||s!=null&&!sr(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(L(a.getIndex()instanceof Vh||a.getIndex()===qh,"unknown index type."),n!=null&&typeof n=="object"||s!=null&&typeof s=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vc(a){if(a.hasStart()&&a.hasEnd()&&a.hasLimit()&&!a.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Dn extends tn{constructor(n,s){super(n,s,new ic,!1)}get parent(){const n=Kv(this._path);return n===null?null:new Dn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}let yc=class yh{constructor(n,s,l){this._node=n,this.ref=s,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new je(n),l=ks(this.ref,n);return new yh(this._node.getChild(s),l,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>n(new yh(o,ks(this.ref,l),Pe)))}hasChild(n){const s=new je(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Uy(a,n){return a=gn(a),a._checkNotDeleted("ref"),n!==void 0?ks(a._root,n):a._root}function W_(a,n){a=gn(a),a._checkNotDeleted("refFromURL");const s=vh(n,a._repo.repoInfo_.nodeAdmin);Ay("refFromURL",s);const l=s.repoInfo;return!a._repo.repoInfo_.isCustomHost()&&l.host!==a._repo.repoInfo_.host&&$n("refFromURL: Host name does not match the current database: (found "+l.host+" but expected "+a._repo.repoInfo_.host+")"),Uy(a,s.path.toString())}function ks(a,n){return a=gn(a),de(a._path)===null?OT("child","path",n):ar("child","path",n),new Dn(a._repo,Ze(a._path,n))}function eN(a,n){a=gn(a),Rn("push",a._path),Jn("push",n,a._path,!0);const s=Dy(a._repo),l=$T(s),o=ks(a,l),f=ks(a,l);let h;return n!=null?h=dd(f,n).then(()=>f):h=Promise.resolve(f),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function tN(a){return Rn("remove",a._path),dd(a,null)}function dd(a,n){a=gn(a),Rn("set",a._path),Jn("set",n,a._path,!1);const s=new $t;return cd(a._repo,a._path,n,null,s.wrapCallback(()=>{})),s.promise}function nN(a,n){a=gn(a),Rn("setPriority",a._path),rd("setPriority",n);const s=new $t;return cd(a._repo,Ze(a._path,".priority"),n,null,s.wrapCallback(()=>{})),s.promise}function iN(a,n,s){if(Rn("setWithPriority",a._path),Jn("setWithPriority",n,a._path,!1),rd("setWithPriority",s),a.key===".length"||a.key===".keys")throw"setWithPriority failed: "+a.key+" is a read-only object.";const l=new $t;return cd(a._repo,a._path,n,s,l.wrapCallback(()=>{})),l.promise}function sN(a,n){Ny("update",n,a._path);const s=new $t;return BT(a._repo,a._path,n,s.wrapCallback(()=>{})),s.promise}function aN(a){a=gn(a);const n=new hd(()=>{}),s=new pr(n);return LT(a._repo,a,s).then(l=>new yc(l,new Dn(a._repo,a._path),a._queryParams.getIndex()))}class pr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const l=s._queryParams.getIndex();return new zy("value",this,new yc(n.snapshotNode,new Dn(s._repo,s._path),l))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new ky(this,n,s):null}matches(n){return n instanceof pr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class bc{constructor(n,s){this.eventType=n,this.callbackContext=s}respondsTo(n){let s=n==="children_added"?"child_added":n;return s=s==="children_removed"?"child_removed":s,this.eventType===s}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new ky(this,n,s):null}createEvent(n,s){L(n.childName!=null,"Child events should have a childName.");const l=ks(new Dn(s._repo,s._path),n.childName),o=s._queryParams.getIndex();return new zy(n.type,this,new yc(n.snapshotNode,l,o),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof bc?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function gr(a,n,s,l,o){let f;if(typeof l=="object"&&(f=void 0,o=l),typeof l=="function"&&(f=l),o&&o.onlyOnce){const g=s,p=(b,y)=>{_h(a._repo,a,m),g(b,y)};p.userCallback=s.userCallback,p.context=s.context,s=p}const h=new hd(s,f||void 0),m=n==="value"?new pr(h):new bc(n,h);return GT(a._repo,a,m),()=>_h(a._repo,a,m)}function bh(a,n,s,l){return gr(a,"value",n,s,l)}function $_(a,n,s,l){return gr(a,"child_added",n,s,l)}function J_(a,n,s,l){return gr(a,"child_changed",n,s,l)}function ev(a,n,s,l){return gr(a,"child_moved",n,s,l)}function tv(a,n,s,l){return gr(a,"child_removed",n,s,l)}function nv(a,n,s){let l=null;const o=s?new hd(s):null;n==="value"?l=new pr(o):n&&(l=new bc(n,o)),_h(a._repo,a,l)}class Vn{}class Ly extends Vn{constructor(n,s){super(),this._value=n,this._key=s,this.type="endAt"}_apply(n){Jn("endAt",this._value,n._path,!0);const s=rh(n._queryParams,this._value,this._key);if(vc(s),rs(s),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new tn(n._repo,n._path,s,n._orderByCalled)}}function lN(a,n){return dr("endAt","key",n),new Ly(a,n)}class rN extends Vn{constructor(n,s){super(),this._value=n,this._key=s,this.type="endBefore"}_apply(n){Jn("endBefore",this._value,n._path,!1);const s=pC(n._queryParams,this._value,this._key);if(vc(s),rs(s),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new tn(n._repo,n._path,s,n._orderByCalled)}}function oN(a,n){return dr("endBefore","key",n),new rN(a,n)}class By extends Vn{constructor(n,s){super(),this._value=n,this._key=s,this.type="startAt"}_apply(n){Jn("startAt",this._value,n._path,!0);const s=lh(n._queryParams,this._value,this._key);if(vc(s),rs(s),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new tn(n._repo,n._path,s,n._orderByCalled)}}function cN(a=null,n){return dr("startAt","key",n),new By(a,n)}class uN extends Vn{constructor(n,s){super(),this._value=n,this._key=s,this.type="startAfter"}_apply(n){Jn("startAfter",this._value,n._path,!1);const s=mC(n._queryParams,this._value,this._key);if(vc(s),rs(s),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new tn(n._repo,n._path,s,n._orderByCalled)}}function fN(a,n){return dr("startAfter","key",n),new uN(a,n)}class hN extends Vn{constructor(n){super(),this._limit=n,this.type="limitToFirst"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new tn(n._repo,n._path,hC(n._queryParams,this._limit),n._orderByCalled)}}function dN(a){if(typeof a!="number"||Math.floor(a)!==a||a<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new hN(a)}class mN extends Vn{constructor(n){super(),this._limit=n,this.type="limitToLast"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new tn(n._repo,n._path,dC(n._queryParams,this._limit),n._orderByCalled)}}function pN(a){if(typeof a!="number"||Math.floor(a)!==a||a<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mN(a)}class gN extends Vn{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){_c(n,"orderByChild");const s=new je(this._path);if(me(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const l=new Vh(s),o=sc(n._queryParams,l);return rs(o),new tn(n._repo,n._path,o,!0)}}function _N(a){if(a==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(a==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(a==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ar("orderByChild","path",a),new gN(a)}class vN extends Vn{constructor(){super(...arguments),this.type="orderByKey"}_apply(n){_c(n,"orderByKey");const s=sc(n._queryParams,Wn);return rs(s),new tn(n._repo,n._path,s,!0)}}function yN(){return new vN}class bN extends Vn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(n){_c(n,"orderByPriority");const s=sc(n._queryParams,Pe);return rs(s),new tn(n._repo,n._path,s,!0)}}function SN(){return new bN}class EN extends Vn{constructor(){super(...arguments),this.type="orderByValue"}_apply(n){_c(n,"orderByValue");const s=sc(n._queryParams,qh);return rs(s),new tn(n._repo,n._path,s,!0)}}function CN(){return new EN}class TN extends Vn{constructor(n,s){super(),this._value=n,this._key=s,this.type="equalTo"}_apply(n){if(Jn("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ly(this._value,this._key)._apply(new By(this._value,this._key)._apply(n))}}function NN(a,n){return dr("equalTo","key",n),new TN(a,n)}function Ln(a,...n){let s=gn(a);for(const l of n)s=l._apply(s);return s}iT(Dn);oT(Dn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="FIREBASE_DATABASE_EMULATOR_HOST",Sh={};let xN=!1;function wN(a,n,s,l){const o=n.lastIndexOf(":"),f=n.substring(0,o),h=Nh(f);a.repoInfo_=new Hv(n,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,s),l&&(a.authTokenProvider_=l)}function Hy(a,n,s,l,o){let f=l||a.options.databaseURL;f===void 0&&(a.options.projectId||$n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=vh(f,o),m=h.repoInfo,g,p;typeof process<"u"&&__&&(p=__[AN]),p?(g=!0,f=`http://${p}?ns=${m.namespace}`,h=vh(f,o),m=h.repoInfo):g=!h.repoInfo.secure;const b=o&&g?new Na(Na.OWNER):new _E(a.name,a.options,n);Ay("Invalid Firebase Database URL",h),me(h.path)||$n("Database URL must point to the root of a Firebase Database (not including a child path).");const y=DN(m,a,b,new gE(a,s));return new ON(y,a)}function RN(a,n){const s=Sh[n];(!s||s[a.key]!==a)&&$n(`Database ${n}(${a.repoInfo_}) has already been deleted.`),Oy(a),delete s[a.key]}function DN(a,n,s,l){let o=Sh[n.name];o||(o={},Sh[n.name]=o);let f=o[a.toURLString()];return f&&$n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new zT(a,xN,s,l),o[a.toURLString()]=f,f}let ON=class{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dn(this._repo,Oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&$n("Cannot call "+n+" on a deleted database.")}};function Vy(){Ra.IS_TRANSPORT_INITIALIZED&&Vt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function MN(){Vy(),Fi.forceDisallow()}function jN(){Vy(),xn.forceDisallow(),Fi.forceAllow()}function IN(a,n,s,l={}){a=gn(a),a._checkNotDeleted("useEmulator");const o=`${n}:${s}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&Uo(l,f.repoInfo_.emulatorOptions))return;$n("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)l.mockUserToken&&$n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Na(Na.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:gS(l.mockUserToken,a.app.options.projectId);h=new Na(m)}Nh(n)&&(pS(n),yS("Database",!0)),wN(f,o,l,h)}function zN(a){a=gn(a),a._checkNotDeleted("goOffline"),Oy(a._repo)}function kN(a){a=gn(a),a._checkNotDeleted("goOnline"),QT(a._repo)}function UN(a,n){wv(a,n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(a){Tv(Dh),wa(new bi("database",(n,{instanceIdentifier:s})=>{const l=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return Hy(l,o,f,s)},"PUBLIC").setMultipleInstances(!0)),vi(v_,y_,a),vi(v_,y_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={".sv":"timestamp"};function HN(){return BN}function VN(a){return{".sv":{increment:a}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qN=class{constructor(n,s){this.committed=n,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function YN(a,n,s){if(a=gn(a),Rn("Reference.transaction",a._path),a.key===".length"||a.key===".keys")throw"Reference.transaction failed: "+a.key+" is a read-only object.";const l=s?.applyLocally??!0,o=new $t,f=(m,g,p)=>{let b=null;m?o.reject(m):(b=new yc(p,new Dn(a._repo,a._path),Pe),o.resolve(new qN(g,b)))},h=bh(a,()=>{});return PT(a._repo,a._path,n,f,h,l),o.promise}yi.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};yi.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};LN();const GN="@firebase/database-compat",QN="2.1.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new ec("@firebase/database-compat"),qy=function(a){const n="FIREBASE WARNING: "+a;PN.warn(n)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=function(a,n,s,l){if(s!==void 0&&typeof s!="boolean")throw new Error(en(a,n)+"must be a boolean.")},FN=function(a,n,s){if(n!==void 0)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(en(a,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(n){this._delegate=n}cancel(n){se("OnDisconnect.cancel",0,1,arguments.length),Nt("OnDisconnect.cancel","onComplete",n,!0);const s=this._delegate.cancel();return n&&s.then(()=>n(null),l=>n(l)),s}remove(n){se("OnDisconnect.remove",0,1,arguments.length),Nt("OnDisconnect.remove","onComplete",n,!0);const s=this._delegate.remove();return n&&s.then(()=>n(null),l=>n(l)),s}set(n,s){se("OnDisconnect.set",1,2,arguments.length),Nt("OnDisconnect.set","onComplete",s,!0);const l=this._delegate.set(n);return s&&l.then(()=>s(null),o=>s(o)),l}setWithPriority(n,s,l){se("OnDisconnect.setWithPriority",2,3,arguments.length),Nt("OnDisconnect.setWithPriority","onComplete",l,!0);const o=this._delegate.setWithPriority(n,s);return l&&o.then(()=>l(null),f=>l(f)),o}update(n,s){if(se("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let f=0;f<n.length;++f)o[""+f]=n[f];n=o,qy("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Nt("OnDisconnect.update","onComplete",s,!0);const l=this._delegate.update(n);return s&&l.then(()=>s(null),o=>s(o)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(n,s){this.committed=n,this.snapshot=s}toJSON(){return se("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(n,s){this._database=n,this._delegate=s}val(){return se("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return se("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return se("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return se("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return se("DataSnapshot.child",0,1,arguments.length),n=String(n),ar("DataSnapshot.child","path",n),new Ji(this._database,this._delegate.child(n))}hasChild(n){return se("DataSnapshot.hasChild",1,1,arguments.length),ar("DataSnapshot.hasChild","path",n),this._delegate.hasChild(n)}getPriority(){return se("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return se("DataSnapshot.forEach",1,1,arguments.length),Nt("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(s=>n(new Ji(this._database,s)))}hasChildren(){return se("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return se("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return se("DataSnapshot.ref",0,0,arguments.length),new hn(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class zt{constructor(n,s){this.database=n,this._delegate=s}on(n,s,l,o){se("Query.on",2,4,arguments.length),Nt("Query.on","callback",s,!1);const f=zt.getCancelAndContextArgs_("Query.on",l,o),h=(g,p)=>{s.call(f.context,new Ji(this.database,g),p)};h.userCallback=s,h.context=f.context;const m=f.cancel?.bind(f.context);switch(n){case"value":return bh(this._delegate,h,m),s;case"child_added":return $_(this._delegate,h,m),s;case"child_removed":return tv(this._delegate,h,m),s;case"child_changed":return J_(this._delegate,h,m),s;case"child_moved":return ev(this._delegate,h,m),s;default:throw new Error(en("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,s,l){if(se("Query.off",0,3,arguments.length),FN("Query.off",n),Nt("Query.off","callback",s,!0),r_("Query.off","context",l),s){const o=()=>{};o.userCallback=s,o.context=l,nv(this._delegate,n,o)}else nv(this._delegate,n)}get(){return aN(this._delegate).then(n=>new Ji(this.database,n))}once(n,s,l,o){se("Query.once",1,4,arguments.length),Nt("Query.once","callback",s,!0);const f=zt.getCancelAndContextArgs_("Query.once",l,o),h=new $t,m=(p,b)=>{const y=new Ji(this.database,p);s&&s.call(f.context,y,b),h.resolve(y)};m.userCallback=s,m.context=f.context;const g=p=>{f.cancel&&f.cancel.call(f.context,p),h.reject(p)};switch(n){case"value":bh(this._delegate,m,g,{onlyOnce:!0});break;case"child_added":$_(this._delegate,m,g,{onlyOnce:!0});break;case"child_removed":tv(this._delegate,m,g,{onlyOnce:!0});break;case"child_changed":J_(this._delegate,m,g,{onlyOnce:!0});break;case"child_moved":ev(this._delegate,m,g,{onlyOnce:!0});break;default:throw new Error(en("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(n){return se("Query.limitToFirst",1,1,arguments.length),new zt(this.database,Ln(this._delegate,dN(n)))}limitToLast(n){return se("Query.limitToLast",1,1,arguments.length),new zt(this.database,Ln(this._delegate,pN(n)))}orderByChild(n){return se("Query.orderByChild",1,1,arguments.length),new zt(this.database,Ln(this._delegate,_N(n)))}orderByKey(){return se("Query.orderByKey",0,0,arguments.length),new zt(this.database,Ln(this._delegate,yN()))}orderByPriority(){return se("Query.orderByPriority",0,0,arguments.length),new zt(this.database,Ln(this._delegate,SN()))}orderByValue(){return se("Query.orderByValue",0,0,arguments.length),new zt(this.database,Ln(this._delegate,CN()))}startAt(n=null,s){return se("Query.startAt",0,2,arguments.length),new zt(this.database,Ln(this._delegate,cN(n,s)))}startAfter(n=null,s){return se("Query.startAfter",0,2,arguments.length),new zt(this.database,Ln(this._delegate,fN(n,s)))}endAt(n=null,s){return se("Query.endAt",0,2,arguments.length),new zt(this.database,Ln(this._delegate,lN(n,s)))}endBefore(n=null,s){return se("Query.endBefore",0,2,arguments.length),new zt(this.database,Ln(this._delegate,oN(n,s)))}equalTo(n,s){return se("Query.equalTo",1,2,arguments.length),new zt(this.database,Ln(this._delegate,NN(n,s)))}toString(){return se("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return se("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if(se("Query.isEqual",1,1,arguments.length),!(n instanceof zt)){const s="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(s)}return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,s,l){const o={cancel:void 0,context:void 0};if(s&&l)o.cancel=s,Nt(n,"cancel",o.cancel,!0),o.context=l,r_(n,"context",o.context);else if(s)if(typeof s=="object"&&s!==null)o.context=s;else if(typeof s=="function")o.cancel=s;else throw new Error(en(n,"cancelOrContext")+" must either be a cancel callback or a context object.");return o}get ref(){return new hn(this.database,new Dn(this._delegate._repo,this._delegate._path))}}class hn extends zt{constructor(n,s){super(n,new tn(s._repo,s._path,new ic,!1)),this.database=n,this._delegate=s}getKey(){return se("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return se("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new hn(this.database,ks(this._delegate,n))}getParent(){se("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new hn(this.database,n):null}getRoot(){return se("Reference.root",0,0,arguments.length),new hn(this.database,this._delegate.root)}set(n,s){se("Reference.set",1,2,arguments.length),Nt("Reference.set","onComplete",s,!0);const l=dd(this._delegate,n);return s&&l.then(()=>s(null),o=>s(o)),l}update(n,s){if(se("Reference.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let f=0;f<n.length;++f)o[""+f]=n[f];n=o,qy("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rn("Reference.update",this._delegate._path),Nt("Reference.update","onComplete",s,!0);const l=sN(this._delegate,n);return s&&l.then(()=>s(null),o=>s(o)),l}setWithPriority(n,s,l){se("Reference.setWithPriority",2,3,arguments.length),Nt("Reference.setWithPriority","onComplete",l,!0);const o=iN(this._delegate,n,s);return l&&o.then(()=>l(null),f=>l(f)),o}remove(n){se("Reference.remove",0,1,arguments.length),Nt("Reference.remove","onComplete",n,!0);const s=tN(this._delegate);return n&&s.then(()=>n(null),l=>n(l)),s}transaction(n,s,l){se("Reference.transaction",1,3,arguments.length),Nt("Reference.transaction","transactionUpdate",n,!1),Nt("Reference.transaction","onComplete",s,!0),XN("Reference.transaction","applyLocally",l);const o=YN(this._delegate,n,{applyLocally:l}).then(f=>new ZN(f.committed,new Ji(this.database,f.snapshot)));return s&&o.then(f=>s(null,f.committed,f.snapshot),f=>s(f,!1,null)),o}setPriority(n,s){se("Reference.setPriority",1,2,arguments.length),Nt("Reference.setPriority","onComplete",s,!0);const l=nN(this._delegate,n);return s&&l.then(()=>s(null),o=>s(o)),l}push(n,s){se("Reference.push",0,2,arguments.length),Nt("Reference.push","onComplete",s,!0);const l=eN(this._delegate,n),o=l.then(h=>new hn(this.database,h));s&&o.then(()=>s(null),h=>s(h));const f=new hn(this.database,l);return f.then=o.then.bind(o),f.catch=o.catch.bind(o,void 0),f}onDisconnect(){return Rn("Reference.onDisconnect",this._delegate._path),new KN(new JT(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(n,s){this._delegate=n,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:MN,forceLongPolling:jN}}useEmulator(n,s,l={}){IN(this._delegate,n,s,l)}ref(n){if(se("database.ref",0,1,arguments.length),n instanceof hn){const s=W_(this._delegate,n.toString());return new hn(this,s)}else{const s=Uy(this._delegate,n);return new hn(this,s)}}refFromURL(n){se("database.refFromURL",1,1,arguments.length);const l=W_(this._delegate,n);return new hn(this,l)}goOffline(){return se("database.goOffline",0,0,arguments.length),zN(this._delegate)}goOnline(){return se("database.goOnline",0,0,arguments.length),kN(this._delegate)}}lr.ServerValue={TIMESTAMP:HN(),increment:a=>VN(a)};function WN({app:a,url:n,version:s,customAuthImpl:l,customAppCheckImpl:o,namespace:f,nodeAdmin:h=!1}){Tv(s);const m=new Ah("database-standalone"),g=new $f("auth-internal",m);g.setComponent(new bi("auth-internal",()=>l,"PRIVATE"));let p;return o&&(p=new $f("app-check-internal",m),p.setComponent(new bi("app-check-internal",()=>o,"PRIVATE"))),{instance:new lr(Hy(a,g,p,n,h),a),namespace:f}}var $N=Object.freeze({__proto__:null,initStandalone:WN});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=lr.ServerValue;function eA(a){a.INTERNAL.registerComponent(new bi("database-compat",(n,{instanceIdentifier:s})=>{const l=n.getProvider("app-compat").getImmediate(),o=n.getProvider("database").getImmediate({identifier:s});return new lr(o,l)},"PUBLIC").setServiceProps({Reference:hn,Query:zt,Database:lr,DataSnapshot:Ji,enableLogging:UN,INTERNAL:$N,ServerValue:JN}).setMultipleInstances(!0)),a.registerVersion(GN,QN)}eA(pt);function tA({onJoinRoom:a,onCreateRoom:n}){const[s,l]=P.useState(""),[o,f]=P.useState(""),[h,m]=P.useState(0),[g,p]=P.useState("join"),b=[{id:"knight",name:"Cavaleiro",frontImage:"/src/assets/characters/persona-1-front.png",backImage:"/src/assets/characters/persona-1-back.png",color:"transparent"},{id:"wizard",name:"Mago",frontImage:"/src/assets/characters/persona-2-front.png",backImage:"/src/assets/characters/persona-2-back.png",color:"transparent"},{id:"belo",name:"Belo",frontImage:"/src/assets/characters/persona-3-front.png",backImage:"/src/assets/characters/persona-3-back.png",color:"transparent"},{id:"show",name:"Show",frontImage:"/src/assets/characters/persona-4-front.png",backImage:"/src/assets/characters/persona-4-back.png",color:"transparent"}],y=()=>{m(ie=>(ie+1)%b.length)},E=()=>{m(ie=>(ie-1+b.length)%b.length)},z=ie=>{ie.key==="ArrowRight"?y():ie.key==="ArrowLeft"&&E()},k=b[h],$=ie=>{ie.preventDefault(),s.trim()&&o.trim()&&a(s.trim().toUpperCase(),o.trim(),k.color)},oe=ie=>{if(ie.preventDefault(),o.trim()){const ue=Math.random().toString(36).substring(2,8).toUpperCase();n(ue,o.trim(),k.color)}};return v.jsx("div",{className:"initial-container",children:v.jsxs("div",{className:"initial-card",children:[v.jsx("h1",{className:"title",children:" Ilha dos Projetos Perdidos"}),v.jsx("p",{className:"subtitle",children:"Conecte-se com outros exploradores!"}),v.jsxs("div",{className:"tabs",children:[v.jsx("button",{className:`tab ${g==="join"?"active":""}`,onClick:()=>p("join"),children:"Entrar em Sala"}),v.jsx("button",{className:`tab ${g==="create"?"active":""}`,onClick:()=>p("create"),children:"Criar Nova Sala"})]}),v.jsx("div",{className:"tab-content",children:g==="join"?v.jsxs("form",{onSubmit:$,className:"form",children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{className:"label-character",children:"Escolha seu personagem:"}),v.jsxs("div",{className:"character-carousel",onKeyDown:z,tabIndex:"0",children:[v.jsx("button",{type:"button",className:"carousel-btn prev",onClick:E,title:"Personagem anterior",children:""}),v.jsxs("div",{className:"character-display",children:[v.jsxs("div",{className:"player-preview large character-preview",children:[v.jsx("img",{src:k.frontImage,alt:`${k.name} - Frente`,onError:ie=>{ie.target.style.display="none",ie.target.parentElement.style.backgroundColor=k.color}}),v.jsx("span",{className:"preview-label",children:k.name})]}),v.jsx("span",{className:"character-name",children:k.name}),v.jsx("div",{className:"character-indicators",children:b.map((ie,ue)=>v.jsx("div",{className:`indicator ${ue===h?"active":""}`,onClick:()=>m(ue),title:`Personagem ${b[ue].name}`},ue))})]}),v.jsx("button",{type:"button",className:"carousel-btn next",onClick:y,title:"Prximo personagem",children:""})]})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{htmlFor:"playerName",children:"Seu Nome:"}),v.jsx("input",{type:"text",id:"playerName",value:o,onChange:ie=>f(ie.target.value),placeholder:"Digite seu nome",maxLength:20,required:!0})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{htmlFor:"roomCode",children:"Cdigo da Sala:"}),v.jsx("input",{type:"text",id:"roomCode",value:s,onChange:ie=>l(ie.target.value.toUpperCase()),placeholder:"Ex: ABC123",maxLength:6,style:{textTransform:"uppercase"},required:!0})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",children:" Entrar na Sala"})]}):v.jsxs("form",{onSubmit:oe,className:"form",children:[v.jsxs("div",{className:"input-group",children:[v.jsx("label",{children:"Escolha seu personagem:"}),v.jsxs("div",{className:"character-carousel",onKeyDown:z,tabIndex:"0",children:[v.jsx("button",{type:"button",className:"carousel-btn prev",onClick:E,title:"Personagem anterior",children:""}),v.jsxs("div",{className:"character-display",children:[v.jsxs("div",{className:"player-preview large character-preview",children:[v.jsx("img",{src:k.frontImage,alt:`${k.name} - Frente`,onError:ie=>{ie.target.style.display="none",ie.target.parentElement.style.backgroundColor=k.color}}),v.jsx("span",{className:"preview-label",children:k.name})]}),v.jsx("span",{className:"character-name",children:k.name}),v.jsx("div",{className:"character-indicators",children:b.map((ie,ue)=>v.jsx("div",{className:`indicator ${ue===h?"active":""}`,onClick:()=>m(ue),title:`Personagem ${b[ue].name}`},ue))})]}),v.jsx("button",{type:"button",className:"carousel-btn next",onClick:y,title:"Prximo personagem",children:""})]})]}),v.jsxs("div",{className:"input-group",children:[v.jsx("label",{htmlFor:"playerNameCreate",children:"Seu Nome:"}),v.jsx("input",{type:"text",id:"playerNameCreate",value:o,onChange:ie=>f(ie.target.value),placeholder:"Digite seu nome",maxLength:20,required:!0})]}),v.jsx("div",{className:"info-box",children:v.jsx("p",{children:" Um cdigo nico ser gerado automaticamente para sua sala!"})}),v.jsx("button",{type:"submit",className:"btn btn-success",children:" Criar Sala"})]})}),v.jsx("div",{className:"footer",children:v.jsx("p",{children:"Todos os direitos reservados"})})]})})}function nA({isOpen:a,onClose:n,cards:s,onAddCard:l,onRemoveCard:o,ownerName:f,isOwner:h,canAddCards:m}){const[g,p]=P.useState("");if(!a)return null;const b=y=>{y.preventDefault(),g.trim()&&m?(l(g),p("")):m||alert(" O tempo para adicionar cards no est ativo!")};return v.jsx("div",{className:"chest-modal-overlay",onClick:n,children:v.jsxs("div",{className:"chest-modal",onClick:y=>y.stopPropagation(),children:[v.jsxs("div",{className:"chest-header",children:[v.jsxs("h2",{children:[" Ba de ",f]}),v.jsx("button",{className:"close-button",onClick:n,children:""})]}),v.jsxs("div",{className:"chest-content",children:[h&&v.jsx("div",{className:"add-card-section",children:m?v.jsxs("form",{onSubmit:b,className:"add-card-form",children:[v.jsx("input",{type:"text",value:g,onChange:y=>p(y.target.value),placeholder:"Digite o texto do card...",maxLength:200,className:"card-input"}),v.jsx("button",{type:"submit",className:"add-button",children:" Adicionar Card"})]}):v.jsxs("div",{className:"time-inactive-message",children:[v.jsx("p",{children:" O tempo para adicionar cards no est ativo."}),v.jsx("p",{children:"Aguarde o dono da sala iniciar o timer."})]})}),v.jsx("div",{className:"cards-container",children:s.length===0?v.jsx("p",{className:"empty-message",children:h?"Seu ba est vazio. Adicione alguns cards!":"Este ba est vazio."}):s.map(y=>v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-text",children:y.text}),v.jsxs("div",{className:"card-info",children:[v.jsxs("span",{className:"card-author",children:["Por: ",y.createdBy]}),h&&v.jsx("button",{className:"remove-button",onClick:()=>o(y.id),title:"Remover card",children:""})]})]},y.id))})]})]})})}function iA({isOpen:a,onClose:n,onStartTimer:s}){const[l,o]=P.useState(5),[f,h]=P.useState(""),[m,g]=P.useState(!1);if(!a)return null;const p=[1,3,5,10,15,30],b=()=>{const y=m?parseInt(f):l;if(!y||y<1||y>180){alert(" Por favor, escolha um tempo entre 1 e 180 minutos");return}s(y)};return v.jsx("div",{className:"timer-modal-overlay",onClick:n,children:v.jsxs("div",{className:"timer-modal",onClick:y=>y.stopPropagation(),children:[v.jsxs("div",{className:"timer-header",children:[v.jsx("h2",{children:" Configurar Timer da Sala"}),v.jsx("button",{className:"close-button",onClick:n,children:""})]}),v.jsxs("div",{className:"timer-content",children:[v.jsx("p",{className:"timer-description",children:"Defina por quanto tempo os jogadores podero adicionar cards aos seus bas. Quando o tempo acabar, ningum poder mais adicionar novos cards."}),v.jsxs("div",{className:"time-selection",children:[v.jsx("h3",{children:"Escolha o tempo:"}),v.jsx("div",{className:"preset-times",children:p.map(y=>v.jsxs("button",{className:`preset-button ${!m&&l===y?"active":""}`,onClick:()=>{o(y),g(!1)},children:[y," min"]},y))}),v.jsxs("div",{className:"custom-time",children:[v.jsxs("label",{className:"custom-checkbox",children:[v.jsx("input",{type:"checkbox",checked:m,onChange:y=>g(y.target.checked)}),v.jsx("span",{children:"Tempo personalizado:"})]}),m&&v.jsxs("div",{className:"custom-input-group",children:[v.jsx("input",{type:"number",value:f,onChange:y=>h(y.target.value),placeholder:"Ex: 20",min:"1",max:"180",className:"custom-input"}),v.jsx("span",{children:"minutos"})]})]})]}),v.jsxs("div",{className:"timer-actions",children:[v.jsx("button",{className:"cancel-button",onClick:n,children:"Cancelar"}),v.jsx("button",{className:"start-button",onClick:b,children:" Iniciar Timer"})]}),v.jsx("div",{className:"timer-info",children:v.jsxs("p",{children:[" ",v.jsx("strong",{children:"Dica:"})," Voc poder parar o timer a qualquer momento durante a sesso."]})})]})]})})}const sA="https://api.deepai.org/api/summarization",aA=async a=>{try{const s=`Resumo de retrospectiva gil - Planos de ao prioritrios da equipe: ${a.map((g,p)=>`Plano ${p+1} (${g.voteCount} votos): ${g.text}. Ao planejada: ${g.action||"No definido"}. Responsvel: ${g.responsible||"No definido"}. Prazo: ${g.deadline||"No definido"}.`).join(" ")}`,l=new FormData;l.append("text",s);const o=await fetch(sA,{method:"POST",headers:{"Api-Key":"52a991e5-bf08-48a9-b10c-bc0084d770a5"},body:l});if(!o.ok)throw o.status===401?new Error("Chave da API do DeepAI invlida. Verifique sua configurao."):o.status===429?new Error("Limite de requisies excedido (500/dia). Tente novamente amanh."):o.status===500?new Error("Erro interno do servidor DeepAI. Tente novamente mais tarde."):new Error(`Erro na API DeepAI: ${o.status}`);const f=await o.json();if(!f.output)throw new Error("Resposta invlida da API DeepAI.");return` Resumo dos Planos de Ao:

${f.output.trim()}

 Este resumo foi gerado automaticamente com base nos ${a.length} planos de ao mais votados da retrospectiva.`}catch(n){throw console.error("Erro ao gerar resumo com DeepAI:",n),n.message.includes("API")?n:new Error("Erro ao conectar com a API do DeepAI. Verifique sua conexo.")}},lA=({isOpen:a,onClose:n,allCards:s,onNewRound:l,isOwner:o,onVote:f,cardVotes:h,userVotes:m,isVotingPhase:g,votingFinished:p,onStartVoting:b,onFinishVoting:y,onRestartVoting:E,gameCode:z,startIslandVoting:k,finishIslandVoting:$,voteIslandCard:oe,savePlan:ie,islandVotingPhase:ue,islandUserVotes:Ee,islandVoteCounts:Ie,planningPhase:fe,cardPlans:Fe,sessionSummary:ct,finalizePlanning:Ne,otherPlayers:yt,userId:Qt,rawVotingData:Rt,votingDataTimestamp:it})=>{const[Dt,qt]=P.useState("results"),[pe,D]=P.useState({}),[B,W]=P.useState(""),[Ce,C]=P.useState(!1),[I,V]=P.useState(null),H=()=>{const re={},ee=[];Object.keys(s||{}).forEach(Z=>{const We=s[Z]||{};Object.keys(We).forEach(Te=>{ee.push(We[Te].id)})});const U=ee.length,Q=Object.keys(m||{}).length;return re[Qt]={name:"Voc",votesCount:Q,totalCards:U,isReady:Q===U&&U>0},Object.keys(yt||{}).forEach(Z=>{const We=yt[Z];let Te=0;if(Rt&&Object.keys(Rt).length>0)ee.forEach(we=>{const $e=Rt[we];$e&&["manter","melhorar","deixarNaIlha"].some(Gn=>($e[Gn]||{})[Z]!==void 0)&&Te++});else{const we=Object.values(h||{}).reduce(($e,Ye)=>$e+(Ye.manter||0)+(Ye.melhorar||0)+(Ye.deixarNaIlha||0),0);we>0&&U>0&&(Te=Math.min(Math.floor(we/Object.keys(yt).length),U))}re[Z]={name:We.name||"Jogador",votesCount:Te,totalCards:U,isReady:Te===U&&U>0}}),re},K=()=>{if(!g||p)return null;const re=H(),ee=Object.entries(re);if(ee.length===0)return null;const U=`${it}-${Object.keys(Rt).length}`;return v.jsxs("div",{className:"players-status-section",children:[v.jsx("h3",{children:"Status dos Jogadores"}),v.jsx("div",{className:"players-status-list",children:ee.map(([Q,Z])=>v.jsxs("div",{className:`player-status-item ${Z.isReady?"ready":"voting"}`,children:[v.jsxs("div",{className:"player-name",children:[Z.name,Q===Qt&&v.jsx("span",{className:"you-indicator",children:" (voc)"})]}),v.jsxs("div",{className:"player-progress",children:[v.jsxs("span",{className:"vote-progress",children:[Z.votesCount,"/",Z.totalCards," votos"]}),v.jsx("div",{className:"status-indicator",children:Z.isReady?v.jsx("span",{className:"ready-badge",children:" Pronto"}):v.jsx("span",{className:"voting-badge",children:" Votando"})})]})]},`${Q}-${U}`))})]},U)};Wg.useEffect(()=>{ct&&ct.finalized?qt("summary"):qt(fe?"planning":ue?"island-voting":"results")},[ct,fe,ue]),P.useEffect(()=>{W(""),V(null)},[pe,Fe]),Wg.useEffect(()=>{Fe&&D(Fe)},[Fe]);const X=(()=>{const re={manter:[],melhorar:[],deixarNaIlha:[]};if(!s||typeof s!="object")return re;const ee=[];return Object.keys(s).forEach(U=>{const Q=s[U]||{};Object.keys(Q).forEach(Z=>{const We=Q[Z];ee.push({id:Z,text:We.text||We.content||"",owner:U,...We})})}),ee.forEach(U=>{const Q=h[U.id]||{},Z={manter:Q.manter||0,melhorar:Q.melhorar||0,deixarNaIlha:Q.deixarNaIlha||0};if(Z.manter+Z.melhorar+Z.deixarNaIlha===0)return;const Te=Object.keys(Z).reduce((we,$e)=>Z[we]>Z[$e]?we:$e);re[Te].push({...U,voteCount:Z,winningOption:Te})}),re})(),xe=(()=>{const re=X.deixarNaIlha.length;return re>5?Math.ceil(re*.2):3})(),nn=()=>{k&&k()},os=re=>{if(Object.keys(Ee).filter(U=>Ee[U]).length>=xe){alert(`Voc pode votar em no mximo ${xe} cards!`);return}oe&&oe(re)},ei=()=>{$&&$()},On=(re,ee,U)=>{D(Q=>({...Q,[re]:{...Q[re],[ee]:U}})),ie&&ie(re,ee,U)},qn=()=>{if(g&&!p)return Yn();const re=X.manter.length+X.melhorar.length+X.deixarNaIlha.length,ee=[];Object.keys(s).forEach(Q=>{const Z=s[Q]||{};Object.keys(Z).forEach(We=>{const Te=Z[We];ee.push({id:We,text:Te.text||Te.content||"",owner:Q,...Te})})});const U=ee.filter(Q=>{const Z=h[Q.id]||{};return(Z.manter||0)+(Z.melhorar||0)+(Z.deixarNaIlha||0)===0});return v.jsxs("div",{className:"results-content",children:[v.jsx("h2",{children:"Resultados da Votao"}),re===0&&U.length===0?v.jsxs("div",{className:"no-data",children:[v.jsx("p",{children:"Nenhum card encontrado para exibir resultados."}),v.jsx("p",{children:"Verifique se h cards cadastrados e se a votao foi finalizada."})]}):v.jsxs(v.Fragment,{children:[U.length>0&&v.jsxs("div",{className:"category-section pending-votes",children:[v.jsxs("h3",{children:[" Aguardando Votao",v.jsxs("span",{className:"card-count",children:["(",U.length," cards)"]})]}),v.jsx("p",{children:"Estes cards ainda no receberam votos:"}),v.jsx("div",{className:"cards-grid",children:U.map(Q=>v.jsxs("div",{className:"result-card pending-card",children:[v.jsx("p",{className:"card-text",children:Q.text}),v.jsx("div",{className:"vote-summary",children:v.jsx("span",{className:"pending-text",children:"Ainda no votado"})})]},Q.id))})]}),Object.entries(X).map(([Q,Z])=>Z.length>0&&v.jsxs("div",{className:`category-section ${Q}`,children:[v.jsxs("h3",{children:[Q==="manter"&&" Manter",Q==="melhorar"&&" Melhorar",Q==="deixarNaIlha"&&" Deixar na Ilha",v.jsxs("span",{className:"card-count",children:["(",Z.length," cards)"]})]}),v.jsx("div",{className:"cards-grid",children:Z.map(We=>v.jsxs("div",{className:"result-card",children:[v.jsx("p",{className:"card-text",children:We.text}),v.jsxs("div",{className:"vote-summary",children:[v.jsxs("span",{className:"vote-item manter",children:["Manter: ",We.voteCount.manter]}),v.jsxs("span",{className:"vote-item melhorar",children:["Melhorar: ",We.voteCount.melhorar]}),v.jsxs("span",{className:"vote-item deixar",children:["Ilha: ",We.voteCount.deixarNaIlha]})]})]},We.id))})]},Q))]}),o&&X.deixarNaIlha.length>0&&v.jsxs("div",{className:"island-voting-info",children:[v.jsx("h3",{children:"Prxima Fase: Votao da Ilha"}),v.jsx("p",{children:"Os cards que foram para a ilha passaro por uma nova votao."}),v.jsxs("p",{children:["Cada participante ter direito a ",v.jsxs("strong",{children:[xe," votos"]}),"."]}),v.jsx("button",{className:"btn btn-primary",onClick:nn,children:"Iniciar Votao da Ilha"})]}),o&&!g&&!p&&v.jsxs("div",{className:"results-actions voting-actions",children:[v.jsx("h3",{children:"Iniciar Nova Votao"}),v.jsx("p",{className:"player-info",children:"Inicie uma votao para que todos possam classificar os cards"}),v.jsx("button",{className:"start-voting-button",onClick:b,children:"Iniciar Votao"})]}),o&&p&&v.jsxs("div",{className:"results-actions",children:[v.jsxs("div",{className:"voting-control-buttons",children:[v.jsx("button",{className:"restart-voting-button",onClick:E,children:"Reiniciar Votao"}),v.jsx("button",{className:"new-round-button-large",onClick:l,children:"Nova Rodada"})]}),v.jsx("p",{className:"action-hint",children:"Reinicie a votao ou inicie uma nova sesso"})]})]})},Yn=()=>{const re=[];return Object.keys(s).forEach(ee=>{const U=s[ee]||{};Object.keys(U).forEach(Q=>{const Z=U[Q];re.push({id:Q,text:Z.text||Z.content||"",owner:ee,...Z})})}),v.jsxs("div",{className:"results-content",children:[v.jsx("h2",{children:" Votao em Andamento"}),v.jsxs("div",{className:"voting-legend",children:[v.jsx("h3",{children:"Como votar nos cards:"}),v.jsxs("div",{className:"vote-options-legend",children:[v.jsxs("div",{className:"legend-item raft",children:[v.jsx("span",{className:"legend-icon",children:""}),v.jsx("span",{className:"legend-text",children:"Manter - Este card est bom como est"})]}),v.jsxs("div",{className:"legend-item island",children:[v.jsx("span",{className:"legend-icon",children:""}),v.jsx("span",{className:"legend-text",children:"Melhorar - Este card precisa ser melhorado"})]}),v.jsxs("div",{className:"legend-item shipwreck",children:[v.jsx("span",{className:"legend-icon",children:""}),v.jsx("span",{className:"legend-text",children:"Deixar na Ilha - Este card no  prioritrio agora"})]})]})]}),o&&v.jsxs("div",{className:"results-actions voting-actions",children:[v.jsx("h3",{children:"Controles da Votao"}),v.jsx("p",{className:"player-info",children:"Voc pode finalizar ou reiniciar a votao"}),v.jsxs("div",{className:"voting-control-buttons",children:[v.jsx("button",{className:"finish-voting-button",onClick:y,children:"Finalizar Votao"}),v.jsx("button",{className:"restart-voting-button",onClick:E,children:"Reiniciar Votao"})]})]}),K(),re.length===0?v.jsxs("div",{className:"no-cards",children:[v.jsx("p",{children:"Nenhum card encontrado para votao."}),v.jsx("p",{children:"Adicione cards aos bas antes de iniciar a votao."})]}):v.jsxs("div",{className:"anonymous-cards",children:[v.jsxs("h3",{children:["Vote em cada card (",re.length," cards total)"]}),v.jsx("div",{className:"cards-grid",children:re.map(ee=>{const U=m[ee.id],Q=h[ee.id]||{};return v.jsxs("div",{className:"anonymous-card",children:[v.jsx("p",{className:"card-text",children:ee.text}),v.jsxs("div",{className:"voting-buttons",children:[v.jsx("button",{className:`vote-btn raft ${U==="manter"?"voted":""}`,onClick:()=>f(ee.id,"manter"),title:"Manter - Este card est bom como est",children:""}),v.jsx("button",{className:`vote-btn island ${U==="melhorar"?"voted":""}`,onClick:()=>f(ee.id,"melhorar"),title:"Melhorar - Este card precisa ser melhorado",children:""}),v.jsx("button",{className:`vote-btn shipwreck ${U==="deixarNaIlha"?"voted":""}`,onClick:()=>f(ee.id,"deixarNaIlha"),title:"Deixar na Ilha - Este card no  prioritrio agora",children:""})]}),U&&v.jsxs("div",{className:"user-vote-indicator",children:["Seu voto: ",U==="manter"?" Manter":U==="melhorar"?" Melhorar":" Deixar na Ilha"]}),(o||p)&&v.jsxs("div",{className:"vote-results",children:[v.jsxs("span",{className:"vote-count raft",children:[" ",Q.manter||0]}),v.jsxs("span",{className:"vote-count island",children:[" ",Q.melhorar||0]}),v.jsxs("span",{className:"vote-count shipwreck",children:[" ",Q.deixarNaIlha||0]})]}),!o&&!p&&v.jsx("div",{className:"secret-voting-indicator",children:v.jsx("span",{children:" Votao secreta em andamento"})})]},ee.id)})})]}),!o&&v.jsx("div",{className:"results-info voting-info",children:v.jsx("p",{className:"player-info",children:"O dono da sala controlar quando finalizar a votao"})})]})},cs=()=>{const re=X.deixarNaIlha,ee=Object.keys(Ee).filter(U=>Ee[U]);return v.jsxs("div",{className:"island-voting-content",children:[v.jsx("h2",{children:" Votao da Ilha"}),v.jsxs("div",{className:"voting-info",children:[v.jsx("p",{children:"Vote nos cards que voc considera mais importantes para serem trabalhados."}),v.jsxs("p",{children:["Voc tem ",v.jsxs("strong",{children:[xe-ee.length," votos restantes"]})," de ",xe,"."]}),!o&&ue&&v.jsxs("div",{className:"secret-vote-notice",children:[" ",v.jsx("strong",{children:"Votao secreta:"})," Os votos sero revelados apenas no final"]})]}),v.jsx("div",{className:"island-cards-grid",children:re.map(U=>v.jsxs("div",{className:`island-card ${Ee[U.id]?"voted":""}`,children:[v.jsx("p",{className:"card-text",children:U.text}),v.jsxs("div",{className:"card-actions",children:[(o||!ue)&&v.jsxs("span",{className:"vote-count",children:[Ie[U.id]||0," votos"]}),!o&&ue&&v.jsx("span",{className:"secret-vote-indicator",children:" Votos secretos"}),v.jsx("button",{className:`vote-btn ${Ee[U.id]?"voted":""}`,onClick:()=>os(U.id),children:Ee[U.id]?" Votado":"Votar"})]})]},U.id))}),o&&v.jsx("div",{className:"phase-controls",children:v.jsx("button",{className:"btn btn-success",onClick:ei,children:"Finalizar Votao da Ilha"})})]})},Hs=()=>{const re=X.deixarNaIlha,ee=re.map(U=>({...U,voteCount:Ie[U.id]||0})).sort((U,Q)=>Q.voteCount-U.voteCount).slice(0,Math.min(3,re.length));return v.jsxs("div",{className:"planning-content",children:[v.jsx("h2",{children:" Planejamento"}),v.jsx("p",{children:"Agora vamos planejar as aes para os cards mais votados:"}),v.jsx("div",{className:"planning-cards",children:ee.map((U,Q)=>v.jsxs("div",{className:"planning-card",children:[v.jsxs("div",{className:"card-header",children:[v.jsxs("h3",{children:["#",Q+1," - ",U.voteCount," votos"]}),v.jsx("p",{className:"card-text",children:U.text})]}),o?v.jsxs("div",{className:"planning-form",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"O que vamos fazer?"}),v.jsx("textarea",{value:pe[U.id]?.action||"",onChange:Z=>On(U.id,"action",Z.target.value),placeholder:"Descreva a ao que ser tomada..."})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Quem ser o responsvel?"}),v.jsx("input",{type:"text",value:pe[U.id]?.responsible||"",onChange:Z=>On(U.id,"responsible",Z.target.value),placeholder:"Nome do responsvel..."})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Qual  o prazo para a primeira etapa?"}),v.jsx("input",{type:"date",value:pe[U.id]?.deadline||"",onChange:Z=>On(U.id,"deadline",Z.target.value)})]})]}):v.jsx("div",{className:"planning-view",children:pe[U.id]?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"plan-item",children:[v.jsx("strong",{children:"O que vamos fazer:"}),v.jsx("p",{children:pe[U.id].action||"Aguardando preenchimento..."})]}),v.jsxs("div",{className:"plan-item",children:[v.jsx("strong",{children:"Responsvel:"}),v.jsx("p",{children:pe[U.id].responsible||"Aguardando preenchimento..."})]}),v.jsxs("div",{className:"plan-item",children:[v.jsx("strong",{children:"Prazo:"}),v.jsx("p",{children:pe[U.id].deadline||"Aguardando preenchimento..."})]})]}):v.jsx("p",{children:"O dono da sala est preenchendo as informaes de planejamento..."})})]},U.id))}),o&&v.jsx("div",{className:"planning-actions",children:v.jsx("button",{className:"btn btn-success",onClick:Ne,children:"Finalizar Planejamento"})})]})},ft=async re=>{C(!0),V(null);try{const ee=re.map(Q=>({text:Q.text,voteCount:Q.voteCount,action:pe[Q.id]?.action||null,responsible:pe[Q.id]?.responsible||null,deadline:pe[Q.id]?.deadline||null})),U=await aA(ee);W(U)}catch(ee){V(ee.message)}finally{C(!1)}},Ha=()=>{const re=X.deixarNaIlha,ee=re.map(U=>({...U,voteCount:Ie[U.id]||0})).sort((U,Q)=>Q.voteCount-U.voteCount).slice(0,Math.min(3,re.length));return v.jsxs("div",{className:"summary-content",children:[v.jsx("h2",{children:" Resumo da Sesso"}),v.jsx("p",{children:"Aqui est o resumo completo da sua retrospectiva:"}),ee.length>0&&v.jsxs("div",{className:"action-plans-summary-card",children:[v.jsx("h3",{children:" Resumo dos Planos de Ao"}),v.jsx("p",{children:"Principais pontos identificados e suas aes planejadas:"}),v.jsxs("div",{className:"unified-planning-card",children:[v.jsxs("div",{className:"ai-summary-section",children:[v.jsxs("div",{className:"ai-header",children:[v.jsx("h4",{children:" Resumo Inteligente"}),!B&&!Ce&&!I&&v.jsx("button",{className:"generate-ai-button",onClick:()=>ft(ee),disabled:!1,children:"Gerar Resumo IA"})]}),v.jsxs("div",{className:"ai-summary-content",children:[Ce&&v.jsxs("div",{className:"ai-loading",children:[v.jsx("div",{className:"loading-spinner"}),v.jsx("p",{children:"Gerando resumo inteligente..."})]}),I&&v.jsxs("div",{className:"ai-error",children:[v.jsxs("p",{children:[" ",I]}),v.jsx("button",{className:"retry-button",onClick:()=>ft(ee),children:"Tentar Novamente"})]}),B&&v.jsxs("div",{className:"ai-result",children:[v.jsx("p",{children:B}),v.jsx("button",{className:"regenerate-button",onClick:()=>ft(ee),disabled:Ce,children:" Gerar Novo Resumo"})]}),!B&&!Ce&&!I&&v.jsx("div",{className:"ai-summary-placeholder",children:v.jsx("p",{children:"Clique no boto acima para gerar um resumo inteligente dos seus planos de ao. API gratuita com 500 chamadas/dia."})})]})]}),v.jsx("div",{className:"planning-items-list",children:ee.map((U,Q)=>v.jsxs("div",{className:"planning-item-summary",children:[v.jsxs("div",{className:"item-header",children:[v.jsxs("span",{className:"item-number",children:["#",Q+1]}),v.jsxs("span",{className:"item-votes",children:[U.voteCount," votos"]})]}),v.jsxs("div",{className:"item-content",children:[v.jsxs("p",{className:"item-text",children:[v.jsx("strong",{children:"Questo:"})," ",U.text]}),pe[U.id]?v.jsxs("div",{className:"item-plan",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Ao:"})," ",pe[U.id].action||"No definido"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Responsvel:"})," ",pe[U.id].responsible||"No definido"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Prazo:"})," ",pe[U.id].deadline||"No definido"]})]}):v.jsx("p",{className:"no-plan",children:"Plano no foi definido para este item."})]})]},U.id))})]})]}),v.jsxs("div",{className:"categories-summary",children:[v.jsx("h3",{children:"Classificao dos Cards"}),Object.entries(X).map(([U,Q])=>Q.length>0&&v.jsxs("div",{className:`category-section ${U}`,children:[v.jsxs("h4",{children:[U==="manter"&&" Manter",U==="melhorar"&&" Melhorar",U==="deixarNaIlha"&&" Deixar na Ilha",v.jsxs("span",{className:"card-count",children:["(",Q.length," cards)"]})]}),v.jsx("div",{className:"cards-grid",children:Q.map(Z=>v.jsxs("div",{className:"result-card",children:[v.jsx("p",{className:"card-text",children:Z.text}),v.jsxs("div",{className:"vote-summary",children:[v.jsxs("span",{className:"vote-item manter",children:["Manter: ",Z.voteCount.manter]}),v.jsxs("span",{className:"vote-item melhorar",children:["Melhorar: ",Z.voteCount.melhorar]}),v.jsxs("span",{className:"vote-item deixar",children:["Ilha: ",Z.voteCount.deixarNaIlha]})]})]},Z.id))})]},U))]}),v.jsxs("div",{className:"summary-actions",children:[v.jsx("button",{className:"new-round-button-large",onClick:l,children:"Nova Retrospectiva"}),v.jsx("p",{className:"action-hint",children:"Obrigado por usar a Ilha dos Projetos Perdidos!"})]})]})},Ci=()=>{switch(Dt){case"summary":return Ha();case"island-voting":return cs();case"planning":return Hs();default:return qn()}};return a?v.jsx("div",{className:"results-modal-overlay",onClick:n,children:v.jsxs("div",{className:"results-modal",onClick:re=>re.stopPropagation(),children:[v.jsxs("div",{className:"results-header",children:[v.jsxs("h1",{children:[Dt==="summary"&&" Resumo da Sesso",Dt==="island-voting"&&" Votao da Ilha",Dt==="planning"&&" Planejamento",Dt==="results"&&" Resultados"]}),v.jsx("button",{className:"close-button",onClick:n,children:""})]}),v.jsx("div",{className:"results-content",children:Ci()})]})}):null},rA={apiKey:"AIzaSyCikzvMgOhpMdZeY5aClGj0UibhLASlPEk",authDomain:"retrospectiva-project.firebaseapp.com",databaseURL:"https://retrospectiva-project-default-rtdb.firebaseio.com",projectId:"retrospectiva-project",storageBucket:"retrospectiva-project.firebasestorage.app",messagingSenderId:"181592480596",appId:"1:181592480596:web:9ab0a3a7556588d64bc6c1"};pt.apps.length||pt.initializeApp(rA);const De=pt.database(),jo=[{id:"knight",name:"Cavaleiro",frontImage:"/src/assets/characters/persona-1-front.png",backImage:"/src/assets/characters/persona-1-back.png",color:"transparent"},{id:"wizard",name:"Mago",frontImage:"/src/assets/characters/persona-2-front.png",backImage:"/src/assets/characters/persona-2-back.png",color:"transparent"},{id:"belo",name:"Belo",frontImage:"/src/assets/characters/persona-3-front.png",backImage:"/src/assets/characters/persona-3-back.png",color:"transparent"},{id:"show",name:"Show",frontImage:"/src/assets/characters/persona-4-front.png",backImage:"/src/assets/characters/persona-4-back.png",color:"transparent"}];function oA(){const[a,n]=P.useState({x:100,y:100}),[s,l]=P.useState({}),[o,f]=P.useState(null),[h,m]=P.useState(""),[g,p]=P.useState("#3b82f6"),[b,y]=P.useState({id:"knight",name:"Cavaleiro",frontImage:"/src/assets/characters/knight-front.svg",backImage:"/src/assets/characters/knight-back.svg",color:"#3b82f6"}),[E,z]=P.useState("front"),[k,$]=P.useState(""),[oe,ie]=P.useState(!1),[ue,Ee]=P.useState([]),[Ie,fe]=P.useState(null),[Fe,ct]=P.useState({}),[Ne,yt]=P.useState(!1),[Qt,Rt]=P.useState(null),[it,Dt]=P.useState(0),[qt,pe]=P.useState(!1),[D,B]=P.useState(!1),[W,Ce]=P.useState({}),[C,I]=P.useState(null),[V,H]=P.useState(!1),[K,ge]=P.useState({}),[X,ut]=P.useState({}),[xe,nn]=P.useState({}),[os,ei]=P.useState(0),[On,qn]=P.useState(!1),[Yn,cs]=P.useState(!1),[Hs,ft]=P.useState({}),[Ha,Ci]=P.useState({}),[re,ee]=P.useState(!1),[U,Q]=P.useState({}),[Z,We]=P.useState(null),Te=P.useRef("player_"+Math.floor(Math.random()*1e4)),we=P.useRef(null),$e=P.useRef(null),Ye=P.useRef(null),ti=P.useRef(null),Gn=P.useRef(null),kt=P.useRef(null),Mn=P.useRef(null),jn=P.useRef(null),Pt=P.useRef(null),In=P.useRef(null),_n=P.useRef(null),Sc=(q,G,ye)=>{const Je=jo.find(et=>et.color===ye)||jo[0];$(q),m(G),p(ye),y(Je),f(q),yt(!1)},_r=(q,G,ye)=>{const Je=jo.find(et=>et.color===ye)||jo[0];$(q),m(G),p(ye),y(Je),f(q),yt(!0)},vr=()=>{we.current&&we.current.remove(),$e.current&&$e.current.off(),Ye.current&&Ye.current.off(),ti.current&&ti.current.off(),Gn.current&&Gn.current.off(),Mn.current&&Mn.current.off(),jn.current&&jn.current.off(),Pt.current&&Pt.current.off(),In.current&&In.current.off(),_n.current&&_n.current.off(),kt.current&&clearInterval(kt.current),f(null),$(""),m(""),p("#3b82f6"),l({}),n({x:100,y:100}),ie(!1),Ee([]),fe(null),ct({}),yt(!1),Rt(null),Dt(0),pe(!1),B(!1),Ce({}),I(null),H(!1),ge({}),ut({}),qn(!1)},Va=async()=>{try{await navigator.clipboard.writeText(k);const q=document.querySelector(".room-code");if(q){const G=q.textContent;q.textContent=" Cdigo da sala copiado!",q.style.backgroundColor="#667eea",setTimeout(()=>{q.textContent=G,q.style.backgroundColor=""},2e3)}}catch{const q=document.createElement("textarea");q.value=k,document.body.appendChild(q),q.select(),document.execCommand("copy"),document.body.removeChild(q),alert(`Cdigo copiado: ${k}`)}},us=q=>{if(!Ne||!o)return;const ye={endTime:Date.now()+q*60*1e3,duration:q,isActive:!0,startedBy:h,startedAt:pt.database.ServerValue.TIMESTAMP};De.ref(`rooms/${o}/timer`).set(ye),pe(!1)},Ec=()=>{!Ne||!o||De.ref(`rooms/${o}/timer`).set({isActive:!1,stoppedBy:h,stoppedAt:pt.database.ServerValue.TIMESTAMP})},yr=q=>{const G=Math.floor(q/60),ye=q%60;return`${G.toString().padStart(2,"0")}:${ye.toString().padStart(2,"0")}`},Vs=()=>Qt&&Qt.isActive&&it>0,qa=()=>{!Ne||!o||(De.ref(`rooms/${o}/session`).set({showResults:!0,finishedAt:pt.database.ServerValue.TIMESTAMP,finishedBy:h}),B(!0))},qs=()=>{!Ne||!o||(De.ref(`rooms/${o}/session`).remove(),De.ref(`rooms/${o}/voting`).remove(),De.ref(`rooms/${o}/islandVoting`).remove(),De.ref(`rooms/${o}/planning`).remove(),B(!1),H(!1),ge({}),ut({}),qn(!1),cs(!1),ft({}),Ci({}),ee(!1),Q({}),pe(!0))},br=()=>{!Ne||!o||De.ref(`rooms/${o}/islandVoting`).set({isActive:!0,startedAt:pt.database.ServerValue.TIMESTAMP,startedBy:h,votes:{}})},Cc=()=>{!Ne||!o||(De.ref(`rooms/${o}/islandVoting/isActive`).set(!1),De.ref(`rooms/${o}/planning`).set({isActive:!0,startedAt:pt.database.ServerValue.TIMESTAMP,startedBy:h,plans:{}}))},Qn=q=>{if(!o||!h||!Yn)return;const G=De.ref(`rooms/${o}/islandVoting/votes/${q}/${Te.current}`);Hs[q]?(G.remove(),ft(ye=>{const Je={...ye};return delete Je[q],Je})):(G.set({playerName:h,votedAt:pt.database.ServerValue.TIMESTAMP}),ft(ye=>({...ye,[q]:!0})))},bt=(q,G,ye)=>{!o||!re||(De.ref(`rooms/${o}/planning/plans/${q}/${G}`).set(ye),Q(Je=>({...Je,[q]:{...Je[q],[G]:ye}})))},Ut=()=>{!Ne||!o||De.ref(`rooms/${o}/sessionSummary`).set({finalized:!0,finalizedAt:pt.database.ServerValue.TIMESTAMP,finalizedBy:h,gameCode:k})},Ti=()=>{!Ne||!o||De.ref(`rooms/${o}/voting`).set({isActive:!0,startedAt:pt.database.ServerValue.TIMESTAMP,startedBy:h,votes:{}})},Ya=()=>{!Ne||!o||De.ref(`rooms/${o}/voting`).update({isActive:!1,finished:!0,finishedAt:pt.database.ServerValue.TIMESTAMP})},Tc=()=>{!Ne||!o||confirm("Tem certeza que deseja reiniciar a votao? Todos os votos sero perdidos.")&&De.ref(`rooms/${o}/voting`).set({isActive:!0,startedAt:pt.database.ServerValue.TIMESTAMP,startedBy:h,votes:{},restarted:!0,restartedAt:pt.database.ServerValue.TIMESTAMP})},Nc=(q,G)=>{if(!o||!h||!V||On)return;ut(et=>({...et,[q]:G}));const ye=De.ref(`rooms/${o}/voting/votes/${q}/${G}/${Te.current}`);De.ref(`rooms/${o}/voting/votes/${q}`).once("value",et=>{const Xt=et.val()||{};["manter","melhorar","deixarNaIlha"].forEach(Xe=>{Xt[Xe]&&Xt[Xe][Te.current]&&De.ref(`rooms/${o}/voting/votes/${q}/${Xe}/${Te.current}`).remove()}),ye.set({playerName:h,votedAt:pt.database.ServerValue.TIMESTAMP})})},Sr=q=>{fe(q),ie(!0),Ye.current=De.ref(`rooms/${o}/chests/${q}`),Ye.current.on("value",G=>{const ye=G.val()||[];Ee(Array.isArray(ye)?ye:Object.values(ye))})},fs=()=>{ie(!1),fe(null),Ye.current&&(Ye.current.off(),Ye.current=null)},Ga=q=>{if(!Ie||!q.trim())return;if(!Vs()){alert(" O tempo para adicionar cards no est ativo ou j acabou!");return}const G={id:Date.now(),text:q.trim(),createdAt:pt.database.ServerValue.TIMESTAMP,createdBy:h};De.ref(`rooms/${o}/chests/${Ie}`).push(G)},Ni=q=>{if(!Ie)return;De.ref(`rooms/${o}/chests/${Ie}`).once("value",ye=>{const Je=ye.val()||{};for(let et in Je)if(Je[et].id===q){De.ref(`rooms/${o}/chests/${Ie}/${et}`).remove();break}})},ni=(q,G)=>{q.stopPropagation(),G===Te.current&&Sr(G)};P.useEffect(()=>{if(!o||!h)return;const q=Te.current;we.current=De.ref(`rooms/${o}/players/${q}`),$e.current=De.ref(`rooms/${o}/players`),ti.current=De.ref(`rooms/${o}/chests`),ti.current.on("value",Xe=>{const le=Xe.val()||{},Ot={};for(let ht in le){const lt=le[ht];Ot[ht]=Object.keys(lt||{}).length}ct(Ot),Ce(le)}),Gn.current=De.ref(`rooms/${o}/timer`),Gn.current.on("value",Xe=>{const le=Xe.val();if(Rt(le),le&&le.isActive&&le.endTime){const Ot=()=>{const ht=Date.now(),lt=Math.max(0,Math.floor((le.endTime-ht)/1e3));Dt(lt),lt===0&&kt.current&&(clearInterval(kt.current),kt.current=null)};Ot(),kt.current&&clearInterval(kt.current),kt.current=setInterval(Ot,1e3)}else Dt(0),kt.current&&(clearInterval(kt.current),kt.current=null)}),Mn.current=De.ref(`rooms/${o}/session`),Mn.current.on("value",Xe=>{const le=Xe.val();I(le),le&&le.showResults?B(!0):Ne||B(!1)}),jn.current=De.ref(`rooms/${o}/voting`),jn.current.on("value",Xe=>{const le=Xe.val();if(le){if(H(le.isActive||!1),qn(le.finished||!1),le.votes){nn({...le.votes}),ei(Date.now());const Ot={};Object.keys(le.votes).forEach(lt=>{const Lt=le.votes[lt];Ot[lt]={manter:Object.keys(Lt.manter||{}).length,melhorar:Object.keys(Lt.melhorar||{}).length,deixarNaIlha:Object.keys(Lt.deixarNaIlha||{}).length}}),ge(Ot);const ht={};Object.keys(le.votes).forEach(lt=>{const Lt=le.votes[lt];["manter","melhorar","deixarNaIlha"].forEach(sn=>{Lt[sn]&&Lt[sn][Te.current]&&(ht[lt]=sn)})}),ut(ht)}}else H(!1),qn(!1),ge({}),ut({}),nn({}),ei(0)}),Pt.current=De.ref(`rooms/${o}/islandVoting`),Pt.current.on("value",Xe=>{const le=Xe.val();if(le){if(cs(le.isActive||!1),le.votes){const Ot={},ht={};Object.keys(le.votes).forEach(lt=>{const Lt=le.votes[lt];Ot[lt]=Object.keys(Lt||{}).length,Lt[Te.current]&&(ht[lt]=!0)}),Ci(Ot),ft(ht)}}else cs(!1),Ci({}),ft({})}),In.current=De.ref(`rooms/${o}/planning`),In.current.on("value",Xe=>{const le=Xe.val();le?(ee(le.isActive||!1),le.plans&&Q(le.plans)):(ee(!1),Q({}))}),_n.current=De.ref(`rooms/${o}/sessionSummary`),_n.current.on("value",Xe=>{const le=Xe.val();We(le)}),(Xe=>{we.current&&we.current.set({...Xe,name:h,color:g,character:b,view:E,lastSeen:pt.database.ServerValue.TIMESTAMP})})({x:100,y:100}),we.current.onDisconnect().remove();const ye=Xe=>{const le=Xe.val(),Ot={};if(le)for(let ht in le){if(ht===q)continue;const lt=le[ht].x/le[ht].innerWidth*100,Lt=le[ht].y/le[ht].innerHeight*100;Ot[ht]={...le[ht],x:window.innerWidth/100*lt,y:window.innerHeight/100*Lt}}l(Ot)};$e.current.on("value",ye);const Je=()=>{we.current&&we.current.remove()},et=()=>{Je()},Xt=()=>{document.hidden&&Je()};return window.addEventListener("beforeunload",et),document.addEventListener("visibilitychange",Xt),()=>{window.removeEventListener("beforeunload",et),document.removeEventListener("visibilitychange",Xt),$e.current&&$e.current.off("value",ye),ti.current&&ti.current.off(),Gn.current&&Gn.current.off(),Mn.current&&Mn.current.off(),jn.current&&jn.current.off(),Pt.current&&Pt.current.off(),In.current&&In.current.off(),_n.current&&_n.current.off(),kt.current&&clearInterval(kt.current),Je()}},[o,h,g,b,E,Ne]),P.useEffect(()=>{we.current&&o&&we.current.set({...a,name:h,color:g,character:b,view:E,lastSeen:pt.database.ServerValue.TIMESTAMP,innerHeight:window.innerHeight,innerWidth:window.innerWidth})},[a,h,g,b,E,o]);const hs=q=>{const G=q.currentTarget.getBoundingClientRect(),ye=q.clientY-G.top-25,Je=a.y,et=(q.clientX-G.left-25)/window.innerWidth*100,Xt=ye/window.innerHeight*100,Xe={x:window.innerWidth/100*et,y:window.innerHeight/100*Xt};ye<Je?z("back"):ye>Je&&z("front"),n(Xe)};return v.jsxs(v.Fragment,{children:[o?v.jsxs("div",{className:"game-container",onClick:hs,children:[v.jsxs("div",{className:"room-header",children:[v.jsxs("div",{className:"room-info",children:[v.jsxs("span",{className:"room-code",onClick:Va,children:["Sala: ",k]}),v.jsxs("span",{className:"player-name",children:["Jogador: ",h]}),Ne&&v.jsx("span",{className:"room-owner",children:" Dono"})]}),v.jsxs("div",{className:"timer-info",children:[Vs()?v.jsxs("div",{className:"timer-active",children:[v.jsxs("span",{className:"timer-display",children:[" ",yr(it)]}),Ne&&v.jsx("button",{className:"stop-timer-button",onClick:Ec,children:" Parar"})]}):Qt&&Qt.endTime&&it===0?v.jsx("div",{className:"timer-finished",children:Ne?v.jsxs("div",{className:"owner-options",children:[v.jsx("button",{className:"show-results-button",onClick:qa,children:" Ver Resultados"}),v.jsx("button",{className:"new-round-button",onClick:qs,children:" Nova Rodada"})]}):v.jsx("span",{className:"timer-finished-msg",children:" Tempo acabou - Aguardando dono"})}):v.jsx("div",{className:"timer-inactive",children:Ne?v.jsx("button",{className:"start-timer-button",onClick:()=>pe(!0),children:" Iniciar Timer"}):v.jsx("span",{className:"timer-waiting",children:" Aguardando timer"})}),!Ne&&(V||On||Yn||re||Z)&&v.jsx("button",{className:"participant-results-button",onClick:()=>B(!0),title:"Abrir votao/resultados",children:V?" Votar":Yn?" Votar Ilha":re?" Planejamento":Z?" Resumo":" Resultados"})]}),v.jsx("button",{className:"leave-button",onClick:vr,children:" Sair da Sala"})]}),v.jsxs("div",{className:"game-world",children:[v.jsxs("div",{className:"player-container",children:[v.jsxs("div",{id:"me",className:"player me character-player",style:{left:`${a.x}px`,top:`${a.y}px`,backgroundColor:b.color},onClick:q=>ni(q,Te.current),children:[v.jsx("img",{src:E==="front"?b.frontImage:b.backImage,alt:`${b.name} - ${E==="front"?"Frente":"Costas"}`,className:"character-image",onError:q=>{q.target.style.display="none"}}),v.jsx("span",{className:"player-label",children:"Voc"})]}),v.jsxs("div",{className:"chest my-chest clickable",style:{left:`${a.x+40}px`,top:`${a.y-45}px`},onClick:q=>ni(q,Te.current),title:"Clique para abrir seu ba",children:["",(Fe[Te.current]||0)>0&&v.jsx("span",{className:"chest-counter my-counter",children:Fe[Te.current]})]})]}),Object.entries(s).map(([q,G])=>v.jsxs("div",{className:"player-container",children:[v.jsxs("div",{className:"player other character-player",style:{left:`${G.x}px`,top:`${G.y}px`,backgroundColor:G.character?.color||G.color||"#6b7280"},children:[G.character?v.jsx("img",{src:G.view==="back"?G.character.backImage:G.character.frontImage,alt:`${G.character.name} - ${G.view==="back"?"Costas":"Frente"}`,className:"character-image",onError:ye=>{ye.target.style.display="none"}}):null,v.jsx("span",{className:"player-label",children:G.name||q})]}),v.jsxs("div",{className:"chest other-chest",style:{left:`${G.x+60}px`,top:`${G.y}px`},title:`Ba de ${G.name||q} - ${Fe[q]||0} itens`,children:["",(Fe[q]||0)>0&&v.jsx("span",{className:"chest-counter other-counter",children:Fe[q]})]})]},q))]})," "]}):v.jsx(tA,{onJoinRoom:Sc,onCreateRoom:_r}),oe&&v.jsx(nA,{isOpen:oe,onClose:fs,cards:ue,onAddCard:Ga,onRemoveCard:Ni,ownerName:Ie===Te.current?h:s[Ie]?.name||Ie,isOwner:Ie===Te.current,canAddCards:Vs()}),qt&&v.jsx(iA,{isOpen:qt,onClose:()=>pe(!1),onStartTimer:us}),D&&v.jsx(lA,{isOpen:D,onClose:()=>B(!1),allCards:W,onNewRound:qs,isOwner:Ne,onVote:Nc,cardVotes:K,userVotes:X,isVotingPhase:V,votingFinished:On,onStartVoting:Ti,onFinishVoting:Ya,onRestartVoting:Tc,gameCode:k,startIslandVoting:br,finishIslandVoting:Cc,voteIslandCard:Qn,savePlan:bt,islandVotingPhase:Yn,islandUserVotes:Hs,islandVoteCounts:Ha,planningPhase:re,cardPlans:U,sessionSummary:Z,finalizePlanning:Ut,otherPlayers:s,userId:Te.current,rawVotingData:xe,votingDataTimestamp:os})]})}aS.createRoot(document.getElementById("root")).render(v.jsx(P.StrictMode,{children:v.jsx(oA,{})}));
